{"parentUuid":"6f8fd7a7-4834-4b9b-a93d-ca249376df87","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01SQEgKnRFmbv4PodzR8bByu","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"Good, I found the reference image for stage 1. Let me update it to use the new characterSheetV3 template:","signature":"EpECCkYICxgCKkA8OyafgzsVHC1rOLPBcQRrps5w481GcWhvEH5zzEvBvSvOm3GSSUt4UaoWXnE8RbF8leUYehnmJ6LeO5eNkFHsEgzvdO/f2L1nTbOkHv8aDI27vUDNhhiLsOEHDCIws5Sp4mYDlV9oT3oh70ZSSMffM3PV5EwXPnqtl3c8S1U1AnnNLUWQJ96WPsOrEzuGKnlsXzHoftmtByOssr98Z9+f8Nx+EAlJMALAvci1KgAaU6pwLQUG4LunXC1XZKCnw5KKzWi+xaeQJhGege67owBp597XM8ubQqfuXgco8wfkfcmRokLODsEXBIvTsal7cA0v15X5Fmzk/fscQHxpAGRdXqhNsf950Zv5GAE="}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":11,"cache_creation_input_tokens":554,"cache_read_input_tokens":49230,"cache_creation":{"ephemeral_5m_input_tokens":554,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard"}},"requestId":"req_011CXDwJiCu5aaknHqaeXgdf","type":"assistant","uuid":"7367a4db-8da7-49e5-b445-bc7139b580b8","timestamp":"2026-01-18T00:59:02.289Z"}
{"parentUuid":"7367a4db-8da7-49e5-b445-bc7139b580b8","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01SQEgKnRFmbv4PodzR8bByu","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01WznKg2MZ2d13uuCmSwWUG5","name":"Edit","input":{"replace_all":false,"file_path":"D:\\git\\directors-palette-v2\\src\\features\\shot-creator\\types\\recipe.types.ts","old_string":"        referenceImages: [\n          {\n            id: 'template_charsheet_advanced',\n            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\n            name: 'Character Sheet Layout Template',\n            aspectRatio: '21:9',\n          }\n        ],","new_string":"        referenceImages: [\n          {\n            id: 'template_charsheet_v3',\n            url: SYSTEM_TEMPLATE_URLS.characterSheetV3,\n            name: 'Character Sheet V3 Layout Template',\n            aspectRatio: '21:9',\n          }\n        ],"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":11,"cache_creation_input_tokens":554,"cache_read_input_tokens":49230,"cache_creation":{"ephemeral_5m_input_tokens":554,"ephemeral_1h_input_tokens":0},"output_tokens":292,"service_tier":"standard"}},"requestId":"req_011CXDwJiCu5aaknHqaeXgdf","type":"assistant","uuid":"2a197c8c-bfe6-4e72-9ea2-88e9d33e1f74","timestamp":"2026-01-18T00:59:04.170Z"}
{"parentUuid":"2a197c8c-bfe6-4e72-9ea2-88e9d33e1f74","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","type":"user","message":{"role":"user","content":[{"type":"tool_result","content":"<tool_use_error>Found 3 matches of the string to replace, but replace_all is false. To replace all occurrences, set replace_all to true. To replace only one occurrence, please provide more context to uniquely identify the instance.\nString:         referenceImages: [\n          {\n            id: 'template_charsheet_advanced',\n            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\n            name: 'Character Sheet Layout Template',\n            aspectRatio: '21:9',\n          }\n        ],</tool_use_error>","is_error":true,"tool_use_id":"toolu_01WznKg2MZ2d13uuCmSwWUG5"}]},"uuid":"4bc60f45-0894-4651-836f-cb09b6068a58","timestamp":"2026-01-18T00:59:04.287Z","toolUseResult":"Error: Found 3 matches of the string to replace, but replace_all is false. To replace all occurrences, set replace_all to true. To replace only one occurrence, please provide more context to uniquely identify the instance.\nString:         referenceImages: [\n          {\n            id: 'template_charsheet_advanced',\n            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\n            name: 'Character Sheet Layout Template',\n            aspectRatio: '21:9',\n          }\n        ],","sourceToolAssistantUUID":"2a197c8c-bfe6-4e72-9ea2-88e9d33e1f74"}
{"parentUuid":"4bc60f45-0894-4651-836f-cb09b6068a58","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01VrHjRTx3ujvBwhQiS8fvN3","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"There are 3 matches. I need to find specifically the CHARACTER_SHEET_FROM_DESCRIPTION recipe. Let me search for it:","signature":"EpwCCkYICxgCKkA2ZrNcc3b3jeDE7p4rXlOWMk3OxWtJGtw/ndjbp9rH6T6kzFZQw3xHJ0+/G02rk2KuV+wAKBhZ4a7Ac/syuMg4EgyG+N0d7Qhc1KEUbkMaDCEUra5PsJEGEpuVuSIwgCk88JtVM4urQc2EoMnpL1FqPQRwnZz3ATyU7tBjkpvsZDNTyj4IjHJLjX3LcDJ+KoMB3PyErake91gbRELkryOcWhK6Um3LvW6ejDNwuk0HH4oKh6tlhyg9CVmtgSupFSf9+aP2vUrpvWSpKQpTP6RNJGUf2SYpLRIGtj1Evhx/pUHr66EVPB6qWlnRUiWbyqudTDGuYLAqfsB3FNkWNfJpI1/RntOaXoes3dP9i4X/2N9oXQUYAQ=="}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":12,"cache_creation_input_tokens":470,"cache_read_input_tokens":49784,"cache_creation":{"ephemeral_5m_input_tokens":470,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CXDwK9Wus4k9ztYq7PKiR","type":"assistant","uuid":"05dd36ba-3917-4385-b4b1-066c5b9fe3ec","timestamp":"2026-01-18T00:59:07.351Z"}
{"parentUuid":"05dd36ba-3917-4385-b4b1-066c5b9fe3ec","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01VrHjRTx3ujvBwhQiS8fvN3","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_015KUtHp3kkBNUjPxB7H7eL7","name":"Grep","input":{"pattern":"CHARACTER_SHEET_FROM_DESCRIPTION","path":"src/features/shot-creator/types/recipe.types.ts","output_mode":"content","-n":true}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":12,"cache_creation_input_tokens":470,"cache_read_input_tokens":49784,"cache_creation":{"ephemeral_5m_input_tokens":470,"ephemeral_1h_input_tokens":0},"output_tokens":166,"service_tier":"standard"}},"requestId":"req_011CXDwK9Wus4k9ztYq7PKiR","type":"assistant","uuid":"40a51cc1-177e-4f5e-b33f-a5e1191850a6","timestamp":"2026-01-18T00:59:08.453Z"}
{"parentUuid":"40a51cc1-177e-4f5e-b33f-a5e1191850a6","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_015KUtHp3kkBNUjPxB7H7eL7","type":"tool_result","content":"No matches found"}]},"uuid":"e49b3fd5-64f2-429d-afac-48ed7a811acb","timestamp":"2026-01-18T00:59:11.176Z","toolUseResult":{"mode":"content","numFiles":0,"filenames":[],"content":"","numLines":0},"sourceToolAssistantUUID":"40a51cc1-177e-4f5e-b33f-a5e1191850a6"}
{"parentUuid":"e49b3fd5-64f2-429d-afac-48ed7a811acb","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_019MJGuuvoSb6bqoBhvYUbv8","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"Hmm, let me search for \"Character Sheet (from Description)\" which is the name of the recipe:","signature":"EoQCCkYICxgCKkCkdqO3Mqna9xPYYSeSZ58ssEWmc+t4RYWpkrzXvP15Pblp7TZh18XItaUekkNCVHZaq8mxbmNfysjDppPyIil3EgxY1H6AzF2QWkssu/saDC20iWDafaq1AUAa+yIwWe3565oviiAvgYMxVhMAiJnmYs9EyuuqAKNQv8z9CYPir/ejNM+AUjbKx/yAYIrXKmxUoY6wdvM1bGRnOVVHlQ9nYn27hE25ZRCGDRe/1yQfJW0Rb7Ryk8G2QT99oYc/386dHjd5tbeMLuWCXn/LwMRWWo03PXxSqiu0mR5WWF9NpAoUsmvfRc8Toi5ELJV1OUDCYC3S/hZR+pFrpPAYAQ=="}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":11,"cache_creation_input_tokens":189,"cache_read_input_tokens":50254,"cache_creation":{"ephemeral_5m_input_tokens":189,"ephemeral_1h_input_tokens":0},"output_tokens":5,"service_tier":"standard"}},"requestId":"req_011CXDwKemoVSssK4w2Qqujf","type":"assistant","uuid":"9d02653c-96f3-4367-bbf2-646e422525fb","timestamp":"2026-01-18T00:59:14.242Z"}
{"parentUuid":"9d02653c-96f3-4367-bbf2-646e422525fb","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_019MJGuuvoSb6bqoBhvYUbv8","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01CShKuAoFQfjnmAGuMVsqoV","name":"Grep","input":{"pattern":"Character Sheet \\(from Description\\)","path":"src/features/shot-creator/types/recipe.types.ts","output_mode":"content","-n":true}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":11,"cache_creation_input_tokens":189,"cache_read_input_tokens":50254,"cache_creation":{"ephemeral_5m_input_tokens":189,"ephemeral_1h_input_tokens":0},"output_tokens":157,"service_tier":"standard"}},"requestId":"req_011CXDwKemoVSssK4w2Qqujf","type":"assistant","uuid":"fa032eb2-aaf2-483c-8d85-ad87175dc05b","timestamp":"2026-01-18T00:59:15.111Z"}
{"parentUuid":"fa032eb2-aaf2-483c-8d85-ad87175dc05b","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01CShKuAoFQfjnmAGuMVsqoV","type":"tool_result","content":"No matches found"}]},"uuid":"d7bfe315-198c-43b1-84d5-9fb9be18a596","timestamp":"2026-01-18T00:59:17.698Z","toolUseResult":{"mode":"content","numFiles":0,"filenames":[],"content":"","numLines":0},"sourceToolAssistantUUID":"fa032eb2-aaf2-483c-8d85-ad87175dc05b"}
{"parentUuid":"d7bfe315-198c-43b1-84d5-9fb9be18a596","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_018BJe2JS9H4RVp7mxoAEuLr","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"Let me search more broadly for \"from Description\":","signature":"EtoBCkYICxgCKkAJBGvkcuROZ8iwvh2qq5uz9U4zb4vFv3ix6mzZO9rcO4Xs2P48c7zgx3nCjHx8J0rDsgkLBD6TAUvQwHkOX2wjEgykwHuAt/qbB33FGwcaDNrqUO5slBRkGtkteyIwfIR/0qwh+RxwjvNF9arx8sj1f6dxZCF4n0qGJCHw09tY2tnzqKVYRoDbHaSG1Ls+KkJc8TN+QcdMCgUtwqHKDnuXAXQvNa8ZbT/+myajNIWCi5hT8ZMrFIIw3+2lm5Hz7MVczV92eC5sQoXc5p7JSuqM1P8YAQ=="}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":11,"cache_creation_input_tokens":179,"cache_read_input_tokens":50443,"cache_creation":{"ephemeral_5m_input_tokens":179,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CXDwL8XQb6vxnTyRkjdD2","type":"assistant","uuid":"be09381d-5732-4149-a871-9ddf4c8b7040","timestamp":"2026-01-18T00:59:20.502Z"}
{"parentUuid":"be09381d-5732-4149-a871-9ddf4c8b7040","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_018BJe2JS9H4RVp7mxoAEuLr","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01AdvtXfJ8xGEQf4EZY3ityq","name":"Grep","input":{"pattern":"from Description","path":"src/features/shot-creator/types/recipe.types.ts","output_mode":"content","-n":true}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":11,"cache_creation_input_tokens":179,"cache_read_input_tokens":50443,"cache_creation":{"ephemeral_5m_input_tokens":179,"ephemeral_1h_input_tokens":0},"output_tokens":139,"service_tier":"standard"}},"requestId":"req_011CXDwL8XQb6vxnTyRkjdD2","type":"assistant","uuid":"83c7dc20-8c35-4fb1-9231-f016bd5b4360","timestamp":"2026-01-18T00:59:21.216Z"}
{"parentUuid":"83c7dc20-8c35-4fb1-9231-f016bd5b4360","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01AdvtXfJ8xGEQf4EZY3ityq","type":"tool_result","content":"617:  // Character Sheet from Description - No photo required"}]},"uuid":"65b03f8d-f3eb-4ceb-b9ce-34675f2c57fc","timestamp":"2026-01-18T00:59:23.881Z","toolUseResult":{"mode":"content","numFiles":0,"filenames":[],"content":"617:  // Character Sheet from Description - No photo required","numLines":1},"sourceToolAssistantUUID":"83c7dc20-8c35-4fb1-9231-f016bd5b4360"}
{"parentUuid":"65b03f8d-f3eb-4ceb-b9ce-34675f2c57fc","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01D2J6LNfrbzG6FB6CZEV4re","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"Great! Line 617 has the recipe. Let me read that section to see the full recipe:","signature":"EvgBCkYICxgCKkApXa2Eb6y8hmeEsFYXXrTXDiB0t3NlgVHC/JgNELn5HiC43910fuXwaIljsNYXB8FGMMwMuJzMCJY6KxsjG2uXEgyYqKFERs9qhgQMLJsaDMYoVXS74BUBFrKqmiIwnhmiCbZ3SjQaH3m6F160cjiwDI423hncdEceThdXW8DVVYEXWw7VBwkL/ndUayZaKmAwo90D7gMhVhcHI93TEQ2Fb+iIYbcURGeISV9M4oS1d/V93yRxKfy7XZXU67wGwbmpTJZTnCNKAHzW7oUQ3/ywwuht8Thvk8Ry8OpnB8qy5KgD/3l20uEWioaLRsYgKI8YAQ=="}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":11,"cache_creation_input_tokens":170,"cache_read_input_tokens":50622,"cache_creation":{"ephemeral_5m_input_tokens":170,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CXDwLb6KtJEX5BqZbVnPX","type":"assistant","uuid":"e7a19d5a-bd1e-44e3-98b4-510089958b52","timestamp":"2026-01-18T00:59:26.605Z"}
{"parentUuid":"e7a19d5a-bd1e-44e3-98b4-510089958b52","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01D2J6LNfrbzG6FB6CZEV4re","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01R6LDDNR5beG6ooerpRJFQE","name":"Read","input":{"file_path":"D:\\git\\directors-palette-v2\\src\\features\\shot-creator\\types\\recipe.types.ts","offset":615,"limit":100}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":11,"cache_creation_input_tokens":170,"cache_read_input_tokens":50622,"cache_creation":{"ephemeral_5m_input_tokens":170,"ephemeral_1h_input_tokens":0},"output_tokens":141,"service_tier":"standard"}},"requestId":"req_011CXDwLb6KtJEX5BqZbVnPX","type":"assistant","uuid":"536e49e1-cd39-4b20-b418-0c054b674fb4","timestamp":"2026-01-18T00:59:27.665Z"}
{"parentUuid":"536e49e1-cd39-4b20-b418-0c054b674fb4","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01R6LDDNR5beG6ooerpRJFQE","type":"tool_result","content":"   615→  },\n   616→\n   617→  // Character Sheet from Description - No photo required\n   618→  {\n   619→    name: 'Character Sheet (From Description)',\n   620→    description: 'Generate a character sheet from text description only - no reference photo needed',\n   621→    recipeNote: 'Perfect for creating consistent characters when you only have a written description. Stage 1 generates the character appearance, Stage 2 creates the full character sheet.',\n   622→    stages: [\n   623→      // STAGE 0: Generate character appearance from description\n   624→      {\n   625→        id: 'stage_desc_char_0',\n   626→        order: 0,\n   627→        type: 'generation',\n   628→        template: `Generate a character based on this description:\n   629→\n   630→CHARACTER NAME: @<<CHARACTER_NAME:name!>>\n   631→VISUAL DESCRIPTION: <<CHARACTER_DESCRIPTION:text!>>\n   632→\n   633→Create a full-body character portrait:\n   634→- Standing pose, facing forward (slight 3/4 angle is acceptable)\n   635→- Clean WHITE or light gray background\n   636→- Neutral expression, relaxed posture\n   637→- Soft, even studio lighting\n   638→- Show full body from head to feet\n   639→- High detail on face and distinctive features\n   640→\n   641→STYLE: <<STYLE:select(realistic,cinematic,anime,3D render,cartoon,illustrated,concept art,oil painting,watercolor,Pixar-style,Disney-style)>>\n   642→\n   643→The character should match the description EXACTLY - pay attention to:\n   644→- Age, gender, ethnicity\n   645→- Hair color, style, length\n   646→- Eye color\n   647→- Build/body type\n   648→- Clothing and accessories\n   649→- Any distinctive features (scars, tattoos, glasses, etc.)\n   650→\n   651→Output: High-quality full-body character portrait suitable for reference.`,\n   652→        fields: [],\n   653→        referenceImages: [],\n   654→      },\n   655→      // STAGE 1: Generate character sheet with expressions\n   656→      {\n   657→        id: 'stage_desc_char_1',\n   658→        order: 1,\n   659→        type: 'generation',\n   660→        template: `CHARACTER: @<<CHARACTER_NAME:name!>>\n   661→\n   662→Create a professional character reference sheet using the previous image as the definitive reference.\n   663→\n   664→CRITICAL: Every view and expression must clearly be the SAME PERSON.\n   665→Facial structure, proportions, and distinctive features must remain IDENTICAL across all views.\n   666→\n   667→CHARACTER SHEET LAYOUT (21:9 aspect ratio):\n   668→\n   669→LEFT SECTION - FULL BODY VIEWS:\n   670→- Large front view with proportion reference\n   671→- Side profile view\n   672→- Back view\n   673→- All views on same baseline for height reference\n   674→- Below: COLOR PALETTE strip (skin, hair, eye colors, main clothing colors)\n   675→\n   676→RIGHT SECTION - EXPRESSIONS (2 rows × 5 columns):\n   677→Row 1: Neutral, Happy, Sad, Angry, Surprised\n   678→Row 2: Speaking, Shouting, Whispering, Confident, Scared\n   679→\n   680→TOP: Character name \"@<<CHARACTER_NAME:name!>>\" prominently displayed\n   681→\n   682→STYLE: Match the style from Stage 1 exactly\n   683→\n   684→CRITICAL REQUIREMENTS:\n   685→- SOLID BLACK LINES (4-6 pixels) separating each expression cell\n   686→- All expressions maintain the SAME face structure\n   687→- Clean white/light gray background throughout\n   688→- Production-ready layout for animation/illustration reference`,\n   689→        fields: [],\n   690→        referenceImages: [\n   691→          {\n   692→            id: 'template_charsheet_advanced',\n   693→            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\n   694→            name: 'Character Sheet Layout Template',\n   695→            aspectRatio: '21:9',\n   696→          }\n   697→        ],\n   698→      },\n   699→    ],\n   700→    suggestedAspectRatio: '21:9',\n   701→    suggestedModel: 'nano-banana-pro',\n   702→    isQuickAccess: true,\n   703→    quickAccessLabel: 'DescSheet',\n   704→    categoryId: 'characters',\n   705→  },\n   706→\n   707→  // 9-Frame Cinematic Contact Sheet\n   708→  {\n   709→    name: '9-Frame Cinematic',\n   710→    description: '3x3 cinematic contact sheet covering full shot range',\n   711→    recipeNote: 'Attach a reference image. The model will create 9 different framings of the same subject with black grid lines for extraction.',\n   712→    stages: [{\n   713→      id: 'stage_0',\n   714→      order: 0,\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"7ccae9b1-519c-404c-b352-167bcac5e9c1","timestamp":"2026-01-18T00:59:29.121Z","toolUseResult":{"type":"text","file":{"filePath":"D:\\git\\directors-palette-v2\\src\\features\\shot-creator\\types\\recipe.types.ts","content":"  },\n\n  // Character Sheet from Description - No photo required\n  {\n    name: 'Character Sheet (From Description)',\n    description: 'Generate a character sheet from text description only - no reference photo needed',\n    recipeNote: 'Perfect for creating consistent characters when you only have a written description. Stage 1 generates the character appearance, Stage 2 creates the full character sheet.',\n    stages: [\n      // STAGE 0: Generate character appearance from description\n      {\n        id: 'stage_desc_char_0',\n        order: 0,\n        type: 'generation',\n        template: `Generate a character based on this description:\n\nCHARACTER NAME: @<<CHARACTER_NAME:name!>>\nVISUAL DESCRIPTION: <<CHARACTER_DESCRIPTION:text!>>\n\nCreate a full-body character portrait:\n- Standing pose, facing forward (slight 3/4 angle is acceptable)\n- Clean WHITE or light gray background\n- Neutral expression, relaxed posture\n- Soft, even studio lighting\n- Show full body from head to feet\n- High detail on face and distinctive features\n\nSTYLE: <<STYLE:select(realistic,cinematic,anime,3D render,cartoon,illustrated,concept art,oil painting,watercolor,Pixar-style,Disney-style)>>\n\nThe character should match the description EXACTLY - pay attention to:\n- Age, gender, ethnicity\n- Hair color, style, length\n- Eye color\n- Build/body type\n- Clothing and accessories\n- Any distinctive features (scars, tattoos, glasses, etc.)\n\nOutput: High-quality full-body character portrait suitable for reference.`,\n        fields: [],\n        referenceImages: [],\n      },\n      // STAGE 1: Generate character sheet with expressions\n      {\n        id: 'stage_desc_char_1',\n        order: 1,\n        type: 'generation',\n        template: `CHARACTER: @<<CHARACTER_NAME:name!>>\n\nCreate a professional character reference sheet using the previous image as the definitive reference.\n\nCRITICAL: Every view and expression must clearly be the SAME PERSON.\nFacial structure, proportions, and distinctive features must remain IDENTICAL across all views.\n\nCHARACTER SHEET LAYOUT (21:9 aspect ratio):\n\nLEFT SECTION - FULL BODY VIEWS:\n- Large front view with proportion reference\n- Side profile view\n- Back view\n- All views on same baseline for height reference\n- Below: COLOR PALETTE strip (skin, hair, eye colors, main clothing colors)\n\nRIGHT SECTION - EXPRESSIONS (2 rows × 5 columns):\nRow 1: Neutral, Happy, Sad, Angry, Surprised\nRow 2: Speaking, Shouting, Whispering, Confident, Scared\n\nTOP: Character name \"@<<CHARACTER_NAME:name!>>\" prominently displayed\n\nSTYLE: Match the style from Stage 1 exactly\n\nCRITICAL REQUIREMENTS:\n- SOLID BLACK LINES (4-6 pixels) separating each expression cell\n- All expressions maintain the SAME face structure\n- Clean white/light gray background throughout\n- Production-ready layout for animation/illustration reference`,\n        fields: [],\n        referenceImages: [\n          {\n            id: 'template_charsheet_advanced',\n            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\n            name: 'Character Sheet Layout Template',\n            aspectRatio: '21:9',\n          }\n        ],\n      },\n    ],\n    suggestedAspectRatio: '21:9',\n    suggestedModel: 'nano-banana-pro',\n    isQuickAccess: true,\n    quickAccessLabel: 'DescSheet',\n    categoryId: 'characters',\n  },\n\n  // 9-Frame Cinematic Contact Sheet\n  {\n    name: '9-Frame Cinematic',\n    description: '3x3 cinematic contact sheet covering full shot range',\n    recipeNote: 'Attach a reference image. The model will create 9 different framings of the same subject with black grid lines for extraction.',\n    stages: [{\n      id: 'stage_0',\n      order: 0,","numLines":100,"startLine":615,"totalLines":3178}},"sourceToolAssistantUUID":"536e49e1-cd39-4b20-b418-0c054b674fb4"}
{"parentUuid":"7ccae9b1-519c-404c-b352-167bcac5e9c1","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01PtkUS9yE42iVqTfz56S8oF","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"This is a different recipe than the one we were working on! This is \"Character Sheet (From Description)\" which uses a simpler 2-stage process with a dropdown for STYLE.\n\nThe recipe we updated earlier was at line 2040+ and is called \"Storybook Character Sheet (From Description)\". Let me check line 2040 to verify:","signature":"EuADCkYICxgCKkDUnTacPb7n7+wFPM0h1ALQXGInTqp7TaeateniLeaYTnRDqJfVOllNivqwHw03SCga6IbLrFNunvgz3kKrg+sdEgwjLLXR72v5CDCD50UaDAo8SfeSso8rSg8UZCIwpGx2hiUWFUdTiThilFWthwTWlUFsleakemYVF0HZm7VM51+N+4EVatqUgx8Z946zKscCVk36we5bJzjy5pqQ2ClYs3+OGhBdZzpVYlZ/gxywYGLVLfDBnHCq0RHEgmmNp3G90fH0bJ6o7qzO/PR33fLPUS76U0eE8A7/68cPgr/5Ix3xNUbSIf7EFA8QDav0jzL+o/PEYvJgOd6K7nEMeHppuE3jGdiXsthhO9yDN7c94KuPJq4Atfq8a/2Q4wZZbWmRLHNvLVGGM+/Oq6ka2rxKpPgvV5DZC0Ym328kqVf54KtU4LC2M9o0Mz0xH59Xpq4JstUZqaCqpeRLplOWvZMx3/DhiOwF8Q4w8I7HKQgxfguy0Ufk6Wrwd72vOZdt71HD7SzIcFs8XNX+YwOooeUAbfxWoR1KomYHp/pNB18a1hswG3XhHIYsNRbc1QyjpTWkaXmcTOc+7UAAxrdH9BD5ES6GfKNXJdPhDjkfrDtVh1SZZlGKkeHnGAE="}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":11,"cache_creation_input_tokens":1521,"cache_read_input_tokens":50792,"cache_creation":{"ephemeral_5m_input_tokens":1521,"ephemeral_1h_input_tokens":0},"output_tokens":4,"service_tier":"standard"}},"requestId":"req_011CXDwLzR2gXeeyUU6wdbDk","type":"assistant","uuid":"bca85e52-ecb1-4bc0-894d-c30eb5f7da34","timestamp":"2026-01-18T00:59:35.175Z"}
{"parentUuid":"bca85e52-ecb1-4bc0-894d-c30eb5f7da34","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01PtkUS9yE42iVqTfz56S8oF","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01CSpT7YcpZSwCsRVw6P9BD6","name":"Read","input":{"file_path":"D:\\git\\directors-palette-v2\\src\\features\\shot-creator\\types\\recipe.types.ts","offset":2040,"limit":30}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":11,"cache_creation_input_tokens":1521,"cache_read_input_tokens":50792,"cache_creation":{"ephemeral_5m_input_tokens":1521,"ephemeral_1h_input_tokens":0},"output_tokens":199,"service_tier":"standard"}},"requestId":"req_011CXDwLzR2gXeeyUU6wdbDk","type":"assistant","uuid":"a7b3cea7-03e9-44c2-84b7-77a04f302263","timestamp":"2026-01-18T00:59:36.512Z"}
{"parentUuid":"a7b3cea7-03e9-44c2-84b7-77a04f302263","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01CSpT7YcpZSwCsRVw6P9BD6","type":"tool_result","content":"  2040→    stages: [\n  2041→      // STAGE 0: Isolate character on white background\n  2042→      {\n  2043→        id: 'stage_0',\n  2044→        order: 0,\n  2045→        template: `Extract the person from this photo as a clean, isolated character portrait.\n  2046→\n  2047→CRITICAL LIKENESS PRESERVATION:\n  2048→- Exact facial structure: bone structure, jaw shape, cheekbones, nose shape, eye shape and spacing\n  2049→- Exact skin tone and undertones\n  2050→- Exact hair: color, texture, style, length, hairline shape\n  2051→- Exact body proportions: height, build, posture\n  2052→- Exact distinguishing features: moles, freckles, scars, dimples, facial hair\n  2053→\n  2054→OUTPUT:\n  2055→- Full-body standing pose on clean WHITE background\n  2056→- Neutral expression, relaxed posture\n  2057→- Soft studio lighting\n  2058→- Remove all background elements completely\n  2059→- Do NOT alter, enhance, or \"improve\" any facial features\n  2060→- The isolated character must be IDENTICAL to the input photo`,\n  2061→        fields: [],\n  2062→        referenceImages: [],\n  2063→      },\n  2064→      // STAGE 1: Transform to custom art style\n  2065→      {\n  2066→        id: 'stage_1',\n  2067→        order: 1,\n  2068→        template: `Transform this isolated character into <<STYLE_NAME:text!>> style.\n  2069→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"fa54c66f-70cb-4851-961b-6d82e459a66f","timestamp":"2026-01-18T00:59:37.993Z","toolUseResult":{"type":"text","file":{"filePath":"D:\\git\\directors-palette-v2\\src\\features\\shot-creator\\types\\recipe.types.ts","content":"    stages: [\n      // STAGE 0: Isolate character on white background\n      {\n        id: 'stage_0',\n        order: 0,\n        template: `Extract the person from this photo as a clean, isolated character portrait.\n\nCRITICAL LIKENESS PRESERVATION:\n- Exact facial structure: bone structure, jaw shape, cheekbones, nose shape, eye shape and spacing\n- Exact skin tone and undertones\n- Exact hair: color, texture, style, length, hairline shape\n- Exact body proportions: height, build, posture\n- Exact distinguishing features: moles, freckles, scars, dimples, facial hair\n\nOUTPUT:\n- Full-body standing pose on clean WHITE background\n- Neutral expression, relaxed posture\n- Soft studio lighting\n- Remove all background elements completely\n- Do NOT alter, enhance, or \"improve\" any facial features\n- The isolated character must be IDENTICAL to the input photo`,\n        fields: [],\n        referenceImages: [],\n      },\n      // STAGE 1: Transform to custom art style\n      {\n        id: 'stage_1',\n        order: 1,\n        template: `Transform this isolated character into <<STYLE_NAME:text!>> style.\n","numLines":30,"startLine":2040,"totalLines":3178}},"sourceToolAssistantUUID":"a7b3cea7-03e9-44c2-84b7-77a04f302263"}
{"parentUuid":"fa54c66f-70cb-4851-961b-6d82e459a66f","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01BTBUuieVsaooEfFPbuU7o1","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"This is a 3-stage photo-based recipe. Let me search for \"Storybook Character Sheet\" to find the exact recipe we modified:","signature":"EqICCkYICxgCKkDSI034HGTS+hNXcFlCgyybLgdctt4LSw1ao9t5Xfe8USaUtWLZIb6QQ6DD4xUZEW70xtOAP0Jj+xlCqsiJQZWbEgwFT9XaUy09f+lJ6CQaDOgF2BKV35P30LoTeCIwFHfIU9fx3X0ylVKiiiQrrDd73d+BSUAn6iVI+h+sg5Ix3TCy1elWNzlb2w0UWxtyKokBX7Vwnja+VUueEFbofVn0Gxh4bdQRlKq2v9pPoFkB+9CGL3Zcz+xHn/9u2RS5oWB+Ulnh1chRCwBNTW01rUcOj8nDRjhbfz93g5EuC/ZXPGasubHcYSFniev17WaUeJFwTxH6yADV9O3VuFo20ZrvTPVPxk1GIYxlypaeC91Bh4O4fvx3o+VL41YYAQ=="}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":11,"cache_creation_input_tokens":710,"cache_read_input_tokens":52313,"cache_creation":{"ephemeral_5m_input_tokens":710,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CXDwMeQY2SPkz3U8oEfpH","type":"assistant","uuid":"e469b067-0c1c-4eac-8a21-742aacd25c70","timestamp":"2026-01-18T00:59:41.326Z"}
{"parentUuid":"e469b067-0c1c-4eac-8a21-742aacd25c70","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01BTBUuieVsaooEfFPbuU7o1","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Ljmb6JGjSEjLEV31b4WS95","name":"Grep","input":{"pattern":"Storybook Character Sheet","path":"src/features/shot-creator/types/recipe.types.ts","output_mode":"content","-n":true}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":11,"cache_creation_input_tokens":710,"cache_read_input_tokens":52313,"cache_creation":{"ephemeral_5m_input_tokens":710,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CXDwMeQY2SPkz3U8oEfpH","type":"assistant","uuid":"241d8281-ba23-4835-a84c-6ee462e3a9e3","timestamp":"2026-01-18T00:59:42.425Z"}
{"parentUuid":"241d8281-ba23-4835-a84c-6ee462e3a9e3","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Ljmb6JGjSEjLEV31b4WS95","type":"tool_result","content":"2032:  // Storybook Character Sheet - 3-stage pipeline for generating character sheets\r\n2037:    name: 'Storybook Character Sheet',\r\n2145:  // Storybook Character Sheet (From Description) - 2-stage pipeline for generating character sheets without photos\r\n2149:    name: 'Storybook Character Sheet (From Description)',"}]},"uuid":"487f4a48-ad46-41b7-b4fe-e0f05d9e2a10","timestamp":"2026-01-18T00:59:45.219Z","toolUseResult":{"mode":"content","numFiles":0,"filenames":[],"content":"2032:  // Storybook Character Sheet - 3-stage pipeline for generating character sheets\r\n2037:    name: 'Storybook Character Sheet',\r\n2145:  // Storybook Character Sheet (From Description) - 2-stage pipeline for generating character sheets without photos\r\n2149:    name: 'Storybook Character Sheet (From Description)',","numLines":4},"sourceToolAssistantUUID":"241d8281-ba23-4835-a84c-6ee462e3a9e3"}
{"parentUuid":"487f4a48-ad46-41b7-b4fe-e0f05d9e2a10","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01WxLmQJhgiXqpsecJkdMFBh","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"Perfect! Line 2145 is \"Storybook Character Sheet (From Description)\" which is the 2-stage recipe we updated. Line 2129 where I found the template URL should be part of this recipe. Let me read the full recipe starting from line 2145:","signature":"EpIDCkYICxgCKkC3eR3CZJjEEWveXn70q3VUP4igAFu9gbPg9lc+hFcx1qO5T3VUTRrF60fjchfO9b7vpomeWg1ztjAirj54s4s+EgytSQ3qatbjODQswskaDNHZTr+QJoDd7guaJiIwxRSM1Hc+gIO1Dvcf3ozdBKf/d5I/XKAN0uKUYig8z4AtEoMzVstMLDYY3rVw2fKMKvkBppRJExoHHh+zWm+k4Q3s0Q/av/kfL4khc0poiRJG0YbRWn1vLEC7npXPz9YvenI3dNT9eTNw3lSQ6jevJmjKrTSRw5oWeh1V4uktrf/gLLi1TXNbm65cpXjv4a26B5tfkF5qgGiLq8I8XKJo8mufj+hbpoE9XDvwadJ/wmpeVTiGH2WrUJ/aDMHvONVmzx/RXfc+YJq2fJhXpqDwwFwf8/NUHSDuxw3GZNbmgOMV+0SEQ3gEpWGBBLPXGXgbz1F04y+VydHPVX004OE0bF8743kH/ae/EJlAUAsjhAeIQk2h9sFwpZUrs3OQgOEp+PNQb4cn/0Te/YVAGAE="}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":11,"cache_creation_input_tokens":268,"cache_read_input_tokens":53023,"cache_creation":{"ephemeral_5m_input_tokens":268,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CXDwNASK1hfN4v16vRAeJ","type":"assistant","uuid":"87a2a330-c9d8-46ee-aee6-bf4192bfd766","timestamp":"2026-01-18T00:59:48.952Z"}
{"parentUuid":"87a2a330-c9d8-46ee-aee6-bf4192bfd766","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01WxLmQJhgiXqpsecJkdMFBh","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01WHKUapLwDC9y3iLQpupvxi","name":"Read","input":{"file_path":"D:\\git\\directors-palette-v2\\src\\features\\shot-creator\\types\\recipe.types.ts","offset":2145,"limit":35}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":11,"cache_creation_input_tokens":268,"cache_read_input_tokens":53023,"cache_creation":{"ephemeral_5m_input_tokens":268,"ephemeral_1h_input_tokens":0},"output_tokens":182,"service_tier":"standard"}},"requestId":"req_011CXDwNASK1hfN4v16vRAeJ","type":"assistant","uuid":"47f4d5aa-9ea6-4633-9ffe-c3f83ccce1af","timestamp":"2026-01-18T00:59:49.652Z"}
{"parentUuid":"47f4d5aa-9ea6-4633-9ffe-c3f83ccce1af","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01WHKUapLwDC9y3iLQpupvxi","type":"tool_result","content":"  2145→  // Storybook Character Sheet (From Description) - 2-stage pipeline for generating character sheets without photos\n  2146→  // Stage 0: Generate character appearance from text description\n  2147→  // Stage 1: Generate character sheet with expressions\n  2148→  {\n  2149→    name: 'Storybook Character Sheet (From Description)',\n  2150→    description: 'Generate character sheet from text description for storybook (no photo required)',\n  2151→    recipeNote: 'Used when no source photo is available. Generates character appearance from description in the target style, then creates a character sheet.',\n  2152→    stages: [\n  2153→      // STAGE 0: Generate character appearance from description\n  2154→      {\n  2155→        id: 'stage_desc_0',\n  2156→        order: 0,\n  2157→        type: 'generation',\n  2158→        template: `Generate a character based on this description:\n  2159→\n  2160→CHARACTER: @<<CHARACTER_NAME:name!>>\n  2161→ROLE: <<CHARACTER_ROLE:text!>>\n  2162→DESCRIPTION: <<CHARACTER_DESCRIPTION:text!>>\n  2163→\n  2164→CRITICAL - PHYSICAL APPEARANCE:\n  2165→The character's physical appearance MUST match the DESCRIPTION above EXACTLY:\n  2166→- Hair color, hair style, hair length\n  2167→- Clothing colors, clothing style\n  2168→- Age, build, body type\n  2169→- Skin tone, eye color\n  2170→- Any distinguishing features mentioned\n  2171→\n  2172→CRITICAL - ART STYLE ONLY:\n  2173→The attached style guide reference shows the ART STYLE to use:\n  2174→- Rendering approach (cartoon style, line quality, edge treatment)\n  2175→- Color saturation and palette approach\n  2176→- Level of detail and stylization\n  2177→- Lighting and shading technique\n  2178→\n  2179→DO NOT copy the physical appearance, hair, or clothing from the style guide characters.\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"b25941af-b9f7-4fc5-bd71-80f783562c3a","timestamp":"2026-01-18T00:59:51.167Z","toolUseResult":{"type":"text","file":{"filePath":"D:\\git\\directors-palette-v2\\src\\features\\shot-creator\\types\\recipe.types.ts","content":"  // Storybook Character Sheet (From Description) - 2-stage pipeline for generating character sheets without photos\n  // Stage 0: Generate character appearance from text description\n  // Stage 1: Generate character sheet with expressions\n  {\n    name: 'Storybook Character Sheet (From Description)',\n    description: 'Generate character sheet from text description for storybook (no photo required)',\n    recipeNote: 'Used when no source photo is available. Generates character appearance from description in the target style, then creates a character sheet.',\n    stages: [\n      // STAGE 0: Generate character appearance from description\n      {\n        id: 'stage_desc_0',\n        order: 0,\n        type: 'generation',\n        template: `Generate a character based on this description:\n\nCHARACTER: @<<CHARACTER_NAME:name!>>\nROLE: <<CHARACTER_ROLE:text!>>\nDESCRIPTION: <<CHARACTER_DESCRIPTION:text!>>\n\nCRITICAL - PHYSICAL APPEARANCE:\nThe character's physical appearance MUST match the DESCRIPTION above EXACTLY:\n- Hair color, hair style, hair length\n- Clothing colors, clothing style\n- Age, build, body type\n- Skin tone, eye color\n- Any distinguishing features mentioned\n\nCRITICAL - ART STYLE ONLY:\nThe attached style guide reference shows the ART STYLE to use:\n- Rendering approach (cartoon style, line quality, edge treatment)\n- Color saturation and palette approach\n- Level of detail and stylization\n- Lighting and shading technique\n\nDO NOT copy the physical appearance, hair, or clothing from the style guide characters.","numLines":35,"startLine":2145,"totalLines":3178}},"sourceToolAssistantUUID":"47f4d5aa-9ea6-4633-9ffe-c3f83ccce1af"}
{"parentUuid":"b25941af-b9f7-4fc5-bd71-80f783562c3a","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01MnxKVifWJzDveGCT79LHNu","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"Good! This is the recipe we updated. Now let me find the Stage 1 reference image for this specific recipe. Let me continue reading:","signature":"EqwCCkYICxgCKkBj19U7aIQJVXPZyxM44KNh1pULwFMa5RFDgZBfeGaI2CEnEViAhnHbDOFTA1j6BSfCwlS6BTWTfDBKXr0bobW8EgwK6WHgLgsF1OL3GloaDHCcso9jgvfyFUs8KiIwMllpZajRH+hdnuU4EtUysbr9PdMZNuvylv+2fnH7GRBKsINbjbxPzx1SCnmppLilKpMBwk24M2Vs3EZMbxNheaJ2V63ecYxwZJtBzWun2NKy6XBRqOHdk5yJ2WPiTW6hvc+wPRN91nSaoz8vMj0rIGXtIuPl3AKSkzUqz5F1sscSgf5sAJXmjOExEm57bDPuXQjDr0Y2kKJzNU1GI1zRa7L3L+BakUWpHRzcdeZhMTR9gacrcWL6XoFE3wwdvo6d5y6SfHQLGAE="}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":11,"cache_creation_input_tokens":795,"cache_read_input_tokens":53291,"cache_creation":{"ephemeral_5m_input_tokens":795,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CXDwNcdQQGnJ1H41X2RsK","type":"assistant","uuid":"738113f0-d1c2-462d-aff8-e6d77fafab01","timestamp":"2026-01-18T00:59:54.725Z"}
{"parentUuid":"738113f0-d1c2-462d-aff8-e6d77fafab01","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01MnxKVifWJzDveGCT79LHNu","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Wrudw7jD3scaxpD3ngxKfw","name":"Read","input":{"file_path":"D:\\git\\directors-palette-v2\\src\\features\\shot-creator\\types\\recipe.types.ts","offset":2180,"limit":60}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":11,"cache_creation_input_tokens":795,"cache_read_input_tokens":53291,"cache_creation":{"ephemeral_5m_input_tokens":795,"ephemeral_1h_input_tokens":0},"output_tokens":151,"service_tier":"standard"}},"requestId":"req_011CXDwNcdQQGnJ1H41X2RsK","type":"assistant","uuid":"2f4f529e-8ce9-454f-b8f5-10a6f6bf28c0","timestamp":"2026-01-18T00:59:55.413Z"}
{"parentUuid":"2f4f529e-8ce9-454f-b8f5-10a6f6bf28c0","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Wrudw7jD3scaxpD3ngxKfw","type":"tool_result","content":"  2180→ONLY use the style guide for the art style/rendering approach.\n  2181→\n  2182→SETUP:\n  2183→- Full-body standing pose on clean WHITE background\n  2184→- Neutral expression, relaxed posture\n  2185→- Soft studio lighting\n  2186→\n  2187→Output: Full-body character portrait matching the DESCRIPTION exactly, rendered in the art style shown in the style guide.`,\n  2188→        fields: [],\n  2189→        referenceImages: [],  // Style guide attached at runtime\n  2190→      },\n  2191→      // STAGE 1: Generate character sheet with expressions\n  2192→      {\n  2193→        id: 'stage_desc_1',\n  2194→        order: 1,\n  2195→        type: 'generation',\n  2196→        template: `Universal Character Sheet Template V3 - Precise Generation with Separated Sources\n  2197→\n  2198→CHARACTER: @<<CHARACTER_NAME:name!>>\n  2199→STYLE: <<STYLE_NAME:text!>>\n  2200→\n  2201→INPUT SOURCES:\n  2202→This generation uses THREE separate reference images:\n  2203→1. LAYOUT REFERENCE (character sheet template): Use ONLY for structural layout - panel positions, grid lines, labels\n  2204→2. CHARACTER REFERENCE (previous stage output): Source for character's physical features, clothing, identity\n  2205→3. STYLE REFERENCE (style guide): Defines the art style/rendering approach for final output\n  2206→\n  2207→CRITICAL: Do NOT copy the sketch/placeholder art from the template. Only use it for structure.\n  2208→\n  2209→---\n  2210→\n  2211→HEADER SECTION:\n  2212→- Top Left: Display \"CHARACTER @<<CHARACTER_NAME:name!>>\" prominently\n  2213→- Top Right: \"DESCRIPTION/DETAILS\" box (grey background, leave empty)\n  2214→\n  2215→---\n  2216→\n  2217→FULL BODY VIEWS (Left Section - Large Grid):\n  2218→Label: \"FULL BODY VIEWS\"\n  2219→Panels (3 columns):\n  2220→1. Front View - Orthographic neutral standing pose, feet on baseline\n  2221→2. Side Profile View (Left facing) - Orthographic side view\n  2222→3. Back View - Orthographic back view\n  2223→\n  2224→---\n  2225→\n  2226→EXPRESSIONS & DETAILS (Upper Middle - 3×2 Grid):\n  2227→Label: \"EXPRESSIONS & DETAILS\"\n  2228→Style: Head and shoulders shot, consistent character model\n  2229→\n  2230→Row 1 (Talking States):\n  2231→1. TALKING-NEUTRAL: mouth slightly open, neutral brows\n  2232→2. TALKING-HAPPY: mouth open smiling, eyebrows raised\n  2233→3. TALKING-ANGRY: mouth open yelling, eyebrows furrowed\n  2234→\n  2235→Row 2 (Emotions):\n  2236→4. SAD: mouth closed down-turn, tearful eyes, sad brows\n  2237→5. SURPRISED: mouth small 'O' shape, eyes wide, brows high\n  2238→6. SMUG/CONFIDENT: slight smirk, confident gaze\n  2239→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"a40db3de-754b-4347-b023-662cea88fcaa","timestamp":"2026-01-18T00:59:56.915Z","toolUseResult":{"type":"text","file":{"filePath":"D:\\git\\directors-palette-v2\\src\\features\\shot-creator\\types\\recipe.types.ts","content":"ONLY use the style guide for the art style/rendering approach.\n\nSETUP:\n- Full-body standing pose on clean WHITE background\n- Neutral expression, relaxed posture\n- Soft studio lighting\n\nOutput: Full-body character portrait matching the DESCRIPTION exactly, rendered in the art style shown in the style guide.`,\n        fields: [],\n        referenceImages: [],  // Style guide attached at runtime\n      },\n      // STAGE 1: Generate character sheet with expressions\n      {\n        id: 'stage_desc_1',\n        order: 1,\n        type: 'generation',\n        template: `Universal Character Sheet Template V3 - Precise Generation with Separated Sources\n\nCHARACTER: @<<CHARACTER_NAME:name!>>\nSTYLE: <<STYLE_NAME:text!>>\n\nINPUT SOURCES:\nThis generation uses THREE separate reference images:\n1. LAYOUT REFERENCE (character sheet template): Use ONLY for structural layout - panel positions, grid lines, labels\n2. CHARACTER REFERENCE (previous stage output): Source for character's physical features, clothing, identity\n3. STYLE REFERENCE (style guide): Defines the art style/rendering approach for final output\n\nCRITICAL: Do NOT copy the sketch/placeholder art from the template. Only use it for structure.\n\n---\n\nHEADER SECTION:\n- Top Left: Display \"CHARACTER @<<CHARACTER_NAME:name!>>\" prominently\n- Top Right: \"DESCRIPTION/DETAILS\" box (grey background, leave empty)\n\n---\n\nFULL BODY VIEWS (Left Section - Large Grid):\nLabel: \"FULL BODY VIEWS\"\nPanels (3 columns):\n1. Front View - Orthographic neutral standing pose, feet on baseline\n2. Side Profile View (Left facing) - Orthographic side view\n3. Back View - Orthographic back view\n\n---\n\nEXPRESSIONS & DETAILS (Upper Middle - 3×2 Grid):\nLabel: \"EXPRESSIONS & DETAILS\"\nStyle: Head and shoulders shot, consistent character model\n\nRow 1 (Talking States):\n1. TALKING-NEUTRAL: mouth slightly open, neutral brows\n2. TALKING-HAPPY: mouth open smiling, eyebrows raised\n3. TALKING-ANGRY: mouth open yelling, eyebrows furrowed\n\nRow 2 (Emotions):\n4. SAD: mouth closed down-turn, tearful eyes, sad brows\n5. SURPRISED: mouth small 'O' shape, eyes wide, brows high\n6. SMUG/CONFIDENT: slight smirk, confident gaze\n","numLines":60,"startLine":2180,"totalLines":3178}},"sourceToolAssistantUUID":"2f4f529e-8ce9-454f-b8f5-10a6f6bf28c0"}
{"parentUuid":"a40db3de-754b-4347-b023-662cea88fcaa","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_017CexiKU3DEL2aRuC8yQpac","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"Good, I can see the Stage 1 template we updated. Now let me continue reading to find where the reference images are defined for Stage 1:","signature":"ErECCkYICxgCKkCN3ivPAq4UzMP1PQOpapInYUJxt95qe/mklqC2VB4yQE9rxS93+Kqub2QFCY/+hvP01jrw9DNNyJI6TxWhIq2/Egzax3gmw691vSMC7sAaDCZ7++2idz2drz+zayIwTqMLeI6mx45O0S/7zUE8iylEtuw+V1nPAS3LD8BpNSLjlA05KJ0IUSAQALVu7V1eKpgBHXyPt4ARyavNmgcjZTmb9uAN5ra4kHMumwlzgvCyx+AAe2W+ERB+8anoEQr2qtWM7Bbs0bnkgsFNrt0nba8iKPjRz/26knlqCCRYS7ZgMVhcEPpCTdxW48IlXJr6xZBgGxLGTVyuCnn1h8r4nx5rAp0DDVpwQ2OkFDKB8K+gWvaaTRhRjfPX2PJpfNvjvGanmJ2KsW0Q0QwYAQ=="}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":10,"cache_creation_input_tokens":1242,"cache_read_input_tokens":54086,"cache_creation":{"ephemeral_5m_input_tokens":1242,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard"}},"requestId":"req_011CXDwP3PBMTne8Cxepa33F","type":"assistant","uuid":"2285655e-bfb2-47c5-870d-99fd17243611","timestamp":"2026-01-18T01:00:00.612Z"}
{"parentUuid":"2285655e-bfb2-47c5-870d-99fd17243611","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_017CexiKU3DEL2aRuC8yQpac","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01RAohsDdmSQc4spPMHUpFQi","name":"Read","input":{"file_path":"D:\\git\\directors-palette-v2\\src\\features\\shot-creator\\types\\recipe.types.ts","offset":2270,"limit":50}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":10,"cache_creation_input_tokens":1242,"cache_read_input_tokens":54086,"cache_creation":{"ephemeral_5m_input_tokens":1242,"ephemeral_1h_input_tokens":0},"output_tokens":153,"service_tier":"standard"}},"requestId":"req_011CXDwP3PBMTne8Cxepa33F","type":"assistant","uuid":"6dfae57c-78bc-4594-947e-d090aecb4aad","timestamp":"2026-01-18T01:00:02.302Z"}
{"parentUuid":"6dfae57c-78bc-4594-947e-d090aecb4aad","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01RAohsDdmSQc4spPMHUpFQi","type":"tool_result","content":"  2270→\n  2271→---\n  2272→\n  2273→COLOR PALETTE (Bottom Left Strip):\n  2274→Label: \"COLOR PALETTE\"\n  2275→Fill swatches with exact colors from character:\n  2276→- FRONT: Main body color from front view\n  2277→- HAPPY: Key highlight from happy expression\n  2278→- YELLOW: Yellow elements (if present, else neutral grey)\n  2279→- HAIR: Character hair color\n  2280→- ANGRY: Shadow/highlight from angry expression\n  2281→- SAD: Shadow from sad expression\n  2282→- SURPRISED: Highlight from surprised expression\n  2283→- SMUG: Color from smug expression\n  2284→\n  2285→---\n  2286→\n  2287→CRITICAL REQUIREMENTS:\n  2288→✓ Every panel shows the SAME CHARACTER from previous stage\n  2289→✓ Maintain IDENTICAL facial structure, proportions, distinctive features across ALL views\n  2290→✓ Render entire sheet in <<STYLE_NAME:text!>> art style (from style guide reference)\n  2291→✓ Follow template layout EXACTLY - match panel positions, grid lines, label positions\n  2292→✓ Neutral background (white/light grey) - NO texture\n  2293→✓ Black separator lines between cells (4-6 pixels)\n  2294→✓ Character name \"@<<CHARACTER_NAME:name!>>\" clearly visible at top\n  2295→✓ Production-ready reference sheet for animation/illustration use\n  2296→\n  2297→FINAL OUTPUT: Complete character sheet with all panels filled, matching template structure, rendered consistently in <<STYLE_NAME:text!>> style.`,\n  2298→        fields: [],\n  2299→        referenceImages: [\n  2300→          {\n  2301→            id: 'template_charsheet_advanced',\n  2302→            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\n  2303→            name: 'Character Sheet Layout Template',\n  2304→            aspectRatio: '21:9',\n  2305→          }\n  2306→        ],\n  2307→      },\n  2308→    ],\n  2309→    suggestedAspectRatio: '21:9',\n  2310→    suggestedModel: 'nano-banana-pro',\n  2311→    isQuickAccess: false,\n  2312→    categoryId: 'storybook',\n  2313→    isSystem: true,\n  2314→    isSystemOnly: false,  // Now visible in Shot Creator so users can refine the recipe\n  2315→  },\n  2316→\n  2317→  // Storybook Style Guide (system recipe)\n  2318→  {\n  2319→    name: 'Storybook Style Guide',\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"e19e3261-4bcd-45f8-a522-04111871c1f0","timestamp":"2026-01-18T01:00:03.756Z","toolUseResult":{"type":"text","file":{"filePath":"D:\\git\\directors-palette-v2\\src\\features\\shot-creator\\types\\recipe.types.ts","content":"\n---\n\nCOLOR PALETTE (Bottom Left Strip):\nLabel: \"COLOR PALETTE\"\nFill swatches with exact colors from character:\n- FRONT: Main body color from front view\n- HAPPY: Key highlight from happy expression\n- YELLOW: Yellow elements (if present, else neutral grey)\n- HAIR: Character hair color\n- ANGRY: Shadow/highlight from angry expression\n- SAD: Shadow from sad expression\n- SURPRISED: Highlight from surprised expression\n- SMUG: Color from smug expression\n\n---\n\nCRITICAL REQUIREMENTS:\n✓ Every panel shows the SAME CHARACTER from previous stage\n✓ Maintain IDENTICAL facial structure, proportions, distinctive features across ALL views\n✓ Render entire sheet in <<STYLE_NAME:text!>> art style (from style guide reference)\n✓ Follow template layout EXACTLY - match panel positions, grid lines, label positions\n✓ Neutral background (white/light grey) - NO texture\n✓ Black separator lines between cells (4-6 pixels)\n✓ Character name \"@<<CHARACTER_NAME:name!>>\" clearly visible at top\n✓ Production-ready reference sheet for animation/illustration use\n\nFINAL OUTPUT: Complete character sheet with all panels filled, matching template structure, rendered consistently in <<STYLE_NAME:text!>> style.`,\n        fields: [],\n        referenceImages: [\n          {\n            id: 'template_charsheet_advanced',\n            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\n            name: 'Character Sheet Layout Template',\n            aspectRatio: '21:9',\n          }\n        ],\n      },\n    ],\n    suggestedAspectRatio: '21:9',\n    suggestedModel: 'nano-banana-pro',\n    isQuickAccess: false,\n    categoryId: 'storybook',\n    isSystem: true,\n    isSystemOnly: false,  // Now visible in Shot Creator so users can refine the recipe\n  },\n\n  // Storybook Style Guide (system recipe)\n  {\n    name: 'Storybook Style Guide',","numLines":50,"startLine":2270,"totalLines":3178}},"sourceToolAssistantUUID":"6dfae57c-78bc-4594-947e-d090aecb4aad"}
{"parentUuid":"e19e3261-4bcd-45f8-a522-04111871c1f0","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01HkgeFjt5kWdTLf5mSv38m8","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"Perfect! I found it at lines 2299-2306. This is the reference image for the \"Storybook Character Sheet (From Description)\" recipe. Now I need to update it to use the new characterSheetV3 template. Let me provide more context to make it unique:","signature":"EpwDCkYICxgCKkAdyclLY/efrjowv7NelMSx3kmpiPc5n3WRieCt1UFgpFDxcYkGytIKqtdJdopZ4EI+5xVYazZD471n4yMOovKaEgyZkSd44mCf7TT9URUaDCRZgQYW8Wx8tut31iIwby1pam/gphVeJHsqtIVVhUOKkBDh/1r9DcNjmbg1SZ8gQb1EgbzN9+nE189GjdPtKoMCm+vyCmiNiSyAwjGvoBDWloHuIa5UOPe1yK+QmZeFueOINP3eEwrzl1uuqlKNolkJBm7+ffHXAPKVJvhuqgjecbA5mpb6pjTTYblbmTvC08azi59jWiy2PcXxP3oiODMKkDlDJAEqh8cwOy6HGwtR3CGrJM2m/w+P8hApPzxIsIyI+8CfZNJg/Kdq5ZZ6TeLdvtxkGbhfk1efWlXtVZshHAkiqawUogIU3vf2ofkRrbOWyPmHO438L0BKG5xU9RRqPfs7+Jkg0k7kdwnwDWm+JTlpR8/glRwgEePWlFP2I4/JCFyHtByKvEUfl0P4I6XEgXkaYuEgtkiOWTkN5em+EYy2TRgB"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":10,"cache_creation_input_tokens":949,"cache_read_input_tokens":55328,"cache_creation":{"ephemeral_5m_input_tokens":949,"ephemeral_1h_input_tokens":0},"output_tokens":5,"service_tier":"standard"}},"requestId":"req_011CXDwPYRRZVrnDixqEJAfe","type":"assistant","uuid":"84ea9547-af60-428f-a849-f77f58a25acd","timestamp":"2026-01-18T01:00:07.874Z"}
{"parentUuid":"84ea9547-af60-428f-a849-f77f58a25acd","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01HkgeFjt5kWdTLf5mSv38m8","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_011Xzp4fyEkF6BsCVqNCu1Gq","name":"Edit","input":{"replace_all":false,"file_path":"D:\\git\\directors-palette-v2\\src\\features\\shot-creator\\types\\recipe.types.ts","old_string":"FINAL OUTPUT: Complete character sheet with all panels filled, matching template structure, rendered consistently in <<STYLE_NAME:text!>> style.`,\n        fields: [],\n        referenceImages: [\n          {\n            id: 'template_charsheet_advanced',\n            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\n            name: 'Character Sheet Layout Template',\n            aspectRatio: '21:9',\n          }\n        ],","new_string":"FINAL OUTPUT: Complete character sheet with all panels filled, matching template structure, rendered consistently in <<STYLE_NAME:text!>> style.`,\n        fields: [],\n        referenceImages: [\n          {\n            id: 'template_charsheet_v3',\n            url: SYSTEM_TEMPLATE_URLS.characterSheetV3,\n            name: 'Character Sheet V3 Layout Template',\n            aspectRatio: '21:9',\n          }\n        ],"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":10,"cache_creation_input_tokens":949,"cache_read_input_tokens":55328,"cache_creation":{"ephemeral_5m_input_tokens":949,"ephemeral_1h_input_tokens":0},"output_tokens":419,"service_tier":"standard"}},"requestId":"req_011CXDwPYRRZVrnDixqEJAfe","type":"assistant","uuid":"c135f6e7-ab5d-409c-835f-8a3a0dbb14bf","timestamp":"2026-01-18T01:00:10.648Z"}
{"parentUuid":"c135f6e7-ab5d-409c-835f-8a3a0dbb14bf","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_011Xzp4fyEkF6BsCVqNCu1Gq","type":"tool_result","content":"The file D:\\git\\directors-palette-v2\\src\\features\\shot-creator\\types\\recipe.types.ts has been updated. Here's the result of running `cat -n` on a snippet of the edited file:\n  2293→✓ Black separator lines between cells (4-6 pixels)\n  2294→✓ Character name \"@<<CHARACTER_NAME:name!>>\" clearly visible at top\n  2295→✓ Production-ready reference sheet for animation/illustration use\n  2296→\n  2297→FINAL OUTPUT: Complete character sheet with all panels filled, matching template structure, rendered consistently in <<STYLE_NAME:text!>> style.`,\n  2298→        fields: [],\n  2299→        referenceImages: [\n  2300→          {\n  2301→            id: 'template_charsheet_v3',\n  2302→            url: SYSTEM_TEMPLATE_URLS.characterSheetV3,\n  2303→            name: 'Character Sheet V3 Layout Template',\n  2304→            aspectRatio: '21:9',\n  2305→          }\n  2306→        ],\n  2307→      },\n  2308→    ],\n  2309→    suggestedAspectRatio: '21:9',\n  2310→    suggestedModel: 'nano-banana-pro',"}]},"uuid":"db608979-0c2d-4058-a547-4ac3845a86db","timestamp":"2026-01-18T01:00:11.985Z","toolUseResult":{"filePath":"D:\\git\\directors-palette-v2\\src\\features\\shot-creator\\types\\recipe.types.ts","oldString":"FINAL OUTPUT: Complete character sheet with all panels filled, matching template structure, rendered consistently in <<STYLE_NAME:text!>> style.`,\n        fields: [],\n        referenceImages: [\n          {\n            id: 'template_charsheet_advanced',\n            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\n            name: 'Character Sheet Layout Template',\n            aspectRatio: '21:9',\n          }\n        ],","newString":"FINAL OUTPUT: Complete character sheet with all panels filled, matching template structure, rendered consistently in <<STYLE_NAME:text!>> style.`,\n        fields: [],\n        referenceImages: [\n          {\n            id: 'template_charsheet_v3',\n            url: SYSTEM_TEMPLATE_URLS.characterSheetV3,\n            name: 'Character Sheet V3 Layout Template',\n            aspectRatio: '21:9',\n          }\n        ],","originalFile":"/**\n * Recipe Types - Fill-in-the-blank prompt templates with multi-stage pipe support\n *\n * Field Syntax: <<FIELD_NAME:type!>>\n * - FIELD_NAME: Variable name (used in placeholder)\n * - type: name, text, or select(opt1,opt2,opt3)\n * - ! at end = required field\n *\n * Examples:\n * - <<CHARACTER_NAME:name!>> - Required name field (small input)\n * - <<DESCRIPTION:text>> - Optional text field (larger input)\n * - <<SHOT_TYPE:select(CU,MS,WS)!>> - Required dropdown\n *\n * Pipe Syntax:\n * - Use | to separate stages\n * - Each stage can have its own reference images\n * - Previous stage output becomes reference for next stage\n */\n\n// Server-safe UUID generator (crypto.randomUUID() is not available on server during SSR)\nlet uuidCounter = 0;\nfunction generateStageId(): string {\n  // Use crypto.randomUUID if available (client-side), otherwise use a counter-based ID\n  if (typeof crypto !== 'undefined' && typeof crypto.randomUUID === 'function') {\n    return crypto.randomUUID();\n  }\n  return `stage-${Date.now()}-${++uuidCounter}`;\n}\n\n// Field types for recipe forms\nexport type RecipeFieldType = 'name' | 'text' | 'select'\n\n// A single field definition parsed from the recipe template\nexport interface RecipeField {\n  id: string                    // Unique field ID\n  name: string                  // Field name from template (e.g., \"CHARACTER_NAME\")\n  label: string                 // Display label (e.g., \"Character Name\")\n  type: RecipeFieldType         // Field type\n  required: boolean             // Whether field must be filled (marked with !)\n  options?: string[]            // For 'select' type - dropdown options\n  placeholder: string           // Placeholder text (includes ! if required)\n}\n\n// Reference image attached to a recipe stage\nexport interface RecipeReferenceImage {\n  id: string\n  url: string                   // Image URL (can be data URL or public URL)\n  name?: string                 // Display name\n  aspectRatio?: string          // Detected aspect ratio\n  isStatic?: boolean            // Static reference images are always included\n}\n\n// Stage type - generation (default) or tool\nexport type RecipeStageType = 'generation' | 'tool'\n\n// Tool output type\nexport type RecipeToolOutputType = 'single' | 'multi'\n\n// Available tools that can be used in recipe stages\nexport const RECIPE_TOOLS = {\n  'remove-background': {\n    id: 'remove-background',\n    name: 'Remove Background',\n    description: 'Removes background from image, outputs PNG with transparency',\n    icon: '✂️',\n    cost: 3,  // points\n    endpoint: '/api/tools/remove-background',\n    outputType: 'single' as RecipeToolOutputType,\n  },\n  'cinematic-grid': {\n    id: 'cinematic-grid',\n    name: 'Cinematic Grid',\n    description: 'Generates 3x3 grid with 9 cinematic camera angles from reference image',\n    icon: '🎬',\n    cost: 20,  // Same as nano-banana-pro (uses it internally)\n    endpoint: '/api/tools/cinematic-grid',\n    outputType: 'single' as RecipeToolOutputType,\n  },\n  'grid-split': {\n    id: 'grid-split',\n    name: 'Grid Split (3x3)',\n    description: 'Splits a 3x3 grid image into 9 separate images',\n    icon: '🔲',\n    cost: 0,  // Server-side processing only, no API cost\n    endpoint: '/api/tools/grid-split',\n    outputType: 'multi' as RecipeToolOutputType,\n    outputCount: 9,\n  },\n  'before-after-grid': {\n    id: 'before-after-grid',\n    name: 'Before/After Grid',\n    description: 'Generates 3x3 grid showing same location in 9 different states/time periods',\n    icon: '🔄',\n    cost: 20,  // Same as nano-banana-pro (uses it internally)\n    endpoint: '/api/tools/before-after-grid',\n    outputType: 'single' as RecipeToolOutputType,\n  },\n} as const\n\nexport type RecipeToolId = keyof typeof RECIPE_TOOLS\n\n// A single stage in a multi-pipe recipe\nexport interface RecipeStage {\n  id: string\n  order: number                 // Stage order (0, 1, 2...)\n  type?: RecipeStageType        // 'generation' (default) or 'tool'\n  template: string              // The prompt template for this stage (empty for tool stages)\n  toolId?: RecipeToolId         // For tool stages: which tool to use\n  fields: RecipeField[]         // Parsed fields from this stage's template\n  referenceImages: RecipeReferenceImage[]  // Fixed reference images for this stage\n}\n\n// User's filled-in values for a recipe\nexport interface RecipeFieldValues {\n  [fieldId: string]: string\n}\n\n// A recipe template\nexport interface Recipe {\n  id: string\n  name: string                  // Recipe name (e.g., \"Character Sheet Generator\")\n  description?: string          // Optional description\n  recipeNote?: string           // Instructions shown when recipe is activated\n                                // e.g., \"Please provide an image with a character\"\n  stages: RecipeStage[]         // Multi-stage support (separated by |)\n  suggestedAspectRatio?: string // Suggested aspect ratio (user can change)\n  suggestedResolution?: string  // Suggested resolution\n  suggestedModel?: string       // Suggested model (auto-selects when recipe applied)\n  quickAccessLabel?: string     // 1-word label for quick access bar\n  isQuickAccess: boolean        // Whether it's in quick access\n  categoryId?: string           // Optional category\n  isSystem?: boolean            // System recipes are read-only, must be duplicated to edit\n  isSystemOnly?: boolean        // If true, only visible to admin users (hidden from regular users)\n  createdAt: number\n  updatedAt: number\n}\n\n// Quick access item - recipes only now\nexport interface QuickAccessItem {\n  id: string\n  type: 'recipe'\n  label: string                 // 1-word display label\n  recipeId: string              // Recipe ID\n  order: number                 // Display order (0-8)\n}\n\n// Validation result for a recipe\nexport interface RecipeValidation {\n  isValid: boolean\n  missingFields: string[]       // Names of required fields not filled\n  errors: string[]              // Error messages\n}\n\n// Recipe categories\nexport interface RecipeCategory {\n  id: string\n  name: string\n  icon: string\n  isDefault?: boolean           // Built-in categories can't be deleted\n  isSystemOnly?: boolean        // If true, only visible to admin users\n}\n\n// Default recipe categories\nexport const DEFAULT_RECIPE_CATEGORIES: RecipeCategory[] = [\n  { id: 'characters', name: 'Characters', icon: '👤', isDefault: true },\n  { id: 'scenes', name: 'Scenes', icon: '🎬', isDefault: true },\n  { id: 'environments', name: 'Environments', icon: '🏛️', isDefault: true },\n  { id: 'narrative', name: 'Narrative', icon: '📚', isDefault: true },\n  { id: 'styles', name: 'Style Transfers', icon: '🎨', isDefault: true },\n  { id: 'products', name: 'Products', icon: '📦', isDefault: true },\n  { id: 'custom', name: 'Custom', icon: '✨', isDefault: true },\n  // System-only categories (visible only to admin users)\n  { id: 'storybook', name: 'Storybook', icon: '📖', isDefault: true, isSystemOnly: true },\n]\n\n// Common select options for convenience\nexport const COMMON_SELECT_OPTIONS = {\n  shotType: ['ECU', 'BCU', 'CU', 'MCU', 'MS', 'MCS', 'MWS', 'WS', 'EWS', 'EST'],\n  cameraAngle: ['eye-level', 'low-angle', 'high-angle', 'dutch', 'birds-eye', 'worms-eye', 'POV', 'OTS'],\n  lighting: ['natural', 'golden-hour', 'dramatic', 'soft', 'rim', 'silhouette', 'high-key', 'low-key'],\n  mood: ['dramatic', 'peaceful', 'tense', 'joyful', 'mysterious', 'romantic', 'energetic'],\n}\n\n/**\n * Parse a single stage template and extract fields\n *\n * Syntax: <<FIELD_NAME:type!>>\n * - ! at end means required\n * - type can be: name, text, select(opt1,opt2)\n */\nexport function parseStageTemplate(template: string, stageIndex: number): RecipeField[] {\n  const fieldRegex = /<<([A-Z_0-9]+):([^>]+)>>/g\n  const fields: RecipeField[] = []\n  let match\n  let fieldIndex = 0\n\n  while ((match = fieldRegex.exec(template)) !== null) {\n    const [, name, typeSpec] = match\n\n    // Check if required (ends with !)\n    const required = typeSpec.endsWith('!')\n    const cleanTypeSpec = required ? typeSpec.slice(0, -1) : typeSpec\n\n    let type: RecipeFieldType = 'text'\n    let options: string[] | undefined\n\n    // Parse type\n    if (cleanTypeSpec === 'name') {\n      type = 'name'\n    } else if (cleanTypeSpec === 'text') {\n      type = 'text'\n    } else if (cleanTypeSpec.startsWith('select(')) {\n      type = 'select'\n      const optionsMatch = cleanTypeSpec.match(/select\\(([^)]+)\\)/)\n      if (optionsMatch) {\n        options = optionsMatch[1].split(',').map(o => o.trim())\n      }\n    }\n\n    // Convert FIELD_NAME to \"Field Name\" label\n    const label = name\n      .split('_')\n      .map(word => word.charAt(0) + word.slice(1).toLowerCase())\n      .join(' ')\n\n    // Create placeholder with ! if required\n    const placeholder = required ? `${label}!` : label\n\n    fields.push({\n      id: `stage${stageIndex}_field${fieldIndex}_${name.toLowerCase()}`,\n      name,\n      label,\n      type,\n      required,\n      options,\n      placeholder,\n    })\n\n    fieldIndex++\n  }\n\n  return fields\n}\n\n/**\n * Parse a full recipe template (may contain pipes) into stages\n */\nexport function parseRecipeTemplate(fullTemplate: string): RecipeStage[] {\n  // Split by pipe\n  const stageParts = fullTemplate.split('|').map(s => s.trim())\n\n  return stageParts.map((template, index) => ({\n    id: `stage_${index}`,\n    order: index,\n    template,\n    fields: parseStageTemplate(template, index),\n    referenceImages: [],\n  }))\n}\n\n/**\n * Get all fields from all stages, deduplicated by name\n * If the same field name appears multiple times, only return it once\n * (first occurrence wins, keeps required status if any instance is required)\n */\nexport function getAllFields(stages: RecipeStage[]): RecipeField[] {\n  const allFields = stages.flatMap(stage => stage.fields)\n  const uniqueByName = new Map<string, RecipeField>()\n\n  for (const field of allFields) {\n    const existing = uniqueByName.get(field.name)\n    if (existing) {\n      // If this instance is required, update the existing to be required\n      if (field.required && !existing.required) {\n        uniqueByName.set(field.name, { ...existing, required: true })\n      }\n    } else {\n      uniqueByName.set(field.name, field)\n    }\n  }\n\n  return Array.from(uniqueByName.values())\n}\n\n/**\n * Get deduplicated fields for the form (user only fills each unique field once)\n */\nexport function getUniqueFieldsForForm(stages: RecipeStage[]): RecipeField[] {\n  return getAllFields(stages)\n}\n\n/**\n * Build a prompt from a stage template and field values\n * - Looks up values by field NAME (for variable reuse)\n * - Optional fields with empty values are omitted entirely\n * - Cleans up orphaned punctuation and extra spaces\n */\nexport function buildStagePrompt(\n  template: string,\n  fields: RecipeField[],\n  values: RecipeFieldValues,\n  allUniqueFields?: RecipeField[]\n): string {\n  let result = template\n\n  // Build a map of field name -> value (using unique fields for lookup)\n  const fieldsToUse = allUniqueFields || fields\n  const valueByName = new Map<string, { value: string; required: boolean }>()\n\n  for (const field of fieldsToUse) {\n    // Try to find value by field ID first, then by name-based lookup\n    let value = values[field.id] || ''\n\n    // Also check if any field with this name has a value set\n    if (!value) {\n      for (const [id, val] of Object.entries(values)) {\n        if (id.toLowerCase().includes(field.name.toLowerCase()) && val) {\n          value = val\n          break\n        }\n      }\n    }\n\n    valueByName.set(field.name, { value, required: field.required })\n  }\n\n  // Replace each field placeholder\n  const fieldRegex = /<<([A-Z_0-9]+):([^>]+)>>/g\n  result = result.replace(fieldRegex, (_match, name, typeSpec) => {\n    const fieldData = valueByName.get(name)\n    const value = fieldData?.value || ''\n    const isRequired = typeSpec.endsWith('!')\n\n    // If optional and empty, return empty string to remove placeholder\n    if (!value && !isRequired) {\n      return ''\n    }\n\n    return value\n  })\n\n  // Clean up orphaned punctuation and extra spaces\n  // Remove \", ,\" patterns\n  result = result.replace(/,\\s*,/g, ',')\n  // Remove \", .\" or \". ,\" patterns\n  result = result.replace(/[,\\s]+\\./g, '.')\n  result = result.replace(/\\.\\s*,/g, '.')\n  // Remove leading/trailing commas in sentences\n  result = result.replace(/,\\s*$/g, '')\n  result = result.replace(/^\\s*,\\s*/g, '')\n  // Remove multiple spaces\n  result = result.replace(/\\s+/g, ' ')\n  // Clean up spaces around punctuation\n  result = result.replace(/\\s+,/g, ',')\n  result = result.replace(/\\s+\\./g, '.')\n\n  return result.trim()\n}\n\n/**\n * Result of building recipe prompts - includes both prompts and reference images\n */\nexport interface RecipePromptResult {\n  prompts: string[]\n  referenceImages: string[]           // All refs flattened (backward compat)\n  stageReferenceImages: string[][]    // Per-stage refs indexed by stage order\n}\n\n/**\n * Build all stage prompts from a recipe\n * Uses deduplicated fields so same field name = same value across stages\n * Also collects all reference images from all stages\n */\nexport function buildRecipePrompts(\n  stages: RecipeStage[],\n  values: RecipeFieldValues\n): RecipePromptResult {\n  const uniqueFields = getAllFields(stages)\n  const prompts = stages.map(stage => buildStagePrompt(stage.template, stage.fields, values, uniqueFields))\n\n  // Collect all reference images from all stages (deduplicated) for backward compatibility\n  const referenceImages: string[] = []\n  for (const stage of stages) {\n    for (const ref of stage.referenceImages || []) {\n      if (ref.url && !referenceImages.includes(ref.url)) {\n        referenceImages.push(ref.url)\n      }\n    }\n  }\n\n  // Collect reference images per stage (indexed by stage order) for pipe chaining\n  const stageReferenceImages: string[][] = stages.map(stage =>\n    (stage.referenceImages || [])\n      .map(ref => ref.url)\n      .filter((url): url is string => Boolean(url))\n  )\n\n  return { prompts, referenceImages, stageReferenceImages }\n}\n\n/**\n * Calculate the total cost of a recipe based on its tool stages\n * Returns 0 if no tool stages (cost determined by selected model)\n */\nexport function calculateRecipeCost(stages: RecipeStage[]): number {\n  return stages.reduce((total, stage) => {\n    if (stage.type === 'tool' && stage.toolId) {\n      const tool = RECIPE_TOOLS[stage.toolId as RecipeToolId]\n      if (tool) return total + tool.cost\n    }\n    return total\n  }, 0)\n}\n\n/**\n * Validate that all required fields are filled\n * Uses deduplicated fields so same field name = validated once\n */\nexport function validateRecipe(\n  stages: RecipeStage[],\n  values: RecipeFieldValues\n): RecipeValidation {\n  const missingFields: string[] = []\n  const errors: string[] = []\n\n  // Use deduplicated fields for validation\n  const uniqueFields = getAllFields(stages)\n\n  for (const field of uniqueFields) {\n    if (field.required) {\n      // Check by field ID first\n      let value = values[field.id]\n\n      // Also check by field name pattern\n      if (!value) {\n        for (const [id, val] of Object.entries(values)) {\n          if (id.includes(field.name.toLowerCase()) && val) {\n            value = val\n            break\n          }\n        }\n      }\n\n      if (!value || value.trim() === '') {\n        missingFields.push(field.label)\n        errors.push(`${field.label} is required`)\n      }\n    }\n  }\n\n  return {\n    isValid: missingFields.length === 0,\n    missingFields,\n    errors,\n  }\n}\n\n/**\n * Frame type options for cinematic grids\n */\nexport const FRAME_TYPE_OPTIONS = {\n  row1: ['Extreme Wide Shot', 'Wide Shot', 'Full Body Shot', 'Establishing Shot', 'Environmental Shot'],\n  row2: ['Medium Wide Shot', 'Medium Shot', 'Waist-Up Shot', 'Cowboy Shot', 'American Shot'],\n  row3: ['Medium Close-Up', 'Close-Up Shot', 'Chest-Up Shot', 'Tight Shot', 'Portrait Frame'],\n  row4: ['Extreme Close-Up', 'Big Close-Up', 'Detail Shot', 'Macro Shot', 'Insert Shot'],\n  angles: ['Eye-Level', 'Low Angle', 'High Angle', 'Dutch Angle', 'Birds Eye', 'Worms Eye', 'Over-the-Shoulder', 'POV'],\n}\n\n/**\n * Holiday options\n */\nexport const HOLIDAY_OPTIONS = [\n  'Christmas',\n  'Valentines Day',\n  'Halloween',\n  'Easter',\n  'Thanksgiving',\n  'New Years Eve',\n  'Fourth of July',\n  'St Patricks Day',\n  'Lunar New Year',\n  'Diwali',\n  'Hanukkah',\n  'Cinco de Mayo',\n]\n\n/**\n * System template URLs from Supabase Storage\n * These are used as layout reference images for recipes\n */\nconst SUPABASE_URL = 'https://tarohelkwuurakbxjyxm.supabase.co'\n\nconst SYSTEM_TEMPLATE_URLS = {\n  characterSheetBasic: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-basic.png`,\n  characterSheetAdvanced: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-advanced.webp`,\n  characterSheetV3: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-v3.jpg`,\n  wardrobeGrid: `${SUPABASE_URL}/storage/v1/object/public/templates/system/grids/wardrobe-2x3.png`,\n}\n\n/**\n * Sample recipes for initial setup\n */\nexport const SAMPLE_RECIPES: Omit<Recipe, 'id' | 'createdAt' | 'updatedAt'>[] = [\n  // Style Guide Grid - 6 tile visual style guide (matches user's proven prompt)\n  {\n    name: 'Style Guide Grid',\n    description: 'Create a 2x3 visual style guide with 6 example tiles demonstrating the full visual language of a style',\n    recipeNote: 'Attach a style reference image. Name your style. The model generates 6 tiles showing how the style handles characters, action, environments, and diversity.',\n    stages: [{\n      id: 'stage_0',\n      order: 0,\n      template: `Create a visual style guide as a 6-image grid (2 rows × 3 columns) titled \"<<STYLE_NAME:text!>> – Style Guide\".\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\n\nThe guide must generate its own characters and should NOT rely on any user-provided characters.\n\nGLOBAL STYLE RULES (match the reference image exactly):\n- Color & Contrast: Match the reference image's color palette, contrast, and saturation\n- Rendering Style: Maintain identical rendering style across all 6 tiles (painterly, illustrative, photoreal, 3D, claymation, etc.)\n- Line & Detail: Match line quality, edge sharpness/softness, and detail level\n- Lighting & Mood: Match lighting style, time of day, shadow softness, and mood\n- Camera Language: Match depth of field, framing, focal length feel, and sense of motion\n- World Cohesion: Every tile must look like it comes from the same production, using the same design language, textures, and atmosphere\n\nSHARED CAST (for consistency demonstration):\n- Character A: A Black man in his early 30s, medium build, short natural hair, expressive eyes\n- Character B: A White man in his early 30s, average build, short hair, clean shave\nThese characters are generated by the model to test how the style handles racial diversity consistently.\n\nTHE 6 TILES:\n\nTILE 1 - CHARACTER CLOSE-UP:\nDramatic close-up portrait (shoulders-up) of a newly generated character with expressive lighting and shallow depth of field. Must clearly demonstrate how the style handles skin texture, emotion, materials, and color behavior.\n\nTILE 2 - ACTION SCENE:\nDynamic action scene showing a character or small group in motion. Must maintain the same lighting behavior, color palette, and rendering fidelity as the reference style.\n\nTILE 3 - ENVIRONMENT DETAIL:\nRichly detailed environment element (street corner, room interior, forest clearing, rooftop, etc.) showing materials, lighting, and atmospheric depth consistent with the style.\n\nTILE 4 - MULTI-RACIAL CHARACTER INTERACTION:\nThe Black man and White man (from the shared cast) performing a simple activity together — walking, talking, collaborating. Their skin tones, facial structures, and materials must be rendered consistently without drifting between tiles.\n\nTILE 5 - DYNAMIC POSE:\nFull-body or 3/4-body shot of a character in a dramatic action-oriented pose demonstrating how anatomy, silhouette, and gesture are depicted in this style.\n\nTILE 6 - SET / LOCATION DESIGN:\nWide shot highlighting set or location design (city street, throne room, industrial hangar, temple ruins, etc.). Must match environment lighting, atmosphere, and lens behavior of the reference style.\n\nCRITICAL: This guide functions as a style bible for future scenes — a unified blueprint demonstrating humans, environments, action, and design language in one consistent art style.\n\nNo style drift. No new color schemes, lighting models, render methods, or camera styles.\nBlack grid lines between all cells. No text labels in the images.`,\n      fields: [],\n      referenceImages: [],\n    }],\n    suggestedAspectRatio: '3:2',\n    isQuickAccess: true,\n    quickAccessLabel: 'StyleGuide',\n    categoryId: 'styles',\n  },\n\n  // Character Sheet - Professional reference sheet matching action figure style\n  {\n    name: 'Character Sheet',\n    description: 'Professional character reference sheet with full-body views, expressions, and accessories',\n    recipeNote: 'Attach a reference image of your character. The sheet will include turnarounds, expressions, talking views, and accessory slots.',\n    stages: [{\n      id: 'stage_0',\n      order: 0,\n      template: `CHARACTER @<<CHARACTER_NAME:name!>>\n\nCreate a professional character reference sheet on a clean white/light gray background.\n\nLAYOUT (Left to Right):\n\nSECTION 1 - FULL BODY VIEWS:\n- Large front view with proportion grid lines\n- Side profile view\n- Back view\n- All views on same baseline for height reference\n- Below: COLOR PALETTE strip showing skin, hair, eye colors, and main clothing colors\n\nSECTION 2 - EXPRESSIONS & DETAILS:\n- Header: \"CHARACTER @<<CHARACTER_NAME:name!>>\" with description box\n- EXPRESSION GRID (2 rows × 3 columns):\n  Row 1: Talking-Neutral, Talking-Happy, Talking-Angry\n  Row 2: Sad, Surprised, Smug/Confident\n- Below: CLOSE-UP DETAILS box for distinctive features\n- ACCESSORIES boxes for props/items\n\nSECTION 3 - TALKING VIEWS:\n- Profile head shots showing speaking poses\n- Additional ACCESSORIES boxes\n\nSTYLE: <<STYLE:select(claymation,anime,3D render,cartoon,realistic,watercolor,oil painting,illustrated,Pixar-style,Disney-style)>>\n\nClean, production-ready layout. No busy backgrounds.\nConsistent lighting and rendering across all views.\nProfessional character sheet suitable for animation/illustration reference.`,\n      fields: [],\n      referenceImages: [\n        {\n          id: 'template_charsheet_advanced',\n          url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\n          name: 'Character Sheet Layout Template',\n          aspectRatio: '21:9',\n        },\n      ],\n    }],\n    suggestedAspectRatio: '21:9',\n    isQuickAccess: true,\n    quickAccessLabel: 'CharSheet',\n    categoryId: 'characters',\n  },\n\n  // Character Sheet from Description - No photo required\n  {\n    name: 'Character Sheet (From Description)',\n    description: 'Generate a character sheet from text description only - no reference photo needed',\n    recipeNote: 'Perfect for creating consistent characters when you only have a written description. Stage 1 generates the character appearance, Stage 2 creates the full character sheet.',\n    stages: [\n      // STAGE 0: Generate character appearance from description\n      {\n        id: 'stage_desc_char_0',\n        order: 0,\n        type: 'generation',\n        template: `Generate a character based on this description:\n\nCHARACTER NAME: @<<CHARACTER_NAME:name!>>\nVISUAL DESCRIPTION: <<CHARACTER_DESCRIPTION:text!>>\n\nCreate a full-body character portrait:\n- Standing pose, facing forward (slight 3/4 angle is acceptable)\n- Clean WHITE or light gray background\n- Neutral expression, relaxed posture\n- Soft, even studio lighting\n- Show full body from head to feet\n- High detail on face and distinctive features\n\nSTYLE: <<STYLE:select(realistic,cinematic,anime,3D render,cartoon,illustrated,concept art,oil painting,watercolor,Pixar-style,Disney-style)>>\n\nThe character should match the description EXACTLY - pay attention to:\n- Age, gender, ethnicity\n- Hair color, style, length\n- Eye color\n- Build/body type\n- Clothing and accessories\n- Any distinctive features (scars, tattoos, glasses, etc.)\n\nOutput: High-quality full-body character portrait suitable for reference.`,\n        fields: [],\n        referenceImages: [],\n      },\n      // STAGE 1: Generate character sheet with expressions\n      {\n        id: 'stage_desc_char_1',\n        order: 1,\n        type: 'generation',\n        template: `CHARACTER: @<<CHARACTER_NAME:name!>>\n\nCreate a professional character reference sheet using the previous image as the definitive reference.\n\nCRITICAL: Every view and expression must clearly be the SAME PERSON.\nFacial structure, proportions, and distinctive features must remain IDENTICAL across all views.\n\nCHARACTER SHEET LAYOUT (21:9 aspect ratio):\n\nLEFT SECTION - FULL BODY VIEWS:\n- Large front view with proportion reference\n- Side profile view\n- Back view\n- All views on same baseline for height reference\n- Below: COLOR PALETTE strip (skin, hair, eye colors, main clothing colors)\n\nRIGHT SECTION - EXPRESSIONS (2 rows × 5 columns):\nRow 1: Neutral, Happy, Sad, Angry, Surprised\nRow 2: Speaking, Shouting, Whispering, Confident, Scared\n\nTOP: Character name \"@<<CHARACTER_NAME:name!>>\" prominently displayed\n\nSTYLE: Match the style from Stage 1 exactly\n\nCRITICAL REQUIREMENTS:\n- SOLID BLACK LINES (4-6 pixels) separating each expression cell\n- All expressions maintain the SAME face structure\n- Clean white/light gray background throughout\n- Production-ready layout for animation/illustration reference`,\n        fields: [],\n        referenceImages: [\n          {\n            id: 'template_charsheet_advanced',\n            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\n            name: 'Character Sheet Layout Template',\n            aspectRatio: '21:9',\n          }\n        ],\n      },\n    ],\n    suggestedAspectRatio: '21:9',\n    suggestedModel: 'nano-banana-pro',\n    isQuickAccess: true,\n    quickAccessLabel: 'DescSheet',\n    categoryId: 'characters',\n  },\n\n  // 9-Frame Cinematic Contact Sheet\n  {\n    name: '9-Frame Cinematic',\n    description: '3x3 cinematic contact sheet covering full shot range',\n    recipeNote: 'Attach a reference image. The model will create 9 different framings of the same subject with black grid lines for extraction.',\n    stages: [{\n      id: 'stage_0',\n      order: 0,\n      template: `Analyze the entire composition of the input image. Identify all key subjects present (single person, group, vehicle, or object) and their spatial relationship.\n\nGenerate a cohesive 3x3 cinematic contact sheet featuring 9 distinct camera shots of exactly these subjects in the same environment.\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\n\nROW 1 - ENVIRONMENTAL CONTEXT:\n1. <<FRAME_1:select(Extreme Wide Shot,Wide Shot,Establishing Shot,Environmental Shot,Vista Shot)!>>\n2. <<FRAME_2:select(Wide Shot,Full Body Shot,Long Shot,Master Shot)!>>\n3. <<FRAME_3:select(Medium Wide Shot,Medium Long Shot,Cowboy Shot,American Shot)!>>\n\nROW 2 - CORE SUBJECT:\n4. <<FRAME_4:select(Medium Shot,Waist-Up Shot,Mid-Shot,Two-Shot)!>>\n5. <<FRAME_5:select(Medium Close-Up,Chest-Up Shot,Bust Shot)!>>\n6. <<FRAME_6:select(Close-Up Shot,Tight Shot,Head Shot)!>>\n\nROW 3 - INTIMATE DETAILS & ANGLES:\n7. <<FRAME_7:select(Extreme Close-Up,Macro Detail,Insert Shot,Detail Shot)!>>\n8. <<FRAME_8:select(Low Angle Upward,Worms Eye View,Hero Shot,Power Shot)!>>\n9. <<FRAME_9:select(High Angle Downward,Birds Eye,Overhead Shot,God Shot)!>>\n\nSTRICT REQUIREMENTS:\n- Identical subjects, outfits, environment, lighting across all 9 frames\n- Coherent scene continuity\n- Depth of field becomes increasingly shallow as framing gets tighter\n- Black grid lines separating all 9 cells\n- No labels, text, overlays, icons, or shot-type captions\n- Only clean cinematic imagery\n- Professional photorealistic textures and cinematic color grading<<STYLE:select(,maintain claymation style,maintain anime style,maintain watercolor style,maintain oil painting style,maintain 3D render style)>>`,\n      fields: [],\n      referenceImages: [],\n    }],\n    suggestedAspectRatio: '1:1',\n    isQuickAccess: true,\n    quickAccessLabel: '9-Frame',\n    categoryId: 'scenes',\n  },\n\n  // 9-Frame Before/After Location Grid\n  {\n    name: 'Before/After Location',\n    description: '3x3 grid showing same location in 9 different states/time periods',\n    recipeNote: 'Attach a reference image of a location. The model will show the same camera angle with 9 different states (time of day, seasons, decades, or custom transformations).',\n    stages: [{\n      id: 'stage_0',\n      order: 0,\n      template: `Analyze the location shown in the reference image. Identify the exact camera angle, composition, and key architectural/environmental features.\n\nGenerate a 3x3 grid showing this EXACT SAME location from the EXACT SAME camera angle in 9 different <<TRANSFORMATION:select(time periods throughout a single day,seasons throughout a year,decades from past to future,states before and after an event,construction phases from empty lot to completion)!>>.\n\n<<LOCATION_DESCRIPTION:text>> - Brief description of the location (optional, helps with accuracy)\n\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\n\nROW 1 - BEGINNING STATES:\n1. <<STATE_1:select(Pre-dawn/6AM,Early Spring,1920s Era,Pristine Before,Empty Lot)!>>\n2. <<STATE_2:select(Sunrise/7AM,Late Spring,1950s Era,Warning Signs,Groundbreaking)!>>\n3. <<STATE_3:select(Morning/9AM,Early Summer,1970s Era,Event Beginning,Foundation)!>>\n\nROW 2 - MIDDLE STATES:\n4. <<STATE_4:select(Midday/12PM,Mid Summer,1980s Era,Event Peak,Framing Complete)!>>\n5. <<STATE_5:select(Afternoon/3PM,Late Summer,1990s Era,Maximum Impact,Exterior Done)!>>\n6. <<STATE_6:select(Golden Hour/5PM,Early Autumn,2000s Era,Event Subsiding,Interior Work)!>>\n\nROW 3 - END STATES:\n7. <<STATE_7:select(Sunset/7PM,Peak Autumn,2010s Era,Immediate Aftermath,Landscaping)!>>\n8. <<STATE_8:select(Dusk/8PM,Late Autumn,2020s Present,Recovery Phase,Final Touches)!>>\n9. <<STATE_9:select(Night/10PM,Winter,2040s Future,Fully Transformed,Completed/Occupied)!>>\n\nSTRICT REQUIREMENTS:\n- IDENTICAL camera angle and position in EVERY cell\n- IDENTICAL composition and framing\n- Only the state/time/condition of the location changes\n- Black grid lines separating all 9 cells\n- No labels, text, overlays, icons, or captions\n- Photorealistic rendering with attention to lighting changes\n- Consistent architectural details across all frames<<STYLE:select(,maintain illustrated style,maintain painterly style,maintain cinematic style,maintain documentary style)>>`,\n      fields: [],\n      referenceImages: [],\n    }],\n    suggestedAspectRatio: '1:1',\n    isQuickAccess: true,\n    quickAccessLabel: 'Before/After',\n    categoryId: 'scenes',\n  },\n\n  // Holiday Vibe - Add holiday elements\n  {\n    name: 'Holiday Vibe',\n    description: 'Add holiday decorations and atmosphere without changing the character',\n    recipeNote: 'Attach the image you want to add holiday vibes to. The character and location will stay the same.',\n    stages: [{\n      id: 'stage_0',\n      order: 0,\n      template: `DO NOT change the character or the location in this image.\nDO NOT alter the person's face, body, clothing, or pose.\nDO NOT change the environment structure or layout.\n\nONLY ADD elements that give this image a <<HOLIDAY:select(Christmas,Valentines Day,Halloween,Easter,Thanksgiving,New Years Eve,Fourth of July,St Patricks Day,Lunar New Year,Diwali,Hanukkah,Cinco de Mayo)!>> vibe.\n\nYou may add:\n- Holiday-specific decorations (lights, ornaments, banners, etc.)\n- Seasonal atmospheric effects (snow, confetti, sparkles, etc.)\n- Holiday-themed props in the environment\n- Appropriate color grading/lighting that matches the holiday mood\n- Festive background elements\n\nKeep the subject looking natural and not like they're wearing a costume (unless it makes sense for the holiday).\nThe additions should feel organic and integrated, not pasted on.`,\n      fields: [],\n      referenceImages: [],\n    }],\n    suggestedAspectRatio: '1:1',\n    isQuickAccess: true,\n    quickAccessLabel: 'Holiday',\n    categoryId: 'scenes',\n  },\n\n  // Story to 9 Frames - Complete visual narrative\n  {\n    name: 'Story to 9 Frames',\n    description: 'Tell an entire story in 9 cinematic frames. Attach character sheet and style guide for consistency.',\n    recipeNote: 'Attach: 1) Character sheet, 2) Style guide. Enter your story. The AI will identify 9 key moments and visualize them.',\n    stages: [{\n      id: 'stage_0',\n      order: 0,\n      template: `MAIN CHARACTER: @<<CHARACTER_NAME:name!>>\nUse the attached character sheet for ABSOLUTE consistency - same face, same body, same proportions in every frame.\n\nSTYLE: Match the attached style guide EXACTLY across all 9 frames.\n\nSTORY:\n<<STORY:text!>>\n\nGenerate a 3x3 grid telling this COMPLETE STORY in 9 cinematic frames.\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\n\nCRITICAL - ABSOLUTE CONSISTENCY:\n- Character looks IDENTICAL in every frame (same face, same features, same body)\n- Clothing only changes if the story explicitly describes it\n- Art style remains PERFECTLY consistent (same rendering, same colors, same lighting approach)\n- The 9 frames together tell a COMPLETE, COHERENT story\n\nANALYZE THE STORY AND CREATE:\n\nROW 1 - ACT 1 (Setup):\n1. THE WORLD: Establish the setting, show where the story takes place\n2. THE CHARACTER: Introduce the protagonist in their normal world\n3. THE INCITING INCIDENT: Something changes, disrupts the normal\n\nROW 2 - ACT 2 (Conflict):\n4. THE JOURNEY BEGINS: Character responds to the change, takes action\n5. THE CHALLENGE: Obstacles, conflict, struggle - show the difficulty\n6. THE LOW POINT: Moment of doubt, failure, or greatest challenge\n\nROW 3 - ACT 3 (Resolution):\n7. THE TURNING POINT: Character finds strength, solution, or revelation\n8. THE CLIMAX: Peak action, confrontation, the decisive moment\n9. THE NEW NORMAL: Resolution, aftermath, how things have changed\n\nCINEMATOGRAPHY:\n- Vary shot types: wide establishing, medium, close-up, etc.\n- Use camera angles to enhance emotion (low angle = power, high angle = vulnerability)\n- Lighting should reflect emotional tone (warm = comfort, cool = tension, dramatic = conflict)\n- Each frame should be INSTANTLY UNDERSTANDABLE without text\n\n<<GENRE:select(adventure,fantasy,slice of life,mystery,comedy,drama,action,heartwarming)>>\n\nBlack grid lines between all cells. No text, labels, or dialogue in frames.`,\n      fields: [],\n      referenceImages: [],\n    }],\n    suggestedAspectRatio: '1:1',\n    isQuickAccess: true,\n    quickAccessLabel: 'StoryFrames',\n    categoryId: 'scenes',\n  },\n\n  // Talking Heads / Multi-Angle - Same scene from different camera angles\n  {\n    name: 'Talking Heads Multi-Angle',\n    description: 'Same scene from 9 different camera angles - perfect for podcasts, interviews, TV shows, behind-the-scenes',\n    recipeNote: 'Attach your character/scene reference. Get 9 angles: front, side, close-up, over-shoulder, wide, behind-the-scenes, and more.',\n    stages: [{\n      id: 'stage_0',\n      order: 0,\n      template: `Analyze the reference image. This is the PRIMARY SHOT of a <<SCENE_TYPE:select(podcast recording,interview,TV show scene,livestream setup,meeting,presentation,conversation,news broadcast)!>>.\n\nGenerate a 3x3 grid showing the EXACT SAME SCENE from 9 different camera angles.\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\n\nCRITICAL - ABSOLUTE CONSISTENCY:\n- SAME person(s), SAME clothing, SAME environment, SAME lighting setup\n- SAME props, equipment, and background elements\n- SAME moment in time - nothing has moved or changed\n- Only the CAMERA POSITION changes\n\nTHE 9 ANGLES:\n\nROW 1 - PRIMARY COVERAGE:\n1. FRONT MEDIUM: Classic talking head, shoulders-up, direct to camera\n2. FRONT CLOSE-UP: Tighter frame, face fills more of the shot, emotional intimacy\n3. FRONT WIDE: Pull back to show full setup, desk/table, environment context\n\nROW 2 - SIDE ANGLES:\n4. PROFILE LEFT: 90° side view from the left, clean silhouette\n5. 3/4 ANGLE: 45° angle showing depth and dimension\n6. PROFILE RIGHT: 90° side view from the right, clean silhouette\n\nROW 3 - PRODUCTION ANGLES:\n7. OVER-THE-SHOULDER: From behind, showing what they're looking at (screen, guest, etc.)\n8. HIGH ANGLE: Looking down at the setup, shows spatial layout\n9. BEHIND-THE-SCENES: Wide shot showing production equipment - cameras, lights, monitors, crew silhouettes\n\n<<PRODUCTION_STYLE:select(professional studio,home office,podcast booth,news desk,outdoor location,casual living room)>>\n<<EQUIPMENT_VISIBLE:select(show microphones and monitors,minimal visible equipment,full production setup visible)>>\n\nMaintain the attached style guide's visual language throughout.\nBlack grid lines between all cells. No text labels.`,\n      fields: [],\n      referenceImages: [],\n    }],\n    suggestedAspectRatio: '1:1',\n    isQuickAccess: true,\n    quickAccessLabel: 'TalkHead',\n    categoryId: 'scenes',\n  },\n\n  // Time of Day Series\n  {\n    name: 'Time of Day',\n    description: 'Same location across 6 different times of day',\n    stages: [{\n      id: 'stage_0',\n      order: 0,\n      template: `Analyze the location in the reference image. Create a 2x3 grid showing this EXACT same location at 6 different times of day.\n\nSTRICT REQUIREMENTS:\n- The location, architecture, and composition must remain IDENTICAL across all 6 frames\n- Only the lighting, sky, and atmospheric conditions should change\n- Maintain consistent camera angle and framing\n- No people or moving objects should change position\n\nTHE 6 TIME PERIODS:\n1. DAWN (5-6 AM) - Pre-sunrise, deep blue sky with hints of orange on horizon, soft diffused light, quiet atmosphere\n2. GOLDEN HOUR MORNING (7-8 AM) - Warm golden sunlight, long soft shadows, gentle glow on surfaces\n3. MIDDAY (12 PM) - Harsh overhead sun, minimal shadows, bright and washed out colors, high contrast\n4. GOLDEN HOUR EVENING (5-6 PM) - Rich warm orange/amber light, long dramatic shadows, romantic atmosphere\n5. BLUE HOUR (7-8 PM) - Post-sunset, deep blue sky with warm artificial lights beginning to glow, twilight mood\n6. NIGHT (10 PM+) - Dark sky, <<NIGHT_LIGHTING:select(moonlit with silver highlights,city lights and neon glow,streetlamp pools of light,dramatic noir lighting,starlit with minimal ambient)!>>\n\nArrange as a 2 row × 3 column grid. No labels or text overlays.<<STYLE:select(,Maintain photorealistic style,Maintain cinematic film style,Maintain painterly style,Maintain anime style)>>`,\n      fields: [],\n      referenceImages: [],\n    }],\n    suggestedAspectRatio: '3:2',\n    isQuickAccess: true,\n    quickAccessLabel: 'TimeOfDay',\n    categoryId: 'scenes',\n  },\n\n  // Photo to Character Sheet (Isolation) - 3-stage pipeline for storybook\n  {\n    name: 'Photo to Character Sheet (Isolation)',\n    description: 'Multi-stage: Extract character from photo → Apply art style → Generate character sheet. Best for single-photo input.',\n    recipeNote: 'Attach: 1) Full-body photo of person, 2) Style guide for target art style. This version isolates the character first - use \"Multi-Ref\" version if you have multiple reference angles.',\n    stages: [\n      // STAGE 1: Isolate character from photo\n      {\n        id: 'stage_0',\n        order: 0,\n        template: `Analyze the attached photo and extract the person as an isolated character.\n\nCRITICAL LIKENESS PRESERVATION:\n- Exact facial structure: bone structure, jaw shape, cheekbones, nose shape, eye shape and spacing\n- Exact skin tone and undertones\n- Exact hair: color, texture, style, length, hairline shape\n- Exact body proportions: height, build, posture\n- Exact distinguishing features: moles, freckles, scars, dimples, facial hair\n\nCreate a clean, full-body portrait on a simple neutral background.\nRemove busy background elements while keeping the person COMPLETELY intact.\nDo NOT alter, enhance, or \"improve\" any facial features.\nThe isolated character must be IDENTICAL to the input photo.`,\n        fields: [],\n        referenceImages: [],\n      },\n      // STAGE 2: Stylize the isolated character\n      {\n        id: 'stage_1',\n        order: 1,\n        template: `Transform this character into <<STYLE_NAME:text!>> style.\n\nCRITICAL - ABSOLUTE LIKENESS PRESERVATION:\nEven in stylized form, the character MUST be recognizable as the same person:\n- Maintain exact facial proportions and structure\n- Keep distinctive features (nose shape, eye spacing, jawline)\n- Preserve exact skin tone relationships\n- Keep exact hair style, texture, and color\n- Maintain body proportions and posture\n\nSTYLE TRANSFER (use attached style guide reference image):\n- Follow the style guide reference EXACTLY - it is the definitive visual\n- Match the style guide's color palette and saturation\n- Match line quality and rendering approach\n- Match level of stylization (how simplified features become)\n- Match lighting and shadow style\n- Match edge treatment (sharp vs soft)\n\nThe result should look like THIS SPECIFIC PERSON drawn in the target art style.\nNOT a generic character that vaguely resembles them.`,\n        fields: [],\n        referenceImages: [],\n      },\n      // STAGE 3: Generate character sheet\n      {\n        id: 'stage_2',\n        order: 2,\n        template: `Name/Tag: @<<CHARACTER_NAME:name!>>\n\nCreate a professional character reference sheet maintaining PERFECT LIKENESS.\n\nCRITICAL: Every view and expression must clearly be the SAME PERSON from previous stages.\nFacial structure, proportions, and distinctive features must remain IDENTICAL across all views.\n\nCHARACTER SHEET LAYOUT (21:9 aspect ratio):\n\nLEFT SECTION - FULL BODY:\n- Large neutral standing pose, front view (primary)\n- Smaller side profile view\n- Smaller back view (if space permits)\n- Color palette strip: skin tone, hair color, eye color, main clothing colors\n\nRIGHT SECTION - EXPRESSIONS (2 rows × 5 columns):\nRow 1: Neutral, Happy, Sad, Angry, Surprised\nRow 2: Speaking, Shouting, Whispering, Smug/Confident, Scared\n\nTOP: Character name \"@<<CHARACTER_NAME:name!>>\" prominently displayed\n\nAll expressions must maintain the SAME face - only the expression changes, not the underlying structure.\nWhite/light gray background. Clean, production-ready layout.\nMaintain exact art style consistency from Stage 2.`,\n        fields: [],\n        referenceImages: [],\n      }\n    ],\n    suggestedAspectRatio: '21:9',\n    isQuickAccess: true,\n    quickAccessLabel: 'PhotoChar',\n    categoryId: 'characters',\n    isSystemOnly: true,  // Hidden from users, used internally by storybook\n  },\n\n  // Photo to Character Sheet (Multi-Reference) - For multiple reference angles\n  {\n    name: 'Photo to Character Sheet (Multi-Ref)',\n    description: 'Generate character sheet from multiple reference photos. Better likeness from multiple angles.',\n    recipeNote: 'Attach: Multiple photos of the same person from different angles + style guide. More references = better likeness.',\n    stages: [\n      // STAGE 1: Analyze all references and stylize\n      {\n        id: 'stage_0',\n        order: 0,\n        template: `You have multiple reference photos of the SAME person from different angles.\n\nCRITICAL: Analyze ALL attached reference images to build a complete understanding of this person:\n- Study facial structure from every available angle\n- Note how features look from front, side, 3/4 view\n- Identify consistent skin tone, hair texture, body proportions\n- Catalog distinguishing features: moles, freckles, facial hair, scars\n\nNow transform this person into <<ART_STYLE:select(claymation,watercolor,cartoon,anime,3D animated,illustrated,storybook,Disney-style,Pixar-style)!>> style.\n\nABSOLUTE LIKENESS PRESERVATION:\nEven in stylized form, someone who knows this person should recognize them instantly.\nMaintain ALL distinctive features in stylized form.\nUse the multiple angles to ensure 3D-consistent stylization.\n\nSTYLE TRANSFER (use attached style guide):\n- Match style guide's color palette and saturation\n- Match line quality and rendering approach\n- Match level of stylization\n- Match lighting and shadow style\n\nOutput: The character in stylized form, full body, clean background.`,\n        fields: [],\n        referenceImages: [],\n      },\n      // STAGE 2: Generate character sheet\n      {\n        id: 'stage_1',\n        order: 1,\n        template: `Name/Tag: @<<CHARACTER_NAME:name!>>\n\nCreate a professional character reference sheet.\n\nCRITICAL: Maintain PERFECT LIKENESS across all views - this must clearly be the same person from every angle.\nUse your understanding from the multiple reference photos.\n\nCHARACTER SHEET LAYOUT (21:9 aspect ratio):\n\nLEFT SECTION - FULL BODY:\n- Large neutral standing pose, front view (primary)\n- Smaller side profile view\n- Smaller back view (if space permits)\n- Color palette strip: skin tone, hair color, eye color, main clothing colors\n\nRIGHT SECTION - EXPRESSIONS (2 rows × 5 columns):\nRow 1: Neutral, Happy, Sad, Angry, Surprised\nRow 2: Speaking, Shouting, Whispering, Smug/Confident, Scared\n\nTOP: Character name \"@<<CHARACTER_NAME:name!>>\" prominently displayed\n\nCONSISTENCY CHECK: All 10 expressions + all body views = SAME recognizable person.\nWhite/light gray background. Clean, production-ready layout.`,\n        fields: [],\n        referenceImages: [],\n      }\n    ],\n    suggestedAspectRatio: '21:9',\n    isQuickAccess: false,\n    quickAccessLabel: 'MultiRef',\n    categoryId: 'characters',\n  },\n\n  // Book Cover Generator - 2-stage pipeline for storybook\n  {\n    name: 'Book Cover Generator',\n    description: 'Generate 9 book cover variations, select one, upscale to final quality',\n    recipeNote: 'Attach: 1) Style guide, 2) Main character sheet. Enter book title.',\n    stages: [\n      // STAGE 1: Generate 9 cover variations in grid\n      {\n        id: 'stage_0',\n        order: 0,\n        template: `Create a 3x3 grid of 9 children's book cover variations.\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\n\nBOOK TITLE: \"<<BOOK_TITLE:text!>>\"\n\nCRITICAL - MAINTAIN EXACT ART STYLE:\nUse the attached style guide as your ABSOLUTE visual reference:\n- Match color palette EXACTLY (same saturation, same hues)\n- Match rendering style (painterly, flat, textured, 3D, etc.)\n- Match line quality (thick outlines, thin lines, no outlines)\n- Match lighting approach (soft, dramatic, flat)\n- Match level of detail and stylization\n\nCRITICAL - MAINTAIN CHARACTER LIKENESS:\nUse the attached character sheet for the main character:\n- Same facial structure and proportions\n- Same clothing/outfit style\n- Same color scheme for character\n- Character must be RECOGNIZABLE across all 9 covers\n\nCHILDREN'S BOOK COVER BEST PRACTICES:\n- Title should be LARGE, READABLE, and positioned strategically\n- Title font should match the book's tone (playful, adventurous, cozy)\n- Character should be the FOCAL POINT and emotionally engaging\n- Use bright, appealing colors that attract children\n- Create visual hierarchy: Title → Character → Background\n- Leave breathing room around the title\n- Background should support the story mood without overwhelming\n\n9 VARIATION APPROACHES:\n1. Character close-up with expressive face, title above\n2. Character in action pose, title integrated into scene\n3. Character with story-relevant props/elements\n4. Dramatic silhouette with glowing/magical elements\n5. Character in their world/environment\n6. Whimsical/playful composition with fun angles\n7. Classic centered composition with decorative border\n8. Modern bold design with strong shapes\n9. Adventure/journey feel with dynamic perspective\n\nAll 9 in <<ASPECT_RATIO:select(2:3,3:4,1:1,4:5)!>> aspect ratio.\nNO mockup frames - just the cover art with BLACK GRID LINES separating cells.`,\n        fields: [],\n        referenceImages: [],\n      },\n      // STAGE 2: Upscale selected cover\n      {\n        id: 'stage_1',\n        order: 1,\n        template: `Take this book cover and enhance it to publication quality.\n\nMAINTAIN EXACTLY:\n- The exact composition - do not crop or reframe\n- The exact art style from the style guide\n- The exact character likeness\n- The title text and positioning\n- All visual elements and their relationships\n\nENHANCE:\n- Resolution and fine detail\n- Color vibrancy and contrast\n- Title text clarity and readability\n- Edge definition and sharpness\n- Texture detail in character and environment\n\nOutput a single high-quality children's book cover ready for print (300 DPI equivalent quality).`,\n        fields: [],\n        referenceImages: [],\n      }\n    ],\n    suggestedAspectRatio: '2:3',\n    isQuickAccess: true,\n    quickAccessLabel: 'BookCover',\n    categoryId: 'scenes',\n  },\n\n  // Story Page Variations - for storybook page-by-page generation\n  {\n    name: 'Story Page Variations',\n    description: 'Generate 9 image variations for a single story page. Attach character sheet(s) and style guide.',\n    recipeNote: 'Attach: 1) Character sheet(s), 2) Style guide. The 9 variations will be in a 3x3 grid with black separator lines for easy extraction.',\n    stages: [{\n      id: 'stage_0',\n      order: 0,\n      template: `STORY MOMENT:\n<<PAGE_TEXT:text!>>\n\nCreate a 3x3 grid (9 variations) illustrating this story moment for a children's book.\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\n\nCRITICAL - ABSOLUTE STYLE CONSISTENCY:\nMatch the attached style guide EXACTLY across all 9 cells:\n- Same color palette and saturation\n- Same rendering approach (painterly, flat, 3D, etc.)\n- Same line quality and edge treatment\n- Same lighting style and mood\n- Same level of detail and stylization\n\nCRITICAL - ABSOLUTE CHARACTER CONSISTENCY:\nMatch the attached character sheet(s) EXACTLY:\n- Same facial structure and proportions\n- Same body type and posture style\n- Same clothing and color scheme\n- Same hair style and color\n- Character must be INSTANTLY RECOGNIZABLE in all 9 cells\n\n<<STYLE_NOTES:text>>\n<<CHARACTER_NOTES:text>>\n\nTHE 9 COMPOSITION VARIATIONS:\n1. WIDE ESTABLISHING - Full environment, characters smaller in scene\n2. MEDIUM SCENE - Characters at medium distance, context visible\n3. CHARACTER FOCUS - Close on character(s), emotion clear\n4. ACTION MOMENT - Peak of action, dynamic energy\n5. REACTION SHOT - Character's emotional response\n6. ENVIRONMENT DETAIL - Focus on setting/props that matter to story\n7. LOW ANGLE - Looking up, adds drama or wonder\n8. HIGH ANGLE - Looking down, shows spatial relationship\n9. CLASSIC STORYBOOK - Centered, balanced, traditional composition\n\nEach cell shows the SAME story moment, just framed differently.\nNO text overlays in the images.\nBlack grid lines between all cells.`,\n      fields: [],\n      referenceImages: [],\n    }],\n    suggestedAspectRatio: '1:1',\n    isQuickAccess: true,\n    quickAccessLabel: 'PageVar',\n    categoryId: 'scenes',\n  },\n\n  // Character Through Ages - Same character at different life stages\n  {\n    name: 'Character Through Ages',\n    description: 'Show the same character at 9 different ages - from baby to elderly',\n    recipeNote: 'Attach your character reference. The character will be shown at 9 life stages while maintaining their core identity and distinguishing features.',\n    stages: [{\n      id: 'stage_0',\n      order: 0,\n      template: `Analyze the reference character. This is @<<CHARACTER_NAME:name!>>.\n\nGenerate a 3x3 grid showing this SAME CHARACTER at 9 different life stages.\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\n\nCRITICAL - IDENTITY PRESERVATION:\nThroughout ALL ages, maintain the character's:\n- Core facial structure proportions (adjusted for age appropriately)\n- Distinctive features (birthmarks, dimples, nose shape, ear shape)\n- Eye color and shape\n- Ethnicity and skin tone\n- Overall \"essence\" - they must be recognizably the SAME PERSON\n\nTHE 9 AGES (in order):\n\nROW 1 - CHILDHOOD:\n1. BABY (0-1): Infant version, soft features, same distinctive markers\n2. TODDLER (2-4): Playful, curious expression, developing features\n3. CHILD (6-8): School age, personality emerging, same core features\n\nROW 2 - YOUTH TO ADULT:\n4. PRETEEN (10-12): Transitioning features, recognizable identity\n5. TEENAGER (15-17): Young adult features forming, same person clearly\n6. YOUNG ADULT (25-30): Prime of life, full adult features\n\nROW 3 - MATURITY:\n7. MIDDLE AGE (45-50): Some aging signs, same core identity\n8. SENIOR (65-70): Gray hair, wrinkles, but still recognizably them\n9. ELDERLY (80+): Advanced age, wisdom in eyes, same person\n\nEach cell shows a portrait (shoulders-up or chest-up) with appropriate:\n- Age-appropriate hairstyle (but consistent hair texture/color until graying)\n- Age-appropriate clothing style for each era\n- Age-appropriate expression and demeanor\n\n<<ART_STYLE:select(realistic,illustrated,3D animated,painterly,claymation)>>\n\nBlack grid lines between all cells. No text labels.`,\n      fields: [],\n      referenceImages: [],\n    }],\n    suggestedAspectRatio: '1:1',\n    isQuickAccess: true,\n    quickAccessLabel: 'Ages',\n    categoryId: 'characters',\n  },\n\n  // Character Generator - Generate 9 unique character designs from basic traits\n  {\n    name: 'Character Generator',\n    description: 'Generate 9 unique character designs from basic traits. Pick your favorite to become your main character.',\n    recipeNote: 'Attach your style guide. Enter character traits (age, gender, distinctive features). Get 9 unique designs to choose from!',\n    stages: [{\n      id: 'stage_0',\n      order: 0,\n      template: `Generate a 3x3 grid of 9 COMPLETELY UNIQUE character designs for a children's book.\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\n\nCRITICAL - MATCH THE ATTACHED STYLE GUIDE EXACTLY:\n- Same color palette and saturation\n- Same rendering style (painterly, flat, 3D, claymation, etc.)\n- Same line quality and edge treatment\n- Same level of stylization\n- Same lighting approach\n\nALL 9 CHARACTERS MUST SHARE THESE TRAITS:\n- Gender: <<GENDER:select(girl,boy,non-binary)!>>\n- Age: <<AGE:select(toddler (2-4),young child (5-7),older child (8-10),preteen (11-13))!>>\n- Ethnicity: <<ETHNICITY:select(Black,White,Asian,Hispanic/Latino,South Asian,Middle Eastern,Mixed/Multiracial,Indigenous,any)!>>\n<<DISTINCTIVE_FEATURES:text>>\n\nBUT EACH CHARACTER MUST BE COMPLETELY DIFFERENT IN:\n- Face shape and features (round, oval, angular, etc.)\n- Hair style (braids, locs, curly, straight, short, long, ponytail, etc.)\n- Hair color (if appropriate for ethnicity)\n- Body type (tall, short, thin, chubby, athletic)\n- Clothing style (casual, sporty, dressy, artistic, etc.)\n- Personality expressed through pose/expression (shy, confident, curious, playful, etc.)\n\nLAYOUT: Each cell shows ONE character in a full-body pose with clean background.\nShow personality through pose and expression.\nMake each character instantly distinguishable from the others.\nThese should feel like 9 different main characters, not variations of the same person.\n\nNo text labels. Black grid lines between cells.`,\n      fields: [],\n      referenceImages: [],\n    }],\n    suggestedAspectRatio: '1:1',\n    isQuickAccess: true,\n    quickAccessLabel: 'CharGen',\n    categoryId: 'characters',\n  },\n\n  // Wardrobe Variations - Character in different outfits (user specifies each)\n  {\n    name: 'Wardrobe Variations',\n    description: 'Generate 6 variations of your character in different outfits you specify',\n    recipeNote: 'Attach your character reference. Specify what outfit/look goes in each cell, or leave blank for random luxury outfits.',\n    stages: [{\n      id: 'stage_0',\n      order: 0,\n      template: `Analyze the character in the reference image. This is @<<CHARACTER_NAME:name!>>.\n\nCreate a 2x3 grid (2 rows, 3 columns) showing this EXACT same character in 6 different outfits.\n\nCRITICAL - MAINTAIN ACROSS ALL 6 CELLS:\n- Identical face, facial features, expression style\n- Same hair style and color\n- Same body type and proportions\n- Same art style and rendering quality\n- Same age and overall appearance\n\nEACH CELL LAYOUT:\n- <<BACKGROUND_COLOR:select(white,light gray,soft blue,cream,pale pink,mint green)!>> background\n- Full body view showing complete outfit\n- Clean, production-ready framing\n\nTHE 6 OUTFITS (Row 1, Col 1 → Row 2, Col 3):\nRow 1, Col 1: <<OUTFIT_1:text>>\nRow 1, Col 2: <<OUTFIT_2:text>>\nRow 1, Col 3: <<OUTFIT_3:text>>\nRow 2, Col 1: <<OUTFIT_4:text>>\nRow 2, Col 2: <<OUTFIT_5:text>>\nRow 2, Col 3: <<OUTFIT_6:text>>\n\nIf any outfit field is empty, generate a creative luxury outfit variation.\nEach outfit should be COMPLETELY DIFFERENT in style, silhouette, and color palette.\nNo text labels - clean imagery only.`,\n      fields: [],\n      referenceImages: [\n        {\n          id: 'template_wardrobe_grid',\n          url: SYSTEM_TEMPLATE_URLS.wardrobeGrid,\n          name: 'Wardrobe 2x3 Grid Layout',\n          aspectRatio: '16:9',\n        },\n      ],\n    }],\n    suggestedAspectRatio: '16:9',\n    isQuickAccess: true,\n    quickAccessLabel: 'Wardrobe',\n    categoryId: 'characters',\n  },\n\n  // Eye Level Grid - Standard eye-level shots with user-selected sizes\n  {\n    name: 'Eye Level Grid',\n    description: '3x3 grid with your image centered. All shots at eye level. Choose 8 shot sizes for surrounding frames.',\n    recipeNote: 'Attach a reference image. It goes in the center. Pick sizes for the 8 surrounding frames - all at eye level.',\n    stages: [{\n      id: 'stage_0',\n      order: 0,\n      template: `Create a 3x3 cinematic contact sheet with the attached image as CENTER reference.\n\nCAMERA ANGLE: EYE LEVEL (straight on, neutral perspective) - LOCKED for all 8 frames\nIMPORTANT: Separate each cell with solid BLACK LINE (4-6 pixels wide).\n\nTHE 8 FRAMES (all eye level, only size varies):\n1. Top-Left: <<FRAME_1:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\n2. Top-Center: <<FRAME_2:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\n3. Top-Right: <<FRAME_3:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\n4. Middle-Left: <<FRAME_4:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\n5. Middle-Right: <<FRAME_5:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\n6. Bottom-Left: <<FRAME_6:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\n7. Bottom-Center: <<FRAME_7:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\n8. Bottom-Right: <<FRAME_8:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\n\nCENTER: Use attached reference image as-is\n\nREQUIREMENTS:\n- ALL 8 frames: EYE LEVEL (camera at subject's eye height, straight on)\n- Identical subject, outfit, environment, lighting\n- Depth of field: shallower for tighter shots\n- Black grid lines between all 9 cells\n- No labels or text overlays`,\n      fields: [],\n      referenceImages: [],\n    }],\n    suggestedAspectRatio: '1:1',\n    isQuickAccess: true,\n    quickAccessLabel: 'EyeLevel',\n    categoryId: 'scenes',\n  },\n\n  // Low Angle Grid - All shots looking up at subject\n  {\n    name: 'Low Angle Grid',\n    description: '3x3 grid with your image centered. All shots from low angle looking UP. Choose 8 shot sizes.',\n    recipeNote: 'Attach a reference image. It goes in the center. Pick sizes for the 8 surrounding frames - all looking UP at subject.',\n    stages: [{\n      id: 'stage_0',\n      order: 0,\n      template: `Create a 3x3 cinematic contact sheet with the attached image as CENTER reference.\n\nCAMERA ANGLE: LOW ANGLE (worm's eye, looking UP at subject) - LOCKED for all 8 frames\nIMPORTANT: Separate each cell with solid BLACK LINE (4-6 pixels wide).\n\nTHE 8 FRAMES (all low angle, only size varies):\n1. Top-Left: <<FRAME_1:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\n2. Top-Center: <<FRAME_2:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\n3. Top-Right: <<FRAME_3:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\n4. Middle-Left: <<FRAME_4:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\n5. Middle-Right: <<FRAME_5:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\n6. Bottom-Left: <<FRAME_6:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\n7. Bottom-Center: <<FRAME_7:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\n8. Bottom-Right: <<FRAME_8:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\n\nCENTER: Use attached reference image as-is\n\nREQUIREMENTS:\n- ALL 8 frames: LOW ANGLE (camera below, looking up at subject - heroic/powerful perspective)\n- Identical subject, outfit, environment, lighting\n- Depth of field: shallower for tighter shots\n- Black grid lines between all 9 cells\n- No labels or text overlays`,\n      fields: [],\n      referenceImages: [],\n    }],\n    suggestedAspectRatio: '1:1',\n    isQuickAccess: true,\n    quickAccessLabel: 'LowAngle',\n    categoryId: 'scenes',\n  },\n\n  // High Angle Grid - All shots looking down at subject\n  {\n    name: 'High Angle Grid',\n    description: '3x3 grid with your image centered. All shots from high angle looking DOWN. Choose 8 shot sizes.',\n    recipeNote: 'Attach a reference image. It goes in the center. Pick sizes for the 8 surrounding frames - all looking DOWN at subject.',\n    stages: [{\n      id: 'stage_0',\n      order: 0,\n      template: `Create a 3x3 cinematic contact sheet with the attached image as CENTER reference.\n\nCAMERA ANGLE: HIGH ANGLE (bird's eye, looking DOWN at subject) - LOCKED for all 8 frames\nIMPORTANT: Separate each cell with solid BLACK LINE (4-6 pixels wide).\n\nTHE 8 FRAMES (all high angle, only size varies):\n1. Top-Left: <<FRAME_1:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\n2. Top-Center: <<FRAME_2:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\n3. Top-Right: <<FRAME_3:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\n4. Middle-Left: <<FRAME_4:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\n5. Middle-Right: <<FRAME_5:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\n6. Bottom-Left: <<FRAME_6:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\n7. Bottom-Center: <<FRAME_7:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\n8. Bottom-Right: <<FRAME_8:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\n\nCENTER: Use attached reference image as-is\n\nREQUIREMENTS:\n- ALL 8 frames: HIGH ANGLE (camera above, looking down at subject - diminishing/overview perspective)\n- Identical subject, outfit, environment, lighting\n- Depth of field: shallower for tighter shots\n- Black grid lines between all 9 cells\n- No labels or text overlays`,\n      fields: [],\n      referenceImages: [],\n    }],\n    suggestedAspectRatio: '1:1',\n    isQuickAccess: true,\n    quickAccessLabel: 'HighAngle',\n    categoryId: 'scenes',\n  },\n\n  // Wide Shot Grid - Environmental focus with wider shots\n  {\n    name: 'Wide Shot Grid',\n    description: '3x3 grid with your image centered. Environmental focus with wider shot options. Choose 8 shot sizes.',\n    recipeNote: 'Attach a reference image. It goes in the center. Pick sizes for the 8 surrounding frames - biased toward establishing/environmental shots.',\n    stages: [{\n      id: 'stage_0',\n      order: 0,\n      template: `Create a 3x3 cinematic contact sheet with the attached image as CENTER reference.\n\nCAMERA ANGLE: EYE LEVEL (environmental/establishing focus) - LOCKED for all 8 frames\nIMPORTANT: Separate each cell with solid BLACK LINE (4-6 pixels wide).\n\nTHE 8 FRAMES (eye level, wide shot bias, only size varies):\n1. Top-Left: <<FRAME_1:select(Extreme Wide Shot,Wide Shot,Medium Wide Shot,Medium Shot,Full Body Shot,Establishing Shot,Environmental Shot,Vista Shot)!>>\n2. Top-Center: <<FRAME_2:select(Extreme Wide Shot,Wide Shot,Medium Wide Shot,Medium Shot,Full Body Shot,Establishing Shot,Environmental Shot,Vista Shot)!>>\n3. Top-Right: <<FRAME_3:select(Extreme Wide Shot,Wide Shot,Medium Wide Shot,Medium Shot,Full Body Shot,Establishing Shot,Environmental Shot,Vista Shot)!>>\n4. Middle-Left: <<FRAME_4:select(Extreme Wide Shot,Wide Shot,Medium Wide Shot,Medium Shot,Full Body Shot,Establishing Shot,Environmental Shot,Vista Shot)!>>\n5. Middle-Right: <<FRAME_5:select(Extreme Wide Shot,Wide Shot,Medium Wide Shot,Medium Shot,Full Body Shot,Establishing Shot,Environmental Shot,Vista Shot)!>>\n6. Bottom-Left: <<FRAME_6:select(Extreme Wide Shot,Wide Shot,Medium Wide Shot,Medium Shot,Full Body Shot,Establishing Shot,Environmental Shot,Vista Shot)!>>\n7. Bottom-Center: <<FRAME_7:select(Extreme Wide Shot,Wide Shot,Medium Wide Shot,Medium Shot,Full Body Shot,Establishing Shot,Environmental Shot,Vista Shot)!>>\n8. Bottom-Right: <<FRAME_8:select(Extreme Wide Shot,Wide Shot,Medium Wide Shot,Medium Shot,Full Body Shot,Establishing Shot,Environmental Shot,Vista Shot)!>>\n\nCENTER: Use attached reference image as-is\n\nREQUIREMENTS:\n- ALL 8 frames: Show MORE ENVIRONMENT than subject\n- Establish context, location, atmosphere\n- Identical subject, outfit, environment, lighting\n- Deeper depth of field to show environmental detail\n- Black grid lines between all 9 cells\n- No labels or text overlays`,\n      fields: [],\n      referenceImages: [],\n    }],\n    suggestedAspectRatio: '1:1',\n    isQuickAccess: true,\n    quickAccessLabel: 'WideShots',\n    categoryId: 'scenes',\n  },\n\n  // 5 Minutes Later - Time progression from a single action\n  {\n    name: '5 Minutes Later',\n    description: 'Show time progression of an action through 9 frames - from normal state to consequences',\n    recipeNote: 'Attach a starting image (person in normal state). Enter what action they decide to do. The 9 frames show the progression from decision to consequences.',\n    stages: [{\n      id: 'stage_0',\n      order: 0,\n      template: `Analyze the reference image. This is the STARTING STATE - the person in their normal life before making a decision.\n\nGenerate a 3x3 grid showing a TIME PROGRESSION narrative of what happens after this person decides to: <<ACTION:text!>>\n\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\n\nCRITICAL - ABSOLUTE CONSISTENCY:\n- SAME person (exact face, body, features) in all 9 frames\n- Only clothing changes if the story requires it\n- Art style remains PERFECTLY consistent\n- Each frame shows a different MOMENT IN TIME\n\nTHE 9 FRAMES (Time Progression):\n\nROW 1 - THE DECISION (0-5 minutes):\n1. NORMAL STATE: The person in their everyday life, as shown in the reference image. Peaceful, mundane, routine.\n2. THE IDEA: A thought bubble or expression showing they're considering the action. Internal conflict visible.\n3. PREPARATION: Making ready - gathering items, making a plan, the moment before commitment.\n\nROW 2 - THE ACTION (5-30 minutes):\n4. POINT OF NO RETURN: The decisive moment - stepping through the door, making the call, starting the action.\n5. IN THE MIDDLE: Deep in the action - fully committed, adrenaline, focus, the peak of the event.\n6. IMMEDIATE AFTERMATH: The action complete - catching breath, looking at what they've done, first reaction.\n\nROW 3 - THE CONSEQUENCES (30 minutes - hours later):\n7. RIPPLES BEGIN: First signs of consequences - other people noticing, things changing, domino effects starting.\n8. FULL CONSEQUENCES: The weight of the decision fully realized - emotional, social, or physical impact visible.\n9. NEW NORMAL: The final state - how their life has changed, for better or worse, the new equilibrium.\n\nVISUAL STORYTELLING:\n- Use lighting to show mood progression (warm → tense → cool or vice versa)\n- Vary shot types: wide establishing → medium → close-up for emotional beats\n- Time-of-day can progress to show passage of time\n- Environmental details should reflect consequences (messy vs clean, crowded vs empty)\n\n<<TONE:select(comedic/lighthearted,dramatic/serious,absurdist/surreal,wholesome/heartwarming,dark comedy)!>>\n<<TIME_SPAN:select(5 minutes to 1 hour,1 hour to 1 day,1 day to 1 week,instant to lifetime)!>>\n\nThe story should be VISUALLY CLEAR without text.\nBlack grid lines between all cells. No dialogue or captions.`,\n      fields: [],\n      referenceImages: [],\n    }],\n    suggestedAspectRatio: '1:1',\n    isQuickAccess: true,\n    quickAccessLabel: '5MinLater',\n    categoryId: 'time-based',\n  },\n\n  // ============================================================================\n  // NEW RECIPES FROM NANO BANANA PRO COMMUNITY\n  // ============================================================================\n\n  // Professional Headshot - Transform any photo into polished headshot\n  {\n    name: 'Professional Headshot',\n    description: 'Transform any photo into a polished professional headshot for LinkedIn, websites, or corporate use',\n    recipeNote: 'Upload a photo of the person. Choose style, lighting, and background options.',\n    stages: [{\n      id: 'stage_0',\n      order: 0,\n      template: `Keep facial features EXACTLY consistent with reference image.\nPreserve: face shape, eye color, skin tone, distinctive features, facial structure.\n\nSTYLE: <<STYLE:select(Corporate LinkedIn,Creative Industry,Executive Portrait,Casual Professional,Academic/Research,Tech Startup,Real Estate Agent,Healthcare Professional)!>>\n\nLIGHTING: <<LIGHTING:select(Bright Studio (clean/corporate),Soft Natural Window Light,Dramatic Rim Light,High Key (bright/airy),Golden Hour Warmth,Split Light (artistic),Loop Lighting (classic portrait))!>>\n\nBACKGROUND: <<BACKGROUND:select(Pure White,Soft Gray Gradient,Blurred Office Environment,Gradient Blue (professional),Dark Professional,Natural Bokeh,Architectural Elements)!>>\n\nFRAMING: Professional headshot framing\n- Shoulders up, centered composition\n- Head occupies 60-70% of vertical frame\n- Eyes at upper third intersection\n- Slight negative space above head\n\nQUALITY REQUIREMENTS:\n- Shot on professional camera with 85mm f/1.4 lens equivalent\n- High-resolution, tack sharp focus on eyes\n- Natural skin texture, subtle retouching\n- Professional color grading\n- Clean, polished final look suitable for business use`,\n      fields: [],\n      referenceImages: [],\n    }],\n    suggestedAspectRatio: '1:1',\n    isQuickAccess: true,\n    quickAccessLabel: 'Headshot',\n    categoryId: 'characters',\n  },\n\n  // Virtual Try-On - See yourself in different clothing\n  {\n    name: 'Virtual Try-On',\n    description: 'Composite clothing onto a person - perfect for fashion visualization',\n    recipeNote: 'Attach: 1) Photo of person (full body or upper body), 2) Photo of garment/clothing item. The AI will dress the person in the garment.',\n    stages: [{\n      id: 'stage_0',\n      order: 0,\n      template: `VIRTUAL TRY-ON TASK:\nDress the person in the provided garment while maintaining their exact identity.\n\nCRITICAL - PRESERVE EXACTLY:\n- Face: identical facial features, expression, skin tone\n- Body: same body type, proportions, pose (adjust naturally for clothing)\n- Hair: identical style, color, and arrangement\n- Accessories: keep any jewelry, glasses, watches unless they conflict with garment\n\nGARMENT APPLICATION:\n- Fit the garment naturally to the person's body type\n- Maintain garment's original color, texture, and details\n- Add realistic fabric physics (draping, folding, stretching)\n- Match lighting on garment to scene lighting\n- Add appropriate shadows where garment meets body\n\n<<FIT_STYLE:select(True to size,Slightly oversized,Fitted/tailored,Loose/relaxed)>>\n<<SETTING:select(Keep original background,Clean studio white,Fashion editorial backdrop,Casual lifestyle setting,E-commerce product shot)!>>\n\nOUTPUT: Photorealistic image of the person wearing the garment.\nShould look like an actual photo, not a composite.`,\n      fields: [],\n      referenceImages: [],\n    }],\n    suggestedAspectRatio: '3:4',\n    isQuickAccess: true,\n    quickAccessLabel: 'TryOn',\n    categoryId: 'products',\n  },\n\n  // Magazine Cover - Create editorial magazine covers\n  {\n    name: 'Magazine Cover',\n    description: 'Transform a photo into a professional magazine cover with titles and layouts',\n    recipeNote: 'Attach a photo of the subject. Enter magazine name and headline. Choose a color scheme.',\n    stages: [{\n      id: 'stage_0',\n      order: 0,\n      template: `Create a professional magazine cover featuring the subject from the reference image.\n\nMAGAZINE: \"<<MAGAZINE_NAME:text!>>\"\nHEADLINE: \"<<HEADLINE:text!>>\"\n<<SUBHEADLINES:text>>\n\nSUBJECT TREATMENT:\n- Keep subject's exact likeness\n- Frame as hero/cover shot (typically chest-up or 3/4 body)\n- Add editorial-quality lighting and color grading\n- High fashion/editorial styling feel\n\nLAYOUT STYLE: <<LAYOUT:select(Classic Fashion (Vogue style),Modern Minimalist,Bold Typography,Luxury Lifestyle,Entertainment Weekly style,Business/Forbes style,Sports Illustrated style)!>>\n\nCOLOR SCHEME: <<COLORS:select(Classic White/Black,Bold Red Accent,Luxury Gold,Cool Blues,Warm Neutrals,Vibrant Pop Colors,Monochromatic)!>>\n\nTYPOGRAPHY:\n- Magazine title prominently at top\n- Main headline as largest text\n- 2-3 smaller subheadlines/teasers\n- Text should NOT obscure the subject's face\n- Professional editorial typography\n\nQUALITY: High-end glossy magazine finish, ready for print.`,\n      fields: [],\n      referenceImages: [],\n    }],\n    suggestedAspectRatio: '2:3',\n    isQuickAccess: true,\n    quickAccessLabel: 'Magazine',\n    categoryId: 'products',\n  },\n\n  // Infographic Generator - Visual explanation of any topic\n  {\n    name: 'Infographic Generator',\n    description: 'Generate a visual infographic explaining any topic with icons and illustrations',\n    recipeNote: 'Enter the topic to explain. The AI will create a visual infographic with icons, illustrations, and clear visual hierarchy.',\n    stages: [{\n      id: 'stage_0',\n      order: 0,\n      template: `Create an engaging visual infographic about: <<TOPIC:text!>>\n\n<<ADDITIONAL_DETAILS:text>>\n\nSTYLE: <<STYLE:select(Modern Flat Design,Isometric 3D,Hand-Drawn Sketch,Corporate Professional,Playful/Fun,Technical/Scientific,Retro/Vintage)!>>\n\nCOLOR SCHEME: <<COLORS:select(Corporate Blues,Nature Greens,Warm Sunset,Monochrome,Vibrant Rainbow,Pastel Soft,Dark Mode)!>>\n\nINFOGRAPHIC REQUIREMENTS:\n- Clear visual hierarchy (most important info largest)\n- Icons and illustrations to represent concepts\n- Data visualization if applicable (charts, graphs)\n- Visual flow that guides the eye top-to-bottom or left-to-right\n- Consistent icon style throughout\n- Balanced white space\n- Easy to understand at a glance\n\nSECTIONS TO INCLUDE:\n1. Title/Header with main topic\n2. Key statistics or facts (3-5 main points)\n3. Visual representations of processes or relationships\n4. Supporting icons and illustrations\n5. Conclusion or call-to-action\n\nTEXT: Include minimal, essential text labels.\nThe visuals should communicate the core ideas even without reading.\n\nOutput a single cohesive infographic image.`,\n      fields: [],\n      referenceImages: [],\n    }],\n    suggestedAspectRatio: '9:16',\n    isQuickAccess: true,\n    quickAccessLabel: 'Infograph',\n    categoryId: 'custom',\n  },\n\n  // Product Photography - Professional product shots\n  {\n    name: 'Product Photography',\n    description: 'Transform product photos into professional e-commerce/advertising quality shots',\n    recipeNote: 'Attach a photo of the product. Choose lighting, background, and styling options.',\n    stages: [{\n      id: 'stage_0',\n      order: 0,\n      template: `Create a professional product photograph of the item in the reference image.\n\nPRODUCT PRESERVATION:\n- Maintain exact product shape, colors, textures, and branding\n- Keep all logos, text, and details sharp and readable\n- Preserve material properties (glossy, matte, metallic, etc.)\n\nLIGHTING STYLE: <<LIGHTING:select(Soft Box Studio,Hard Light Dramatic,Natural Window Light,Gradient Sweep,Rim/Edge Lighting,High Key Bright,Low Key Moody,Golden Hour)!>>\n\nBACKGROUND: <<BACKGROUND:select(Pure White (e-commerce),Gradient Gray,Contextual Lifestyle,Solid Color Pop,Textured Surface,Floating/Shadow Only,Environmental Setting)!>>\n\nANGLE/COMPOSITION: <<ANGLE:select(Hero Front View,45-Degree Beauty Shot,Top-Down Flat Lay,Side Profile,3/4 Perspective,Detail Close-Up)!>>\n\nSTYLING: <<STYLING:select(Minimal Clean,Props and Accessories,Lifestyle Context,Luxury Premium,Playful and Fun,Technical/Industrial)>>\n\nQUALITY REQUIREMENTS:\n- Advertising/e-commerce quality\n- Sharp focus throughout product\n- Professional color accuracy\n- Clean, distraction-free composition\n- Ready for print or web use`,\n      fields: [],\n      referenceImages: [],\n    }],\n    suggestedAspectRatio: '1:1',\n    isQuickAccess: true,\n    quickAccessLabel: 'Product',\n    categoryId: 'products',\n  },\n\n  // Split View 3D Render - Realistic vs technical visualization\n  {\n    name: 'Split View 3D',\n    description: 'Create a split-view image showing realistic render on one side and wireframe/technical on the other',\n    recipeNote: 'Attach an image of an object, character, or scene. The AI will create a dramatic split showing photorealistic vs technical view.',\n    stages: [{\n      id: 'stage_0',\n      order: 0,\n      template: `Create a SPLIT VIEW visualization of the subject from the reference image.\n\nSPLIT STYLE: <<SPLIT:select(Left Realistic / Right Wireframe,Top Realistic / Bottom Technical,Diagonal Split,Center Explode View,Fade Transition)!>>\n\nLEFT/TOP SIDE - PHOTOREALISTIC:\n- Fully rendered photorealistic visualization\n- Proper materials, textures, and lighting\n- Studio-quality rendering\n- Complete, finished look\n\nRIGHT/BOTTOM SIDE - TECHNICAL: <<TECHNICAL_STYLE:select(Wireframe Mesh,Blueprint Schematic,X-Ray/Cutaway,Construction Lines,Low-Poly Geometric,Technical Drawing,Exploded Components)!>>\n\nSUBJECT TREATMENT:\n- Both views show the SAME subject from the SAME angle\n- Seamless transition at the split point\n- Technical side should reveal internal structure or construction\n- Maintain consistent lighting direction across both halves\n\nCOLOR SCHEME FOR TECHNICAL SIDE: <<TECH_COLORS:select(Classic Blue Blueprint,Green Matrix/Tech,Orange Wireframe,White on Black,Cyan/Magenta,Gradient Neon)!>>\n\nOUTPUT: Single image with dramatic split visualization.\nProfessional quality suitable for portfolio, presentation, or advertising.`,\n      fields: [],\n      referenceImages: [],\n    }],\n    suggestedAspectRatio: '16:9',\n    isQuickAccess: true,\n    quickAccessLabel: 'SplitView',\n    categoryId: 'products',\n  },\n\n  // Viral Thumbnail - Eye-catching video thumbnails\n  {\n    name: 'Viral Thumbnail',\n    description: 'Create eye-catching YouTube/TikTok thumbnails with dramatic expressions and text',\n    recipeNote: 'Attach a photo of the person. Enter the video title/hook. Choose an emotion style.',\n    stages: [{\n      id: 'stage_0',\n      order: 0,\n      template: `Create a viral-worthy video thumbnail for: \"<<VIDEO_TITLE:text!>>\"\n\nSUBJECT FROM REFERENCE IMAGE:\n- Keep exact facial features and identity\n- AMPLIFY the expression for thumbnail impact\n\nEXPRESSION/EMOTION: <<EMOTION:select(Shocked/Surprised (wide eyes open mouth),Excited/Hyped,Curious/Intrigued,Angry/Frustrated,Laughing/Joy,Mind-Blown,Skeptical/Side-Eye,Crying/Emotional)!>>\n\nTHUMBNAIL STYLE: <<STYLE:select(YouTube Classic (bold text + face),MrBeast Style (extreme expression),Tech Review (clean + product),Vlog Style (lifestyle),Educational (professional),Gaming/Reaction,Clickbait Maximum)!>>\n\nTEXT TREATMENT:\n- Title or hook text: LARGE, BOLD, READABLE\n- Maximum 3-5 words visible\n- High contrast against background\n- Slight outline/shadow for readability\n\nVISUAL ELEMENTS: <<ELEMENTS:select(Arrows and circles pointing at something,Emoji overlays,Before/After split,Money/Numbers,Red X or Green Checkmark,Fire or Explosion effects,Question marks)>>\n\nBACKGROUND: <<BACKGROUND:select(Blurred context,Solid bright color,Gradient,Scene from video,Abstract pattern)!>>\n\nREQUIREMENTS:\n- MUST be readable at small size (mobile feed)\n- Maximum visual impact in 1 second\n- Face should occupy 40-60% of frame\n- Text should not cover eyes\n- Bright, saturated colors`,\n      fields: [],\n      referenceImages: [],\n    }],\n    suggestedAspectRatio: '16:9',\n    isQuickAccess: true,\n    quickAccessLabel: 'Thumbnail',\n    categoryId: 'custom',\n  },\n\n  // Same Face Different Scenes - Consistent character across locations\n  {\n    name: 'Same Face Different Scenes',\n    description: 'Generate 9 images of the same person in completely different scenes/locations while maintaining perfect likeness',\n    recipeNote: 'Attach a photo of the person. The AI will place them in 9 different environments while keeping their face identical.',\n    stages: [{\n      id: 'stage_0',\n      order: 0,\n      template: `Analyze the person in the reference image. Generate a 3x3 grid showing this EXACT SAME PERSON in 9 completely different scenes.\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\n\nCRITICAL - ABSOLUTE FACE CONSISTENCY:\n- IDENTICAL facial features in every single frame\n- Same face shape, eye color, nose, mouth, skin tone\n- Same hair color and general style (can be styled differently)\n- This must CLEARLY be the same person in all 9 images\n- Age consistency - same person, same age throughout\n\nTHE 9 SCENES:\n\nROW 1 - URBAN/MODERN:\n1. Coffee Shop: Cozy café setting, warm lighting, casual atmosphere\n2. City Street: Urban environment, modern architecture, street style\n3. Office/Workspace: Professional setting, clean modern office\n\nROW 2 - NATURE/OUTDOOR:\n4. Beach: Ocean in background, golden hour lighting, relaxed vibe\n5. Forest/Mountain: Natural setting, adventure feel, outdoor clothing\n6. Garden/Park: Flowers or greenery, peaceful, natural light\n\nROW 3 - DRAMATIC/SPECIAL:\n7. Studio Portrait: Clean background, professional lighting, editorial quality\n8. Night Scene: City lights, dramatic lighting, evening atmosphere\n9. Fantasy/Creative: <<CREATIVE_SCENE:select(Futuristic sci-fi,Medieval castle,Underwater,Space station,Magical forest,Art gallery,Red carpet event,Sports arena)!>>\n\nCLOTHING: Appropriate for each scene but consistent with person's style.\nLIGHTING: Natural and appropriate for each environment.\nQUALITY: High-resolution, professional photography quality.\n\nBlack grid lines between all 9 cells. No text labels.`,\n      fields: [],\n      referenceImages: [],\n    }],\n    suggestedAspectRatio: '1:1',\n    isQuickAccess: true,\n    quickAccessLabel: 'SameFace',\n    categoryId: 'characters',\n  },\n\n  // Action Figure Box - Turn anyone into a collectible figure\n  {\n    name: 'Action Figure Box',\n    description: 'Transform a person into a collectible action figure in retail packaging',\n    recipeNote: 'Attach a photo of the person. Enter their name/title. The AI will create a realistic action figure in packaging.',\n    stages: [{\n      id: 'stage_0',\n      order: 0,\n      template: `Transform the person from the reference image into a collectible action figure in retail packaging.\n\nFIGURE NAME: \"<<FIGURE_NAME:text!>>\"\n<<TAGLINE:text>>\n\nPACKAGING STYLE: <<STYLE:select(Classic Action Figure (Hasbro/Mattel style),Funko Pop! Style,Premium Collector Edition,Vintage 80s/90s Retro,Japanese Import (anime style),Designer Art Toy,Sports Card + Figure,Barbie/Fashion Doll Style)!>>\n\nFIGURE REQUIREMENTS:\n- Face is a miniature version of the reference person (stylized appropriately)\n- Full body figure in dynamic or signature pose\n- Realistic figure materials (plastic, vinyl, articulation points visible)\n- Detailed accessories and props that suit the character\n\nPACKAGING ELEMENTS:\n- Clear plastic bubble/window showing figure\n- Cardboard backing with artwork and branding\n- Name prominently displayed\n- Age rating, brand logo, collector series info\n- 2-3 accessories visible in package\n\nBACKGROUND/SETTING: <<SETTING:select(Retail shelf with other toys,Clean product photography white,Collector display case,Toy store environment,Dramatic spotlight)!>>\n\nQUALITY: Photorealistic render of actual product packaging.\nShould look like a real toy you could buy in stores.`,\n      fields: [],\n      referenceImages: [],\n    }],\n    suggestedAspectRatio: '3:4',\n    isQuickAccess: true,\n    quickAccessLabel: 'ActionFig',\n    categoryId: 'products',\n  },\n\n  // =============================================================================\n  // STORYBOOK SYSTEM RECIPES (hidden from regular users, used internally)\n  // =============================================================================\n\n  // Storybook Character Sheet - 3-stage pipeline for generating character sheets\n  // Stage 0: Isolate character from photo\n  // Stage 1: Transform to custom art style\n  // Stage 2: Generate character sheet with expressions\n  {\n    name: 'Storybook Character Sheet',\n    description: 'Generate character sheet from photo for storybook using 3-stage pipeline: isolate, stylize, sheet generation',\n    recipeNote: 'This recipe is used internally by the Storybook feature. Requires: source photo, style guide image, and character sheet template.',\n    stages: [\n      // STAGE 0: Isolate character on white background\n      {\n        id: 'stage_0',\n        order: 0,\n        template: `Extract the person from this photo as a clean, isolated character portrait.\n\nCRITICAL LIKENESS PRESERVATION:\n- Exact facial structure: bone structure, jaw shape, cheekbones, nose shape, eye shape and spacing\n- Exact skin tone and undertones\n- Exact hair: color, texture, style, length, hairline shape\n- Exact body proportions: height, build, posture\n- Exact distinguishing features: moles, freckles, scars, dimples, facial hair\n\nOUTPUT:\n- Full-body standing pose on clean WHITE background\n- Neutral expression, relaxed posture\n- Soft studio lighting\n- Remove all background elements completely\n- Do NOT alter, enhance, or \"improve\" any facial features\n- The isolated character must be IDENTICAL to the input photo`,\n        fields: [],\n        referenceImages: [],\n      },\n      // STAGE 1: Transform to custom art style\n      {\n        id: 'stage_1',\n        order: 1,\n        template: `Transform this isolated character into <<STYLE_NAME:text!>> style.\n\nCRITICAL INSTRUCTIONS:\n- Follow the attached style guide reference EXACTLY\n- Do NOT deviate from the style shown in the reference\n- The style guide is the definitive visual reference - words are open to interpretation, images are not\n\nABSOLUTE LIKENESS PRESERVATION (even in stylized form):\n- Maintain exact facial proportions and structure\n- Keep distinctive features (nose shape, eye spacing, jawline)\n- Preserve exact skin tone relationships\n- Keep exact hair style, texture, and color\n- Maintain body proportions and posture\n\nSTYLE TRANSFER FROM REFERENCE:\n- Match the color palette and saturation exactly\n- Match line quality and rendering approach\n- Match level of stylization (how simplified features become)\n- Match lighting and shadow style\n- Match edge treatment (sharp vs soft)\n\nThe result should look like THIS SPECIFIC PERSON drawn in the <<STYLE_NAME:text!>> style.\nNOT a generic character that vaguely resembles them.\nOutput on clean white background.`,\n        fields: [],\n        referenceImages: [],\n      },\n      // STAGE 2: Generate character sheet with expressions\n      {\n        id: 'stage_2',\n        order: 2,\n        template: `CHARACTER: @<<CHARACTER_NAME:name!>>\n\nCreate a professional character reference sheet matching the attached template layout.\n\nCRITICAL: Every view and expression must clearly be the SAME PERSON from previous stages.\nFacial structure, proportions, and distinctive features must remain IDENTICAL across all views.\n\nCHARACTER SHEET LAYOUT (21:9 aspect ratio):\n\nLEFT SECTION - FULL BODY:\n- Large neutral standing pose, front view (primary reference)\n- Smaller side profile view\n- Smaller back view (if space permits)\n- Color palette strip: skin tone, hair color, eye color, main clothing colors\n\nRIGHT SECTION - EXPRESSIONS (2 rows × 5 columns):\nRow 1: Neutral, Happy, Sad, Angry, Surprised\nRow 2: Speaking, Shouting, Whispering, Smug/Confident, Scared\n\nTOP: Character name \"@<<CHARACTER_NAME:name!>>\" prominently displayed\n\nCRITICAL REQUIREMENTS:\n- All expressions maintain the SAME face structure - only expression changes\n- Maintain EXACT art style from previous stage\n- Clean white/light gray background\n- Black separator lines between expression cells (4-6 pixels)\n- Production-ready layout following the template reference`,\n        fields: [],\n        referenceImages: [\n          {\n            id: 'template_charsheet_advanced',\n            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\n            name: 'Character Sheet Layout Template',\n            aspectRatio: '21:9',\n          }\n        ],\n      },\n    ],\n    suggestedAspectRatio: '21:9',\n    suggestedModel: 'nano-banana-pro',\n    isQuickAccess: false,\n    categoryId: 'storybook',\n    isSystem: true,\n    isSystemOnly: true,  // Hidden from regular users - used internally by Storybook\n  },\n\n  // Storybook Character Sheet (From Description) - 2-stage pipeline for generating character sheets without photos\n  // Stage 0: Generate character appearance from text description\n  // Stage 1: Generate character sheet with expressions\n  {\n    name: 'Storybook Character Sheet (From Description)',\n    description: 'Generate character sheet from text description for storybook (no photo required)',\n    recipeNote: 'Used when no source photo is available. Generates character appearance from description in the target style, then creates a character sheet.',\n    stages: [\n      // STAGE 0: Generate character appearance from description\n      {\n        id: 'stage_desc_0',\n        order: 0,\n        type: 'generation',\n        template: `Generate a character based on this description:\n\nCHARACTER: @<<CHARACTER_NAME:name!>>\nROLE: <<CHARACTER_ROLE:text!>>\nDESCRIPTION: <<CHARACTER_DESCRIPTION:text!>>\n\nCRITICAL - PHYSICAL APPEARANCE:\nThe character's physical appearance MUST match the DESCRIPTION above EXACTLY:\n- Hair color, hair style, hair length\n- Clothing colors, clothing style\n- Age, build, body type\n- Skin tone, eye color\n- Any distinguishing features mentioned\n\nCRITICAL - ART STYLE ONLY:\nThe attached style guide reference shows the ART STYLE to use:\n- Rendering approach (cartoon style, line quality, edge treatment)\n- Color saturation and palette approach\n- Level of detail and stylization\n- Lighting and shading technique\n\nDO NOT copy the physical appearance, hair, or clothing from the style guide characters.\nONLY use the style guide for the art style/rendering approach.\n\nSETUP:\n- Full-body standing pose on clean WHITE background\n- Neutral expression, relaxed posture\n- Soft studio lighting\n\nOutput: Full-body character portrait matching the DESCRIPTION exactly, rendered in the art style shown in the style guide.`,\n        fields: [],\n        referenceImages: [],  // Style guide attached at runtime\n      },\n      // STAGE 1: Generate character sheet with expressions\n      {\n        id: 'stage_desc_1',\n        order: 1,\n        type: 'generation',\n        template: `Universal Character Sheet Template V3 - Precise Generation with Separated Sources\n\nCHARACTER: @<<CHARACTER_NAME:name!>>\nSTYLE: <<STYLE_NAME:text!>>\n\nINPUT SOURCES:\nThis generation uses THREE separate reference images:\n1. LAYOUT REFERENCE (character sheet template): Use ONLY for structural layout - panel positions, grid lines, labels\n2. CHARACTER REFERENCE (previous stage output): Source for character's physical features, clothing, identity\n3. STYLE REFERENCE (style guide): Defines the art style/rendering approach for final output\n\nCRITICAL: Do NOT copy the sketch/placeholder art from the template. Only use it for structure.\n\n---\n\nHEADER SECTION:\n- Top Left: Display \"CHARACTER @<<CHARACTER_NAME:name!>>\" prominently\n- Top Right: \"DESCRIPTION/DETAILS\" box (grey background, leave empty)\n\n---\n\nFULL BODY VIEWS (Left Section - Large Grid):\nLabel: \"FULL BODY VIEWS\"\nPanels (3 columns):\n1. Front View - Orthographic neutral standing pose, feet on baseline\n2. Side Profile View (Left facing) - Orthographic side view\n3. Back View - Orthographic back view\n\n---\n\nEXPRESSIONS & DETAILS (Upper Middle - 3×2 Grid):\nLabel: \"EXPRESSIONS & DETAILS\"\nStyle: Head and shoulders shot, consistent character model\n\nRow 1 (Talking States):\n1. TALKING-NEUTRAL: mouth slightly open, neutral brows\n2. TALKING-HAPPY: mouth open smiling, eyebrows raised\n3. TALKING-ANGRY: mouth open yelling, eyebrows furrowed\n\nRow 2 (Emotions):\n4. SAD: mouth closed down-turn, tearful eyes, sad brows\n5. SURPRISED: mouth small 'O' shape, eyes wide, brows high\n6. SMUG/CONFIDENT: slight smirk, confident gaze\n\n---\n\nTALKING VIEWS (Top Right - 1×3 Grid):\nLabel: \"TALKING VIEWS\"\nStyle: Angled headshots focusing on jaw movement\n\nPanels:\n1. 3/4 Rear Left - jawline and back of head while talking\n2. 3/4 Front Right - standard dialogue angle\n3. Profile Right - side profile talking mouth shape\n\n---\n\nCLOSE-UP DETAILS (Bottom Middle - 1×3 Strip):\nLabel: \"CLOSE-UP DETAILS\"\nStyle: Tight zoom on specific head features\n\nPanels:\n1. Front Face (Crop: Chin to Forehead)\n2. Side Profile/Ear Detail\n3. Rear Neck/Hairline Detail\n\n---\n\nACCESSORIES (Bottom Right - 3×3 Grid):\nLabel: \"ACCESSORIES\"\nIf character has accessories (hat, glasses, shoes, props), render isolated views here.\nIf no accessories, leave panels as empty grey placeholders.\n\nCRITICAL: Accessories must match the character reference and be rendered in <<STYLE_NAME:text!>> style.\n\n---\n\nCOLOR PALETTE (Bottom Left Strip):\nLabel: \"COLOR PALETTE\"\nFill swatches with exact colors from character:\n- FRONT: Main body color from front view\n- HAPPY: Key highlight from happy expression\n- YELLOW: Yellow elements (if present, else neutral grey)\n- HAIR: Character hair color\n- ANGRY: Shadow/highlight from angry expression\n- SAD: Shadow from sad expression\n- SURPRISED: Highlight from surprised expression\n- SMUG: Color from smug expression\n\n---\n\nCRITICAL REQUIREMENTS:\n✓ Every panel shows the SAME CHARACTER from previous stage\n✓ Maintain IDENTICAL facial structure, proportions, distinctive features across ALL views\n✓ Render entire sheet in <<STYLE_NAME:text!>> art style (from style guide reference)\n✓ Follow template layout EXACTLY - match panel positions, grid lines, label positions\n✓ Neutral background (white/light grey) - NO texture\n✓ Black separator lines between cells (4-6 pixels)\n✓ Character name \"@<<CHARACTER_NAME:name!>>\" clearly visible at top\n✓ Production-ready reference sheet for animation/illustration use\n\nFINAL OUTPUT: Complete character sheet with all panels filled, matching template structure, rendered consistently in <<STYLE_NAME:text!>> style.`,\n        fields: [],\n        referenceImages: [\n          {\n            id: 'template_charsheet_advanced',\n            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\n            name: 'Character Sheet Layout Template',\n            aspectRatio: '21:9',\n          }\n        ],\n      },\n    ],\n    suggestedAspectRatio: '21:9',\n    suggestedModel: 'nano-banana-pro',\n    isQuickAccess: false,\n    categoryId: 'storybook',\n    isSystem: true,\n    isSystemOnly: false,  // Now visible in Shot Creator so users can refine the recipe\n  },\n\n  // Storybook Style Guide (system recipe)\n  {\n    name: 'Storybook Style Guide',\n    description: '6-tile visual style guide for children\\'s books',\n    recipeNote: 'Used by storybook feature to generate art style reference',\n    stages: [\n      {\n        id: generateStageId(),\n        order: 0,\n        type: 'generation',\n        template: `Create a visual style guide as a 6-image grid (2 rows × 3 columns) in <<STYLE_NAME:text!>> style.\n\nCRITICAL: Separate each cell with a SOLID BLACK LINE (4-6 pixels wide).\n\n<<STYLE_DESCRIPTION:text>>\n\nTHE 6 TILES (2x3 grid):\n1. CHARACTER CLOSE-UP: A child character headshot, warm studio lighting, 3/4 view\n2. ACTION SCENE: A different character in dynamic pose, motion blur background\n3. ENVIRONMENT DETAIL: Interior scene, afternoon light through windows\n4. CHARACTER INTERACTION: Two diverse characters (different ethnicities/appearances) in conversation\n5. DYNAMIC POSE: Character in athletic stance, dramatic angle\n6. SET/LOCATION DESIGN: Exterior establishing shot with background characters of varied appearances\n\nDIVERSITY REQUIREMENTS:\n- Use diverse characters with different ethnicities, skin tones, and appearances\n- Show variety in hair colors, styles, and physical features\n- Include both male and female characters across the tiles\n- Make each character visually distinct and unique\n\nOutput a 16:9 image with exactly 6 tiles (2 rows x 3 columns) separated by black lines.\n<<STYLE_NAME:text!>> style throughout all tiles.`,\n        fields: [],\n        referenceImages: [],\n      },\n    ],\n    suggestedAspectRatio: '16:9',\n    suggestedModel: 'nano-banana-pro',\n    isQuickAccess: false,\n    categoryId: 'storybook',\n    isSystem: true,\n    isSystemOnly: true,\n  },\n\n  // Storybook Page (First) - Optimized for story opening\n  {\n    name: 'Storybook Page (First)',\n    description: 'Generate the opening page illustration for a children\\'s book story',\n    recipeNote: 'Used by storybook feature for first pages. Optimized for story opening - no previous context needed.',\n    stages: [\n      {\n        id: generateStageId(),\n        order: 0,\n        type: 'generation',\n        template: `Create an engaging opening illustration for this children's book story.\n\nSTORY OPENING:\n\nCurrent Page Text (the story begins):\n\"<<PAGE_TEXT:text!>>\"\n\nSCENE DETAILS:\n<<SCENE_DESCRIPTION:text>>\n\nMOOD: <<MOOD:select(Happy,Sad,Excited,Calm,Mysterious,Adventurous)!>>\n\nCHARACTERS IN SCENE:\n<<CHARACTER_NAMES:text>>\n\nOPENING PAGE STORYTELLING:\n- Establish the story's setting and atmosphere immediately\n- Create visual intrigue to hook young readers\n- Introduce main character(s) with clear, engaging poses\n- Set the tone for the entire story\n- Use composition to draw the eye to key story elements\n- Choose appropriate framing that serves the narrative\n\nCRITICAL STYLE REQUIREMENTS:\n- A STYLE GUIDE reference image is attached - analyze it carefully\n- Extract the EXACT art style from the style guide (rendering technique, line work, color palette, shading approach)\n- Apply this style CONSISTENTLY to the entire illustration\n- The style guide shows example illustrations - match that visual aesthetic precisely\n- Maintain character consistency using attached character sheets (if provided)\n- Characters should have EXACT same appearance, clothing, and features as their character sheets\n- If no character sheets are attached, design characters that fit the style guide aesthetic\n\nTECHNICAL REQUIREMENTS:\n- No text overlays on image (text will be added separately)\n- Age-appropriate for <<TARGET_AGE:text!>> year olds\n- Diverse, inclusive representation\n- Composition should balance illustration with space for text overlay\n\nQUALITY STANDARDS:\n- Professional children's book illustration quality\n- Strong focal point that establishes the story's core\n- Vibrant, engaging colors appropriate to the mood\n- Fine details that reward close inspection\n- Inviting composition that makes readers want to turn the page\n\nCRITICAL: Use the attached STYLE GUIDE reference image to determine the exact art style, rendering technique, and visual aesthetic. Match it precisely.`,\n        fields: [],\n        referenceImages: [],\n      },\n    ],\n    suggestedAspectRatio: '16:9',\n    suggestedModel: 'nano-banana-pro',\n    isQuickAccess: false,\n    categoryId: 'storybook',\n    isSystem: true,\n    isSystemOnly: true,\n  },\n\n  // Storybook Page (Continuation) - Optimized for story flow\n  {\n    name: 'Storybook Page (Continuation)',\n    description: 'Generate a continuation page illustration for a children\\'s book with story flow',\n    recipeNote: 'Used by storybook feature for continuation pages. Maintains story continuity from previous page.',\n    stages: [\n      {\n        id: generateStageId(),\n        order: 0,\n        type: 'generation',\n        template: `Create an illustration for this children's book page that continues the story flow.\n\nSTORY CONTEXT:\n\nPrevious Page (what happened before):\n<<PREVIOUS_PAGE_TEXT:text!>>\n\nCurrent Page (what's happening now):\n\"<<PAGE_TEXT:text!>>\"\n\nSCENE DETAILS:\n<<SCENE_DESCRIPTION:text>>\n\nMOOD: <<MOOD:select(Happy,Sad,Excited,Calm,Mysterious,Adventurous)!>>\n\nCHARACTERS IN SCENE:\n<<CHARACTER_NAMES:text>>\n\nSTORYTELLING CONTINUITY:\n- Show clear progression from the previous page's events\n- Visual flow should feel natural (e.g., if character was walking left, continue that direction)\n- Maintain consistent lighting/time of day unless story indicates a change\n- Character expressions should reflect the emotional arc from the previous moment\n- Background elements should show logical progression from previous scene\n- Create visual cause-and-effect relationship with previous illustration\n- Pacing should feel like natural story progression (not jarring jumps)\n- Use composition that serves narrative progression\n\nCRITICAL STYLE REQUIREMENTS:\n- A STYLE GUIDE reference image is attached - analyze it carefully\n- Extract the EXACT art style from the style guide (rendering technique, line work, color palette, shading approach)\n- Apply this style CONSISTENTLY to the entire illustration\n- The style guide shows example illustrations - match that visual aesthetic precisely\n- Maintain character consistency using attached character sheets (if provided)\n- Characters should have EXACT same appearance, clothing, and features as their character sheets\n- If no character sheets are attached, design characters that fit the style guide aesthetic\n- Keep the SAME art style as previous pages in the book\n\nTECHNICAL REQUIREMENTS:\n- No text overlays on image (text will be added separately)\n- Age-appropriate for <<TARGET_AGE:text!>> year olds\n- Diverse, inclusive representation\n- Composition should balance illustration with space for text overlay\n\nQUALITY STANDARDS:\n- Professional children's book illustration quality\n- Clear focal point that supports the story\n- Vibrant, engaging colors appropriate to the mood\n- Fine details that reward close inspection\n\nCRITICAL: Use the attached STYLE GUIDE reference image to determine the exact art style, rendering technique, and visual aesthetic. Match it precisely.`,\n        fields: [],\n        referenceImages: [],\n      },\n    ],\n    suggestedAspectRatio: '16:9',\n    suggestedModel: 'nano-banana-pro',\n    isQuickAccess: false,\n    categoryId: 'storybook',\n    isSystem: true,\n    isSystemOnly: true,\n  },\n\n  // Storybook Book Cover\n  {\n    name: 'Storybook Book Cover',\n    description: 'Generate a professional children\\'s book cover with title, author, and main character',\n    recipeNote: 'Used by storybook feature to generate book covers. Includes embedded text (title + author) and main character illustration.',\n    stages: [\n      {\n        id: generateStageId(),\n        order: 0,\n        type: 'generation',\n        template: `Create a professional children's book cover illustration with embedded text.\n\nBOOK INFORMATION:\nTitle: \"<<BOOK_TITLE:text!>>\"\nAuthor: <<AUTHOR_NAME:text!>>\nTarget Age: <<TARGET_AGE:text!>> years old\n\nMAIN CHARACTER:\n<<MAIN_CHARACTER_DESCRIPTION:text!>>\n\nCOVER LAYOUT REQUIREMENTS:\n\n1. TITLE PLACEMENT (Top third of cover):\n   - Display the book title \"<<BOOK_TITLE:text!>>\" prominently\n   - Use large, playful, child-friendly typography\n   - Ensure text is readable with good contrast\n   - Title should feel magical/whimsical\n   - Use colors that complement the illustration\n\n2. ILLUSTRATION (Center 60% of cover):\n   - Feature the main character in an engaging pose\n   - Show character's personality and energy\n   - Dynamic composition that draws the eye\n   - Match the art style from the style guide EXACTLY\n   - Character should match their character sheet reference\n   - Background hints at the story's setting/adventure\n   - Age-appropriate for <<TARGET_AGE:text!>> year olds\n\n3. AUTHOR NAME (Bottom of cover):\n   - Display \"by <<AUTHOR_NAME:text!>>\" below the illustration\n   - Smaller, elegant font\n   - Good readability but doesn't compete with title\n\n4. VISUAL STYLE:\n   - Match style guide precisely (use reference image)\n   - Bright, inviting colors that appeal to children\n   - Professional children's book cover quality\n   - Cover should work for both digital and print (high contrast)\n   - Add subtle decorative elements (stars, sparkles, borders) if they enhance the design\n\nTECHNICAL SPECS:\n- Aspect ratio: 3:4 portrait (standard book cover proportions)\n- All text MUST be clearly legible\n- Ensure character consistency with attached character sheet\n- High visual appeal to attract young readers\n- Diverse, inclusive representation\n\nUse reference images to match art style and character appearance exactly.`,\n        fields: [],\n        referenceImages: [],\n      },\n    ],\n    suggestedAspectRatio: '3:4',\n    suggestedModel: 'nano-banana-pro',\n    isQuickAccess: false,\n    categoryId: 'storybook',\n    isSystem: true,\n    isSystemOnly: true,\n  },\n\n  // ========================================\n  // CINEMATIC GRID RECIPES (10 recipes)\n  // ========================================\n\n  // POV Simulation (16:9)\n  {\n    name: 'POV Simulation (16:9)',\n    description: 'First-person perspective grid showing what character sees through their own eyes',\n    recipeNote: 'Attach character reference for outfit/appearance. Grid shows character\\'s hands, arms, legs, but NOT their face (except in reflections).',\n    stages: [\n      {\n        id: generateStageId(),\n        order: 0,\n        type: 'generation',\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 16:9 aspect ratio.\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\n\nCHARACTER PERSPECTIVE: First-person POV from @<<CHARACTER_NAME:name!>>'s eyes.\nCURRENT ACTIVITY: <<STORY:text!>>\n\nSTYLE EXTRACTION: Analyze the style reference image for environmental textures, lighting quality, and color grading.\n\nCAMERA SETTINGS:\n- First Person Perspective (POV)\n- Wide angle (24mm-35mm equivalent) simulating human vision\n- We do NOT see <<CHARACTER_NAME:name!>>'s face (except in reflections)\n- We DO see their ARMS, HANDS, LEGS dressed in their outfit\n\n3×3 GRID LAYOUT (Reading order: Left→Right, Top→Bottom):\n\nROW 1 - INTERACTION:\nPanel 1 (Top-Left): POV looking DOWN at @<<CHARACTER_NAME:name!>>'s own torso and outfit, establishing their identity and clothing.\nPanel 2 (Top-Center): POV of @<<CHARACTER_NAME:name!>>'s HANDS interacting with a key object from the story (<<STORY:text!>>).\nPanel 3 (Top-Right): POV of @<<CHARACTER_NAME:name!>> REACHING OUT to touch a texture or open a door in the environment.\n\nROW 2 - COMBAT/ACTION POV:\nPanel 4 (Middle-Left): POV BLOCKING a light source or incoming attack with @<<CHARACTER_NAME:name!>>'s ARM visible in frame.\nPanel 5 (Middle-Center): POV FOCUSING on a target or destination from <<STORY:text!>>. Hands visible in lower frame guiding the way.\nPanel 6 (Middle-Right): POV looking at a REFLECTION (mirror/window/water). We FINALLY see @<<CHARACTER_NAME:name!>>'s face clearly in the reflection.\n\nROW 3 - ENVIRONMENTAL AWARENESS:\nPanel 7 (Bottom-Left): POV looking DOWN at @<<CHARACTER_NAME:name!>>'s FEET moving across the specific terrain mentioned in <<STORY:text!>>.\nPanel 8 (Bottom-Center): POV checking a TOOL, WEAPON, or PHONE held in @<<CHARACTER_NAME:name!>>'s hands.\nPanel 9 (Bottom-Right): POV BLINKING/FADING. Vision is slightly blurred or vignetted, implying fatigue or emotion from <<STORY:text!>>.\n\nCONSISTENCY REQUIREMENTS:\n- All panels must show the SAME outfit on <<CHARACTER_NAME:name!>>\n- Lighting and color grading from style reference must remain consistent\n- Grid cells separated by SOLID BLACK LINES`,\n        fields: [],\n        referenceImages: [],\n      },\n    ],\n    suggestedAspectRatio: '16:9',\n    suggestedModel: 'nano-banana-pro',\n    isQuickAccess: true,\n    categoryId: 'characters',\n    isSystem: true,\n    isSystemOnly: false,\n  },\n\n  // POV Simulation (9:16)\n  {\n    name: 'POV Simulation (9:16)',\n    description: 'First-person perspective grid showing what character sees through their own eyes (portrait)',\n    recipeNote: 'Attach character reference for outfit/appearance. Grid shows character\\'s hands, arms, legs, but NOT their face (except in reflections).',\n    stages: [\n      {\n        id: generateStageId(),\n        order: 0,\n        type: 'generation',\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 9:16 aspect ratio.\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\n\nCHARACTER PERSPECTIVE: First-person POV from @<<CHARACTER_NAME:name!>>'s eyes.\nCURRENT ACTIVITY: <<STORY:text!>>\n\nSTYLE EXTRACTION: Analyze the style reference image for environmental textures, lighting quality, and color grading.\n\nCAMERA SETTINGS:\n- First Person Perspective (POV)\n- Wide angle (24mm-35mm equivalent) simulating human vision\n- We do NOT see <<CHARACTER_NAME:name!>>'s face (except in reflections)\n- We DO see their ARMS, HANDS, LEGS dressed in their outfit\n\n3×3 GRID LAYOUT (Reading order: Left→Right, Top→Bottom):\n\nROW 1 - INTERACTION:\nPanel 1 (Top-Left): POV looking DOWN at @<<CHARACTER_NAME:name!>>'s own torso and outfit, establishing their identity and clothing.\nPanel 2 (Top-Center): POV of @<<CHARACTER_NAME:name!>>'s HANDS interacting with a key object from the story (<<STORY:text!>>).\nPanel 3 (Top-Right): POV of @<<CHARACTER_NAME:name!>> REACHING OUT to touch a texture or open a door in the environment.\n\nROW 2 - COMBAT/ACTION POV:\nPanel 4 (Middle-Left): POV BLOCKING a light source or incoming attack with @<<CHARACTER_NAME:name!>>'s ARM visible in frame.\nPanel 5 (Middle-Center): POV FOCUSING on a target or destination from <<STORY:text!>>. Hands visible in lower frame guiding the way.\nPanel 6 (Middle-Right): POV looking at a REFLECTION (mirror/window/water). We FINALLY see @<<CHARACTER_NAME:name!>>'s face clearly in the reflection.\n\nROW 3 - ENVIRONMENTAL AWARENESS:\nPanel 7 (Bottom-Left): POV looking DOWN at @<<CHARACTER_NAME:name!>>'s FEET moving across the specific terrain mentioned in <<STORY:text!>>.\nPanel 8 (Bottom-Center): POV checking a TOOL, WEAPON, or PHONE held in @<<CHARACTER_NAME:name!>>'s hands.\nPanel 9 (Bottom-Right): POV BLINKING/FADING. Vision is slightly blurred or vignetted, implying fatigue or emotion from <<STORY:text!>>.\n\nCONSISTENCY REQUIREMENTS:\n- All panels must show the SAME outfit on <<CHARACTER_NAME:name!>>\n- Lighting and color grading from style reference must remain consistent\n- Grid cells separated by SOLID BLACK LINES`,\n        fields: [],\n        referenceImages: [],\n      },\n    ],\n    suggestedAspectRatio: '9:16',\n    suggestedModel: 'nano-banana-pro',\n    isQuickAccess: true,\n    categoryId: 'characters',\n    isSystem: true,\n    isSystemOnly: false,\n  },\n\n  // Action Sequencer (16:9)\n  {\n    name: 'Action Sequencer (16:9)',\n    description: 'Motion breakdown grid showing action in 3 phases: Wind-Up → Impact → Aftermath',\n    recipeNote: 'Best for fight scenes, athletic moves, or any dynamic action. Row 2 features motion blur.',\n    stages: [\n      {\n        id: generateStageId(),\n        order: 0,\n        type: 'generation',\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 16:9 aspect ratio.\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\n\nCHARACTER PERFORMING ACTION: @<<CHARACTER_NAME:name!>>\nACTION NARRATIVE: <<ACTION_STORY:text!>>\n\nSTYLE EXTRACTION: Analyze style reference for color palette, film grain, lighting contrast, and render engine style. Apply these EXACT visual parameters to @<<CHARACTER_NAME:name!>>.\n\nCONSISTENCY: @<<CHARACTER_NAME:name!>> MUST maintain consistent facial features and costume details across all 9 panels despite rapid movement blur.\n\nSHUTTER SPEED RULES:\n- Rows 1 & 3: CRISP/STATIC (high shutter speed, frozen motion)\n- Row 2: DIRECTIONAL MOTION BLUR (low shutter speed, action blur)\n\n3×3 GRID LAYOUT - ACTION BREAKDOWN:\n\nROW 1 - THE WIND UP (Anticipation):\nPanel 1 (Top-Left): @<<CHARACTER_NAME:name!>> shifts weight, tensing muscles. Focus on BODY MECHANICS preparing for the action in <<ACTION_STORY:text!>>.\nPanel 2 (Top-Center): CLOSE-UP on @<<CHARACTER_NAME:name!>>'s EYES or HANDS. Intense focus. The moment BEFORE the strike/action.\nPanel 3 (Top-Right): THE COIL. @<<CHARACTER_NAME:name!>> in the final frame of preparation, energy stored, ready to release.\n\nROW 2 - THE IMPACT (Action with Motion Blur):\nPanel 4 (Middle-Left): THE RELEASE. @<<CHARACTER_NAME:name!>> EXPLODES into motion. High energy, frozen violence/action. Motion blur begins.\nPanel 5 (Middle-Center): THE CONTACT/PEAK. The DEFINING moment of <<ACTION_STORY:text!>>. Maximum dynamic energy. Facial expression of EXERTION. Heavy motion blur.\nPanel 6 (Middle-Right): FOLLOW-THROUGH. The limb or body part extends FULLY. Motion blur indicates speed.\n\nROW 3 - THE AFTERMATH (Reaction):\nPanel 7 (Bottom-Left): THE LANDING. @<<CHARACTER_NAME:name!>> regains balance or skids to a halt. Dust/debris settling.\nPanel 8 (Bottom-Center): PHYSICAL TOLL. Close-up on @<<CHARACTER_NAME:name!>> breathing hard, sweating, or bleeding (if applicable to <<ACTION_STORY:text!>>).\nPanel 9 (Bottom-Right): THE RESOLVE. @<<CHARACTER_NAME:name!>> standing in the aftermath, body language showing the outcome of the action.\n\nCRITICAL:\n- Grid cells separated by SOLID BLACK LINES\n- Character appearance MUST remain consistent despite motion blur`,\n        fields: [],\n        referenceImages: [],\n      },\n    ],\n    suggestedAspectRatio: '16:9',\n    suggestedModel: 'nano-banana-pro',\n    isQuickAccess: true,\n    categoryId: 'characters',\n    isSystem: true,\n    isSystemOnly: false,\n  },\n\n  // Action Sequencer (9:16)\n  {\n    name: 'Action Sequencer (9:16)',\n    description: 'Motion breakdown grid showing action in 3 phases: Wind-Up → Impact → Aftermath (portrait)',\n    recipeNote: 'Best for fight scenes, athletic moves, or any dynamic action. Row 2 features motion blur.',\n    stages: [\n      {\n        id: generateStageId(),\n        order: 0,\n        type: 'generation',\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 9:16 aspect ratio.\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\n\nCHARACTER PERFORMING ACTION: @<<CHARACTER_NAME:name!>>\nACTION NARRATIVE: <<ACTION_STORY:text!>>\n\nSTYLE EXTRACTION: Analyze style reference for color palette, film grain, lighting contrast, and render engine style. Apply these EXACT visual parameters to @<<CHARACTER_NAME:name!>>.\n\nCONSISTENCY: @<<CHARACTER_NAME:name!>> MUST maintain consistent facial features and costume details across all 9 panels despite rapid movement blur.\n\nSHUTTER SPEED RULES:\n- Rows 1 & 3: CRISP/STATIC (high shutter speed, frozen motion)\n- Row 2: DIRECTIONAL MOTION BLUR (low shutter speed, action blur)\n\n3×3 GRID LAYOUT - ACTION BREAKDOWN:\n\nROW 1 - THE WIND UP (Anticipation):\nPanel 1 (Top-Left): @<<CHARACTER_NAME:name!>> shifts weight, tensing muscles. Focus on BODY MECHANICS preparing for the action in <<ACTION_STORY:text!>>.\nPanel 2 (Top-Center): CLOSE-UP on @<<CHARACTER_NAME:name!>>'s EYES or HANDS. Intense focus. The moment BEFORE the strike/action.\nPanel 3 (Top-Right): THE COIL. @<<CHARACTER_NAME:name!>> in the final frame of preparation, energy stored, ready to release.\n\nROW 2 - THE IMPACT (Action with Motion Blur):\nPanel 4 (Middle-Left): THE RELEASE. @<<CHARACTER_NAME:name!>> EXPLODES into motion. High energy, frozen violence/action. Motion blur begins.\nPanel 5 (Middle-Center): THE CONTACT/PEAK. The DEFINING moment of <<ACTION_STORY:text!>>. Maximum dynamic energy. Facial expression of EXERTION. Heavy motion blur.\nPanel 6 (Middle-Right): FOLLOW-THROUGH. The limb or body part extends FULLY. Motion blur indicates speed.\n\nROW 3 - THE AFTERMATH (Reaction):\nPanel 7 (Bottom-Left): THE LANDING. @<<CHARACTER_NAME:name!>> regains balance or skids to a halt. Dust/debris settling.\nPanel 8 (Bottom-Center): PHYSICAL TOLL. Close-up on @<<CHARACTER_NAME:name!>> breathing hard, sweating, or bleeding (if applicable to <<ACTION_STORY:text!>>).\nPanel 9 (Bottom-Right): THE RESOLVE. @<<CHARACTER_NAME:name!>> standing in the aftermath, body language showing the outcome of the action.\n\nCRITICAL:\n- Grid cells separated by SOLID BLACK LINES\n- Character appearance MUST remain consistent despite motion blur`,\n        fields: [],\n        referenceImages: [],\n      },\n    ],\n    suggestedAspectRatio: '9:16',\n    suggestedModel: 'nano-banana-pro',\n    isQuickAccess: true,\n    categoryId: 'characters',\n    isSystem: true,\n    isSystemOnly: false,\n  },\n\n  // World Building (16:9)\n  {\n    name: 'World Building (16:9)',\n    description: 'Location exploration grid: Interior details → Exterior establishing → Voyeuristic views',\n    recipeNote: 'Provide a reference image showing the main location. Grid explores the environment from multiple perspectives.',\n    stages: [\n      {\n        id: generateStageId(),\n        order: 0,\n        type: 'generation',\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 16:9 aspect ratio.\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\n\nLOCATION BEING EXPLORED: <<LOCATION_NAME:name!>>\nDESCRIPTION: <<LOCATION_DESCRIPTION:text!>>\n\nSTYLE EXTRACTION: Analyze reference image for:\n- Primary location type (e.g., dive bar, office, meadow, warehouse)\n- Photographic style, lighting quality, film grain\n- Color grading and atmospheric mood\n- Main subjects (for context only)\n\nCONSISTENCY RULES:\n- All panels inhabit the EXACT SAME location\n- Lighting and film stock style MUST remain consistent\n- In Rows 1 & 3: Main subjects are present but SIGNIFICANTLY OUT OF FOCUS (heavy bokeh/blur)\n- Sharp focus on ENVIRONMENTAL DETAILS, not people\n\n3×3 GRID LAYOUT - LOCATION EXPLORATION:\n\nROW 1 - INTERIOR/INTIMATE CONTEXT (Shallow Depth of Field):\nPanel 1 (Top-Left): WIDE ANGLE INTERIOR. A relevant foreground object (coffee cup, tool, hand on table) is INTENSELY SHARP. Any people in mid-ground are EXTREMELY BLURRY.\nPanel 2 (Top-Center): MEDIUM SHOT INTERIOR. Looking past a structural element (doorframe, pillar, beam) that is SHARP in foreground. Any people in background are OUT OF FOCUS.\nPanel 3 (Top-Right): MACRO DETAIL INTERIOR. Extreme close-up on a texture definitive of <<LOCATION_NAME:name!>> (peeling paint, polished chrome, worn wood grain). Any people are vague shapes in distance.\n\nROW 2 - EXTERIOR ESTABLISHING (The Reveal):\nPanel 4 (Middle-Left): EYE-LEVEL STREET VIEW. Standard wide establishing shot of the EXTERIOR building facade of <<LOCATION_NAME:name!>>.\nPanel 5 (Middle-Center): HIGH ANGLE DRONE SHOT. Excessive wide shot showing <<LOCATION_NAME:name!>> situated within its larger geography/cityscape. NO foreground elements.\nPanel 6 (Middle-Right): ARCHITECTURAL DETAIL EXTERIOR. Focus on a specific exterior feature that gives character (neon sign, rusted fire escape, ornate doorway).\n\nROW 3 - EXTERIOR PEEP-HOLE (Voyeuristic View):\nPanel 7 (Bottom-Left): THROUGH FOREGROUND ELEMENTS. Looking at the exterior location from distance through SHARP foreground foliage, fence, or rain-streaked glass. The location is SLIGHTLY SOFT.\nPanel 8 (Bottom-Center): REFLECTION SHOT. The exterior of <<LOCATION_NAME:name!>> is seen ONLY as a reflection in a puddle, car window, or glossy surface.\nPanel 9 (Bottom-Right): LONG LENS COMPRESSION. A telephoto shot from very far away, compressing distance. Heat haze or atmospheric perspective makes the location look distant and embedded in surroundings.\n\nCRITICAL:\n- Grid cells separated by SOLID BLACK LINES\n- Infer exterior architecture from interior reference`,\n        fields: [],\n        referenceImages: [],\n      },\n    ],\n    suggestedAspectRatio: '16:9',\n    suggestedModel: 'nano-banana-pro',\n    isQuickAccess: true,\n    categoryId: 'environments',\n    isSystem: true,\n    isSystemOnly: false,\n  },\n\n  // World Building (9:16)\n  {\n    name: 'World Building (9:16)',\n    description: 'Location exploration grid: Interior details → Exterior establishing → Voyeuristic views (portrait)',\n    recipeNote: 'Provide a reference image showing the main location. Grid explores the environment from multiple perspectives.',\n    stages: [\n      {\n        id: generateStageId(),\n        order: 0,\n        type: 'generation',\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 9:16 aspect ratio.\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\n\nLOCATION BEING EXPLORED: <<LOCATION_NAME:name!>>\nDESCRIPTION: <<LOCATION_DESCRIPTION:text!>>\n\nSTYLE EXTRACTION: Analyze reference image for:\n- Primary location type (e.g., dive bar, office, meadow, warehouse)\n- Photographic style, lighting quality, film grain\n- Color grading and atmospheric mood\n- Main subjects (for context only)\n\nCONSISTENCY RULES:\n- All panels inhabit the EXACT SAME location\n- Lighting and film stock style MUST remain consistent\n- In Rows 1 & 3: Main subjects are present but SIGNIFICANTLY OUT OF FOCUS (heavy bokeh/blur)\n- Sharp focus on ENVIRONMENTAL DETAILS, not people\n\n3×3 GRID LAYOUT - LOCATION EXPLORATION:\n\nROW 1 - INTERIOR/INTIMATE CONTEXT (Shallow Depth of Field):\nPanel 1 (Top-Left): WIDE ANGLE INTERIOR. A relevant foreground object (coffee cup, tool, hand on table) is INTENSELY SHARP. Any people in mid-ground are EXTREMELY BLURRY.\nPanel 2 (Top-Center): MEDIUM SHOT INTERIOR. Looking past a structural element (doorframe, pillar, beam) that is SHARP in foreground. Any people in background are OUT OF FOCUS.\nPanel 3 (Top-Right): MACRO DETAIL INTERIOR. Extreme close-up on a texture definitive of <<LOCATION_NAME:name!>> (peeling paint, polished chrome, worn wood grain). Any people are vague shapes in distance.\n\nROW 2 - EXTERIOR ESTABLISHING (The Reveal):\nPanel 4 (Middle-Left): EYE-LEVEL STREET VIEW. Standard wide establishing shot of the EXTERIOR building facade of <<LOCATION_NAME:name!>>.\nPanel 5 (Middle-Center): HIGH ANGLE DRONE SHOT. Excessive wide shot showing <<LOCATION_NAME:name!>> situated within its larger geography/cityscape. NO foreground elements.\nPanel 6 (Middle-Right): ARCHITECTURAL DETAIL EXTERIOR. Focus on a specific exterior feature that gives character (neon sign, rusted fire escape, ornate doorway).\n\nROW 3 - EXTERIOR PEEP-HOLE (Voyeuristic View):\nPanel 7 (Bottom-Left): THROUGH FOREGROUND ELEMENTS. Looking at the exterior location from distance through SHARP foreground foliage, fence, or rain-streaked glass. The location is SLIGHTLY SOFT.\nPanel 8 (Bottom-Center): REFLECTION SHOT. The exterior of <<LOCATION_NAME:name!>> is seen ONLY as a reflection in a puddle, car window, or glossy surface.\nPanel 9 (Bottom-Right): LONG LENS COMPRESSION. A telephoto shot from very far away, compressing distance. Heat haze or atmospheric perspective makes the location look distant and embedded in surroundings.\n\nCRITICAL:\n- Grid cells separated by SOLID BLACK LINES\n- Infer exterior architecture from interior reference`,\n        fields: [],\n        referenceImages: [],\n      },\n    ],\n    suggestedAspectRatio: '9:16',\n    suggestedModel: 'nano-banana-pro',\n    isQuickAccess: true,\n    categoryId: 'environments',\n    isSystem: true,\n    isSystemOnly: false,\n  },\n\n  // Story Summary - Full Arc (16:9)\n  {\n    name: 'Story Summary - Full Arc (16:9)',\n    description: '9-panel visual narrative showing complete story from beginning to resolution',\n    recipeNote: 'Attach character reference for consistent appearance. Grid tells entire story with NO text bubbles.',\n    stages: [\n      {\n        id: generateStageId(),\n        order: 0,\n        type: 'generation',\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 16:9 aspect ratio.\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\n\nPROTAGONIST: @<<CHARACTER_NAME:name!>>\nCOMPLETE NARRATIVE: <<FULL_STORY:text!>>\n\nSTYLE EXTRACTION: Analyze character reference image to define:\n- Protagonist's appearance, clothing, physical features\n- Overall visual art style and cinematography\n- Color palette and lighting approach\n\nCONSISTENCY REQUIREMENTS:\n- @<<CHARACTER_NAME:name!>> must look EXACTLY like the reference image in ALL panels\n- Cinematographic style must match reference\n- NO TEXT BUBBLES or overlaid words\n- Story told purely through VISUAL ACTION, composition, and character emotion\n\nNARRATIVE STRUCTURE: Identify the 9 MOST CRUCIAL PLOT POINTS from <<FULL_STORY:text!>> spanning beginning to resolution.\n\n3×3 GRID LAYOUT - FULL STORY ARC:\n\nROW 1 - ACT 1: Setup and Inciting Incident\nPanel 1 (Top-Left): PLOT POINT 1 - The Status Quo / Beginning. Show @<<CHARACTER_NAME:name!>> in their normal world before change.\nPanel 2 (Top-Center): PLOT POINT 2 - The Inciting Incident / Disruption. The event that disrupts the status quo from <<FULL_STORY:text!>>.\nPanel 3 (Top-Right): PLOT POINT 3 - Locking into the Journey. @<<CHARACTER_NAME:name!>> commits to the path forward.\n\nROW 2 - ACT 2: Confrontation and Rising Action\nPanel 4 (Middle-Left): PLOT POINT 4 - Rising obstacles/challenges. @<<CHARACTER_NAME:name!>> faces first major challenge from <<FULL_STORY:text!>>.\nPanel 5 (Middle-Center): PLOT POINT 5 - The Midpoint Climax / Point of No Return. The turning point where stakes are raised.\nPanel 6 (Middle-Right): PLOT POINT 6 - The Lowest Point. @<<CHARACTER_NAME:name!>> faces their darkest moment or setup for final confrontation.\n\nROW 3 - ACT 3: Resolution\nPanel 7 (Bottom-Left): PLOT POINT 7 - The Climax / Final Battle. The peak moment of conflict from <<FULL_STORY:text!>>.\nPanel 8 (Bottom-Center): PLOT POINT 8 - The Immediate Aftermath / Falling Action. Immediate consequences of the climax.\nPanel 9 (Bottom-Right): PLOT POINT 9 - The New Status Quo / Final Image. @<<CHARACTER_NAME:name!>> in their changed world after the journey.\n\nCRITICAL:\n- Grid cells separated by SOLID BLACK LINES\n- Sequential reading order: left→right, top→bottom\n- NO text, purely visual storytelling`,\n        fields: [],\n        referenceImages: [],\n      },\n    ],\n    suggestedAspectRatio: '16:9',\n    suggestedModel: 'nano-banana-pro',\n    isQuickAccess: true,\n    categoryId: 'narrative',\n    isSystem: true,\n    isSystemOnly: false,\n  },\n\n  // Story Summary - Full Arc (9:16)\n  {\n    name: 'Story Summary - Full Arc (9:16)',\n    description: '9-panel visual narrative showing complete story from beginning to resolution (portrait)',\n    recipeNote: 'Attach character reference for consistent appearance. Grid tells entire story with NO text bubbles.',\n    stages: [\n      {\n        id: generateStageId(),\n        order: 0,\n        type: 'generation',\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 9:16 aspect ratio.\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\n\nPROTAGONIST: @<<CHARACTER_NAME:name!>>\nCOMPLETE NARRATIVE: <<FULL_STORY:text!>>\n\nSTYLE EXTRACTION: Analyze character reference image to define:\n- Protagonist's appearance, clothing, physical features\n- Overall visual art style and cinematography\n- Color palette and lighting approach\n\nCONSISTENCY REQUIREMENTS:\n- @<<CHARACTER_NAME:name!>> must look EXACTLY like the reference image in ALL panels\n- Cinematographic style must match reference\n- NO TEXT BUBBLES or overlaid words\n- Story told purely through VISUAL ACTION, composition, and character emotion\n\nNARRATIVE STRUCTURE: Identify the 9 MOST CRUCIAL PLOT POINTS from <<FULL_STORY:text!>> spanning beginning to resolution.\n\n3×3 GRID LAYOUT - FULL STORY ARC:\n\nROW 1 - ACT 1: Setup and Inciting Incident\nPanel 1 (Top-Left): PLOT POINT 1 - The Status Quo / Beginning. Show @<<CHARACTER_NAME:name!>> in their normal world before change.\nPanel 2 (Top-Center): PLOT POINT 2 - The Inciting Incident / Disruption. The event that disrupts the status quo from <<FULL_STORY:text!>>.\nPanel 3 (Top-Right): PLOT POINT 3 - Locking into the Journey. @<<CHARACTER_NAME:name!>> commits to the path forward.\n\nROW 2 - ACT 2: Confrontation and Rising Action\nPanel 4 (Middle-Left): PLOT POINT 4 - Rising obstacles/challenges. @<<CHARACTER_NAME:name!>> faces first major challenge from <<FULL_STORY:text!>>.\nPanel 5 (Middle-Center): PLOT POINT 5 - The Midpoint Climax / Point of No Return. The turning point where stakes are raised.\nPanel 6 (Middle-Right): PLOT POINT 6 - The Lowest Point. @<<CHARACTER_NAME:name!>> faces their darkest moment or setup for final confrontation.\n\nROW 3 - ACT 3: Resolution\nPanel 7 (Bottom-Left): PLOT POINT 7 - The Climax / Final Battle. The peak moment of conflict from <<FULL_STORY:text!>>.\nPanel 8 (Bottom-Center): PLOT POINT 8 - The Immediate Aftermath / Falling Action. Immediate consequences of the climax.\nPanel 9 (Bottom-Right): PLOT POINT 9 - The New Status Quo / Final Image. @<<CHARACTER_NAME:name!>> in their changed world after the journey.\n\nCRITICAL:\n- Grid cells separated by SOLID BLACK LINES\n- Sequential reading order: left→right, top→bottom\n- NO text, purely visual storytelling`,\n        fields: [],\n        referenceImages: [],\n      },\n    ],\n    suggestedAspectRatio: '9:16',\n    suggestedModel: 'nano-banana-pro',\n    isQuickAccess: true,\n    categoryId: 'narrative',\n    isSystem: true,\n    isSystemOnly: false,\n  },\n\n  // Story Summary - First Half (16:9)\n  {\n    name: 'Story Summary - First Half (16:9)',\n    description: '9-panel visual narrative showing FIRST HALF of story (up to midpoint)',\n    recipeNote: 'Attach character reference for consistent appearance. Grid shows story up to midpoint cliffhanger.',\n    stages: [\n      {\n        id: generateStageId(),\n        order: 0,\n        type: 'generation',\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 16:9 aspect ratio.\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\n\nPROTAGONIST: @<<CHARACTER_NAME:name!>>\nCOMPLETE NARRATIVE: <<FULL_STORY:text!>>\n\nSTYLE EXTRACTION: Analyze character reference image to define:\n- Protagonist's appearance, clothing, physical features\n- Overall visual art style and cinematography\n- Color palette and lighting approach\n\nCONSISTENCY REQUIREMENTS:\n- @<<CHARACTER_NAME:name!>> must look EXACTLY like the reference image in ALL panels\n- Cinematographic style must match reference\n- NO TEXT BUBBLES or overlaid words\n- Story told purely through VISUAL ACTION, composition, and character emotion\n\nNARRATIVE STRUCTURE:\n- Identify the MIDPOINT of <<FULL_STORY:text!>>\n- Select 9 CRUCIAL PLOT POINTS leading UP TO the midpoint\n- Panel 9 should be the MIDPOINT CLIMAX/CLIFFHANGER\n\n3×3 GRID LAYOUT - FIRST HALF STORY ARC:\n\nROW 1 - ACT 1: Setup and Inciting Incident\nPanel 1 (Top-Left): PLOT POINT 1 - The Status Quo / Beginning. Show @<<CHARACTER_NAME:name!>> in their normal world before change.\nPanel 2 (Top-Center): PLOT POINT 2 - The Inciting Incident / Disruption. The event that disrupts the status quo from <<FULL_STORY:text!>>.\nPanel 3 (Top-Right): PLOT POINT 3 - Locking into the Journey. @<<CHARACTER_NAME:name!>> commits to the path forward.\n\nROW 2 - ACT 2A: Early Confrontation\nPanel 4 (Middle-Left): PLOT POINT 4 - First obstacle encountered. @<<CHARACTER_NAME:name!>> begins facing challenges.\nPanel 5 (Middle-Center): PLOT POINT 5 - Rising stakes. Complications increase from <<FULL_STORY:text!>>.\nPanel 6 (Middle-Right): PLOT POINT 6 - Approaching the midpoint. Tension builds toward the turning point.\n\nROW 3 - MIDPOINT APPROACH\nPanel 7 (Bottom-Left): PLOT POINT 7 - Setup for midpoint. Elements converge toward the pivotal moment.\nPanel 8 (Bottom-Center): PLOT POINT 8 - Midpoint trigger. The immediate precursor to the major turning point.\nPanel 9 (Bottom-Right): PLOT POINT 9 - THE MIDPOINT CLIMAX. The pivotal moment that changes everything. End on a CLIFFHANGER.\n\nCRITICAL:\n- Grid cells separated by SOLID BLACK LINES\n- Sequential reading order: left→right, top→bottom\n- NO text, purely visual storytelling\n- Panel 9 MUST be an exciting cliffhanger moment`,\n        fields: [],\n        referenceImages: [],\n      },\n    ],\n    suggestedAspectRatio: '16:9',\n    suggestedModel: 'nano-banana-pro',\n    isQuickAccess: true,\n    categoryId: 'narrative',\n    isSystem: true,\n    isSystemOnly: false,\n  },\n\n  // Story Summary - First Half (9:16)\n  {\n    name: 'Story Summary - First Half (9:16)',\n    description: '9-panel visual narrative showing FIRST HALF of story (up to midpoint) (portrait)',\n    recipeNote: 'Attach character reference for consistent appearance. Grid shows story up to midpoint cliffhanger.',\n    stages: [\n      {\n        id: generateStageId(),\n        order: 0,\n        type: 'generation',\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 9:16 aspect ratio.\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\n\nPROTAGONIST: @<<CHARACTER_NAME:name!>>\nCOMPLETE NARRATIVE: <<FULL_STORY:text!>>\n\nSTYLE EXTRACTION: Analyze character reference image to define:\n- Protagonist's appearance, clothing, physical features\n- Overall visual art style and cinematography\n- Color palette and lighting approach\n\nCONSISTENCY REQUIREMENTS:\n- @<<CHARACTER_NAME:name!>> must look EXACTLY like the reference image in ALL panels\n- Cinematographic style must match reference\n- NO TEXT BUBBLES or overlaid words\n- Story told purely through VISUAL ACTION, composition, and character emotion\n\nNARRATIVE STRUCTURE:\n- Identify the MIDPOINT of <<FULL_STORY:text!>>\n- Select 9 CRUCIAL PLOT POINTS leading UP TO the midpoint\n- Panel 9 should be the MIDPOINT CLIMAX/CLIFFHANGER\n\n3×3 GRID LAYOUT - FIRST HALF STORY ARC:\n\nROW 1 - ACT 1: Setup and Inciting Incident\nPanel 1 (Top-Left): PLOT POINT 1 - The Status Quo / Beginning. Show @<<CHARACTER_NAME:name!>> in their normal world before change.\nPanel 2 (Top-Center): PLOT POINT 2 - The Inciting Incident / Disruption. The event that disrupts the status quo from <<FULL_STORY:text!>>.\nPanel 3 (Top-Right): PLOT POINT 3 - Locking into the Journey. @<<CHARACTER_NAME:name!>> commits to the path forward.\n\nROW 2 - ACT 2A: Early Confrontation\nPanel 4 (Middle-Left): PLOT POINT 4 - First obstacle encountered. @<<CHARACTER_NAME:name!>> begins facing challenges.\nPanel 5 (Middle-Center): PLOT POINT 5 - Rising stakes. Complications increase from <<FULL_STORY:text!>>.\nPanel 6 (Middle-Right): PLOT POINT 6 - Approaching the midpoint. Tension builds toward the turning point.\n\nROW 3 - MIDPOINT APPROACH\nPanel 7 (Bottom-Left): PLOT POINT 7 - Setup for midpoint. Elements converge toward the pivotal moment.\nPanel 8 (Bottom-Center): PLOT POINT 8 - Midpoint trigger. The immediate precursor to the major turning point.\nPanel 9 (Bottom-Right): PLOT POINT 9 - THE MIDPOINT CLIMAX. The pivotal moment that changes everything. End on a CLIFFHANGER.\n\nCRITICAL:\n- Grid cells separated by SOLID BLACK LINES\n- Sequential reading order: left→right, top→bottom\n- NO text, purely visual storytelling\n- Panel 9 MUST be an exciting cliffhanger moment`,\n        fields: [],\n        referenceImages: [],\n      },\n    ],\n    suggestedAspectRatio: '9:16',\n    suggestedModel: 'nano-banana-pro',\n    isQuickAccess: true,\n    categoryId: 'narrative',\n    isSystem: true,\n    isSystemOnly: false,\n  },\n]\n","structuredPatch":[{"oldStart":2298,"oldLines":9,"newStart":2298,"newLines":9,"lines":["         fields: [],","         referenceImages: [","           {","-            id: 'template_charsheet_advanced',","-            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,","-            name: 'Character Sheet Layout Template',","+            id: 'template_charsheet_v3',","+            url: SYSTEM_TEMPLATE_URLS.characterSheetV3,","+            name: 'Character Sheet V3 Layout Template',","             aspectRatio: '21:9',","           }","         ],"]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"c135f6e7-ab5d-409c-835f-8a3a0dbb14bf"}
{"parentUuid":"db608979-0c2d-4058-a547-4ac3845a86db","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01HnXLJiSfro7VWjRSeKtZ5o","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"Perfect! Now let me update the todo list to mark the upload as completed and move on to the next task. Actually, let me also check if there are other recipes that use the character sheet template that should be updated. Let me search for the old characterSheetAdvanced references:","signature":"EsEDCkYICxgCKkBlk6irNHclxG6ddiWKgaoBYPC7TKK9WUNEVWnHmVRBtwzXSJfZW60JxPMYUpl88TE9O/Pn3uNCuVIqh2F3uwCPEgwXQ0MysECxPbU2Q84aDKq+mlFsxrlRnqN6AyIwH7ZBom6hJpq3m8Z9DzdkdhxL7NoJ2mRgUKOud+D7Sot4Zy3zPTDxR/thVYkrBNVTKqgC/xxPYTIoFr1aRfdKbm7+b+DHMhMy6QX13/Hvt7ysrE9JptHTnG2DzGkkS0ggYmboDttCNK3oitWzwBrdBLrKeKxh2iZGDi38/ukMUm8mjrd0i7tGkYGvaruK5d2I3qoHFYcAvqUh2Is6oX7+A2fm7AwY19Qcb1gjKVqVVk+hY270flusUN4DHHmPUkILmr/0ZimbvKXOWHEvx3PYxUp8irTzDTS1AuNBc+6ZOihmkXJ6sfXNMEhdGg6Ew11591lfxQdFh6thl0URsq83VuBd04vJc6f3mvXsqKbxUviHWzHVk7T7vZsLwQHybRVdrIgaqHEvPMMzZpDhQwUOzttEKibhXNNyQBIzA8uQ4OyR4Cg/XttGgEoDMz4KVdoQ6ZPlf6+3IXsDKpcYAQ=="}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":10,"cache_creation_input_tokens":760,"cache_read_input_tokens":56277,"cache_creation":{"ephemeral_5m_input_tokens":760,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CXDwQ9x6b9W5qkm21cK7g","type":"assistant","uuid":"d8b914f6-b914-487b-bcb5-0e07cea8f893","timestamp":"2026-01-18T01:00:16.292Z"}
{"parentUuid":"d8b914f6-b914-487b-bcb5-0e07cea8f893","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01HnXLJiSfro7VWjRSeKtZ5o","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01MjdPQXv3LZEmHsuDmSRMhQ","name":"Grep","input":{"pattern":"characterSheetAdvanced","path":"src/features/shot-creator/types/recipe.types.ts","output_mode":"content","-n":true}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":10,"cache_creation_input_tokens":760,"cache_read_input_tokens":56277,"cache_creation":{"ephemeral_5m_input_tokens":760,"ephemeral_1h_input_tokens":0},"output_tokens":190,"service_tier":"standard"}},"requestId":"req_011CXDwQ9x6b9W5qkm21cK7g","type":"assistant","uuid":"66decaaf-717e-4ccd-9749-f501d2c126ce","timestamp":"2026-01-18T01:00:17.416Z"}
{"parentUuid":"66decaaf-717e-4ccd-9749-f501d2c126ce","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01MjdPQXv3LZEmHsuDmSRMhQ","type":"tool_result","content":"495:  characterSheetAdvanced: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-advanced.webp`,\r\n605:          url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\r\n693:            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\r\n2130:            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,"}]},"uuid":"8179037c-b5b6-424e-b575-bc6efd56f5a9","timestamp":"2026-01-18T01:00:20.126Z","toolUseResult":{"mode":"content","numFiles":0,"filenames":[],"content":"495:  characterSheetAdvanced: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-advanced.webp`,\r\n605:          url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\r\n693:            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\r\n2130:            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,","numLines":4},"sourceToolAssistantUUID":"66decaaf-717e-4ccd-9749-f501d2c126ce"}
{"parentUuid":"8179037c-b5b6-424e-b575-bc6efd56f5a9","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_0197YFw2SvSFZJUpfumRWaro","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"There are still 3 other recipes using the old characterSheetAdvanced template (lines 605, 693, and 2130). Let me check what those recipes are:\n\n1. Line 605 - Let me check what recipe this is\n2. Line 693 - Already saw this was \"Character Sheet (From Description)\"\n3. Line 2130 - Let me check this one\n\nFor now, I'll leave the other recipes using the old template since they might be different recipes. The one we updated (Storybook Character Sheet From Description) is the one the user was working on with their new template.\n\nNow let me update the todo list and then work on the style guide recipe update:","signature":"EoEGCkYICxgCKkDyfLBj2esCQbeVdOPdRsLpIBZ6XODbAymwPzBMbYVW81+UNUxJpRccyvh6T1V0It3/mjtt7Sj1s5+MC2q//1hiEgz7tPuffS+PAzP4/AAaDH64jdfQ0L0mTEETniIwIkgxbA8pGK9aklVZ5N0UYcBh980tMyz7n30qjSOsKWpijqd2NPNBSauvZGG5Fn4IKugEx4X+Gkx6upLgZrIa4tgR0yJ8hRl1mR0B24zXyODMSMGV+JWMKnhlsmiYReBLvhCK+JliaN/eSIXxmYR8crySaZ5Rf/wU2d9btuRjHd8FqYNVxey7juXNXSzngmUAXVwagL3yH/gZvYhNXZU5/vwSXKe3kofzGzj1eAN6i3WRBySV7RBZDsbD4Hu6bZTaZUw/h6TpHDNDEqjcBTK1lVXNaWRLYe/EP/YRBZCf0zNZVmjN3rXrZLB2o9Pw8IcVqs+7R5pIrf1HTpZXJegdinR5mvE587s8LUrUZguZZjGwRVAuL7MUMTh3WBKv6bHgzOs9THK1o3F9baSmR2v/7PYXA0FJfT71c5i7Nb8V1+G6J2ydeRYNjVZBR0xAr2LH4yUF17f6XkKUyklzM0j42Pw8GMYhuiawVeKaNdRGb8S6dE+lXEWt1v6nmAK6Go0Syzw8GLsElXPUoKMiJehugOEw327H6PrSzJ2EAB9lLFlOv40+si0P/N5kznEmAX8KlEaVMeT65Hjon1HhbtpFd1K+a3T4WEljM2wsNrgNCuXnBWVRUctKR/ks3SSySN3ywTfVFQ0lzD6tEumlwK53HoXa6ElT1hp/CdX+AHcrr/ZQ9uWiOe4V6Fxb8ajZ3GAz0sJEtJS4rNP+4Q+PM6VPwkIk7fjGe7YP+8wwfSmch63berhYpO5ipW6JqnuAYOEIgR0Bp2238al+eeLekjUaGmjvzzUpjcNMZY6bo4+D6MmzqlxY5gzSZXq65kRy10JTXArelRVJxOFDHqtrwsCS+PvYJjonM5/50nZL066wGlLig6Y0Z78nvzDxWRgB"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":9,"cache_creation_input_tokens":387,"cache_read_input_tokens":57037,"cache_creation":{"ephemeral_5m_input_tokens":387,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CXDwQk6AwkatWmsXPkp2w","type":"assistant","uuid":"ddf1bb2c-6094-49a0-b8c5-1f8dda1de546","timestamp":"2026-01-18T01:00:26.459Z"}
{"parentUuid":"ddf1bb2c-6094-49a0-b8c5-1f8dda1de546","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_0197YFw2SvSFZJUpfumRWaro","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01HAHrVgktG5KzsVwexJLJrY","name":"TodoWrite","input":{"todos":[{"content":"Upload new character sheet template image","status":"completed","activeForm":"Uploading template"},{"content":"Update style guide recipe with V1 template","status":"in_progress","activeForm":"Updating style guide recipe"},{"content":"Test character sheet with new prompt","status":"pending","activeForm":"Testing new prompt"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":9,"cache_creation_input_tokens":387,"cache_read_input_tokens":57037,"cache_creation":{"ephemeral_5m_input_tokens":387,"ephemeral_1h_input_tokens":0},"output_tokens":336,"service_tier":"standard"}},"requestId":"req_011CXDwQk6AwkatWmsXPkp2w","type":"assistant","uuid":"96577318-9ad6-462c-ac82-0ae895c0f219","timestamp":"2026-01-18T01:00:28.669Z"}
{"parentUuid":"96577318-9ad6-462c-ac82-0ae895c0f219","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01HAHrVgktG5KzsVwexJLJrY","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"uuid":"9123d0d5-595f-478f-8672-45d534b7f535","timestamp":"2026-01-18T01:00:28.761Z","toolUseResult":{"oldTodos":[{"content":"Updated Stage 1 prompt with new detailed template","status":"completed","activeForm":"Updated prompt"},{"content":"Upload new character sheet template image","status":"in_progress","activeForm":"Uploading template"},{"content":"Test character sheet with new prompt","status":"pending","activeForm":"Testing new prompt"}],"newTodos":[{"content":"Upload new character sheet template image","status":"completed","activeForm":"Uploading template"},{"content":"Update style guide recipe with V1 template","status":"in_progress","activeForm":"Updating style guide recipe"},{"content":"Test character sheet with new prompt","status":"pending","activeForm":"Testing new prompt"}]},"sourceToolAssistantUUID":"96577318-9ad6-462c-ac82-0ae895c0f219"}
{"parentUuid":"9123d0d5-595f-478f-8672-45d534b7f535","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01SAHib8k7AEh2Ls4Uozo9n4","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"Good! Now I need to update the style guide recipe with the V1 template. According to the summary, the user provided a detailed JSON prompt for \"Visual_Style_Guide_Grid_Template_V1\" that needs to handle both image input and text input.\n\nThe style guide recipe starts at line 2317. Let me read it first:","signature":"EtYDCkYICxgCKkAxFca0gF+HxoOon8ktaRwPPb4kRjcjA9Q8ei0+g9o+p/rnZdBCQ3/uwa6jC4h3RZ88cr9DwFCHmjmecGcFzrYfEgzKS9Zgxl2joQY9L6gaDBIFqiaLroYL9WfFTiIwTBNsKgAU4j1OErgsgHttAvVM8RYgPdxnjvEc8Gwi5JePDiAH0fiphaA4flxb3fc9Kr0C7VhTLPzU5EOzWd+VxSF2wncoT5IhsJl+lYzQJKge2wYMucDkx6JH2Y7nivz+HRkvhnqKLu1E+UyXTHspm2+EeS209hA0b3SdRYTtiaqrmvHrNU9vsLZC/G5PRixuVzqZR6+HS4DV62D3LaOtQOEox9rzjRBK4nfCwcqI4HfMW1XbFI0mFPeaoT6TEyyZbvEl6RP4nUhzxOoFfoDhDkSfWdqeuEH+m0RctkiZUPrfbOy7yUBYDWx/NSaVyc8yTSqKXdH2yzkzEmveETUyMunQdpoi5HWL06ukK6vO0SKlf6dwFpOAK4dOQEKox9NbaSdmWA1YGsZ5rrVd3nBMODz6cXbW/IKDKFVDQPhNKUq4QaauK1Jc+u7e/+8MRF9w/zqQ+42aBm8zFwb7R6ApBpjyM0FS9NEUZfu3sshTEv4YAQ=="}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":9,"cache_creation_input_tokens":347,"cache_read_input_tokens":57424,"cache_creation":{"ephemeral_5m_input_tokens":347,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CXDwRPbARg2NGonZrR8rP","type":"assistant","uuid":"21c47cc7-2bae-465c-8c89-bdf056d3cbe0","timestamp":"2026-01-18T01:00:33.346Z"}
{"parentUuid":"21c47cc7-2bae-465c-8c89-bdf056d3cbe0","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01SAHib8k7AEh2Ls4Uozo9n4","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01EcyTyvCXZXMDu5PuEea8sV","name":"Read","input":{"file_path":"D:\\git\\directors-palette-v2\\src\\features\\shot-creator\\types\\recipe.types.ts","offset":2315,"limit":60}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":9,"cache_creation_input_tokens":347,"cache_read_input_tokens":57424,"cache_creation":{"ephemeral_5m_input_tokens":347,"ephemeral_1h_input_tokens":0},"output_tokens":195,"service_tier":"standard"}},"requestId":"req_011CXDwRPbARg2NGonZrR8rP","type":"assistant","uuid":"5c1f4e7c-7b91-44b1-92cb-ccee7f00e66e","timestamp":"2026-01-18T01:00:34.356Z"}
{"parentUuid":"5c1f4e7c-7b91-44b1-92cb-ccee7f00e66e","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01EcyTyvCXZXMDu5PuEea8sV","type":"tool_result","content":"  2315→  },\n  2316→\n  2317→  // Storybook Style Guide (system recipe)\n  2318→  {\n  2319→    name: 'Storybook Style Guide',\n  2320→    description: '6-tile visual style guide for children\\'s books',\n  2321→    recipeNote: 'Used by storybook feature to generate art style reference',\n  2322→    stages: [\n  2323→      {\n  2324→        id: generateStageId(),\n  2325→        order: 0,\n  2326→        type: 'generation',\n  2327→        template: `Create a visual style guide as a 6-image grid (2 rows × 3 columns) in <<STYLE_NAME:text!>> style.\n  2328→\n  2329→CRITICAL: Separate each cell with a SOLID BLACK LINE (4-6 pixels wide).\n  2330→\n  2331→<<STYLE_DESCRIPTION:text>>\n  2332→\n  2333→THE 6 TILES (2x3 grid):\n  2334→1. CHARACTER CLOSE-UP: A child character headshot, warm studio lighting, 3/4 view\n  2335→2. ACTION SCENE: A different character in dynamic pose, motion blur background\n  2336→3. ENVIRONMENT DETAIL: Interior scene, afternoon light through windows\n  2337→4. CHARACTER INTERACTION: Two diverse characters (different ethnicities/appearances) in conversation\n  2338→5. DYNAMIC POSE: Character in athletic stance, dramatic angle\n  2339→6. SET/LOCATION DESIGN: Exterior establishing shot with background characters of varied appearances\n  2340→\n  2341→DIVERSITY REQUIREMENTS:\n  2342→- Use diverse characters with different ethnicities, skin tones, and appearances\n  2343→- Show variety in hair colors, styles, and physical features\n  2344→- Include both male and female characters across the tiles\n  2345→- Make each character visually distinct and unique\n  2346→\n  2347→Output a 16:9 image with exactly 6 tiles (2 rows x 3 columns) separated by black lines.\n  2348→<<STYLE_NAME:text!>> style throughout all tiles.`,\n  2349→        fields: [],\n  2350→        referenceImages: [],\n  2351→      },\n  2352→    ],\n  2353→    suggestedAspectRatio: '16:9',\n  2354→    suggestedModel: 'nano-banana-pro',\n  2355→    isQuickAccess: false,\n  2356→    categoryId: 'storybook',\n  2357→    isSystem: true,\n  2358→    isSystemOnly: true,\n  2359→  },\n  2360→\n  2361→  // Storybook Page (First) - Optimized for story opening\n  2362→  {\n  2363→    name: 'Storybook Page (First)',\n  2364→    description: 'Generate the opening page illustration for a children\\'s book story',\n  2365→    recipeNote: 'Used by storybook feature for first pages. Optimized for story opening - no previous context needed.',\n  2366→    stages: [\n  2367→      {\n  2368→        id: generateStageId(),\n  2369→        order: 0,\n  2370→        type: 'generation',\n  2371→        template: `Create an engaging opening illustration for this children's book story.\n  2372→\n  2373→STORY OPENING:\n  2374→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"69ce9ccd-9b44-4b14-9f2e-ebe86d707bf7","timestamp":"2026-01-18T01:00:35.897Z","toolUseResult":{"type":"text","file":{"filePath":"D:\\git\\directors-palette-v2\\src\\features\\shot-creator\\types\\recipe.types.ts","content":"  },\n\n  // Storybook Style Guide (system recipe)\n  {\n    name: 'Storybook Style Guide',\n    description: '6-tile visual style guide for children\\'s books',\n    recipeNote: 'Used by storybook feature to generate art style reference',\n    stages: [\n      {\n        id: generateStageId(),\n        order: 0,\n        type: 'generation',\n        template: `Create a visual style guide as a 6-image grid (2 rows × 3 columns) in <<STYLE_NAME:text!>> style.\n\nCRITICAL: Separate each cell with a SOLID BLACK LINE (4-6 pixels wide).\n\n<<STYLE_DESCRIPTION:text>>\n\nTHE 6 TILES (2x3 grid):\n1. CHARACTER CLOSE-UP: A child character headshot, warm studio lighting, 3/4 view\n2. ACTION SCENE: A different character in dynamic pose, motion blur background\n3. ENVIRONMENT DETAIL: Interior scene, afternoon light through windows\n4. CHARACTER INTERACTION: Two diverse characters (different ethnicities/appearances) in conversation\n5. DYNAMIC POSE: Character in athletic stance, dramatic angle\n6. SET/LOCATION DESIGN: Exterior establishing shot with background characters of varied appearances\n\nDIVERSITY REQUIREMENTS:\n- Use diverse characters with different ethnicities, skin tones, and appearances\n- Show variety in hair colors, styles, and physical features\n- Include both male and female characters across the tiles\n- Make each character visually distinct and unique\n\nOutput a 16:9 image with exactly 6 tiles (2 rows x 3 columns) separated by black lines.\n<<STYLE_NAME:text!>> style throughout all tiles.`,\n        fields: [],\n        referenceImages: [],\n      },\n    ],\n    suggestedAspectRatio: '16:9',\n    suggestedModel: 'nano-banana-pro',\n    isQuickAccess: false,\n    categoryId: 'storybook',\n    isSystem: true,\n    isSystemOnly: true,\n  },\n\n  // Storybook Page (First) - Optimized for story opening\n  {\n    name: 'Storybook Page (First)',\n    description: 'Generate the opening page illustration for a children\\'s book story',\n    recipeNote: 'Used by storybook feature for first pages. Optimized for story opening - no previous context needed.',\n    stages: [\n      {\n        id: generateStageId(),\n        order: 0,\n        type: 'generation',\n        template: `Create an engaging opening illustration for this children's book story.\n\nSTORY OPENING:\n","numLines":60,"startLine":2315,"totalLines":3178}},"sourceToolAssistantUUID":"5c1f4e7c-7b91-44b1-92cb-ccee7f00e66e"}
{"parentUuid":"69ce9ccd-9b44-4b14-9f2e-ebe86d707bf7","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01TGLZNcN5jAYQhRZNfMcjvR","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"Good, I can see the current style guide recipe. Now I need to find the JSON prompt that the user provided in the conversation summary. According to the summary, the user provided \"Visual_Style_Guide_Grid_Template_V1\" JSON structure, but I don't have the actual content in the summary.\n\nLet me check the conversation transcript file mentioned in the summary to get the actual JSON prompt:","signature":"EqwECkYICxgCKkC6p461AYu8bf9YTCVWuCmpVWc9+0O5mRy7ZBTz8mWR3ONJingZ3eNYYEijcbFe4FDMB9F1aQca92i8xA/hBW+SEgzpeD1hysgtYtE2/vsaDAot9VvSyCMRyjPYeiIwK2TQRNNfRWQBDDfERdFoLtgcMsvSXLpiMEfIS7efGA+fGVhdtS9sIh9FbjfYLFbZKpMDnnTfrEDXs/D1XfR4MzMl/WTwh4I1lK8UoPVrIaV2O+pF+2WgG1Ayj8CY26a2hN20oOWMslmvS9AP+be2tlPsBxaWIsQgMz+3MrlQSq+jOpLOI9tGGGGqSDOcwaSf5vu/HyRxiv6HCUX88ujm8A9tj2JHgIwitS3m58UFgl3CrSft6MXIwtdvkwHZS/ZLA1PyplDbDtf12Nu7ECXa1CJg3aBi51QJBZGQJqSkrLyuIJk/cHboaK0V3nKweuFJ6Bw/95Xo8fF51wOuAU9q+6vgdqMeYJPv1JoeyTkhndDn73xvF2EmmvoPUMLQGX1qU3PW5nyPKq5iO8ohjbrbKwtgmRV+UOdAa+4JcMijUvQdHDpn6beTX1yNh5EGy163H71RTk353ZSdmKeMiLI792kGMMx560LaD5Q7P2+maYln4KTzkrRzjJCuNLdKhATMsrFsJY7iELBiguU1uGtPOxam5qSYuv/wu2Q2VK7VVkbR4i2N6JE22hIo1ywtps7jImTVOnljrQTuizXazWtxq5mnPCrNjxgB"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":9,"cache_creation_input_tokens":1168,"cache_read_input_tokens":57771,"cache_creation":{"ephemeral_5m_input_tokens":1168,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CXDwRv3VPycabeUjWMhU2","type":"assistant","uuid":"8df11bbc-c132-453f-8646-dc5729b2971d","timestamp":"2026-01-18T01:00:41.671Z"}
{"parentUuid":"8df11bbc-c132-453f-8646-dc5729b2971d","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01TGLZNcN5jAYQhRZNfMcjvR","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01KeZqVvsq53S2v5fabPUQHC","name":"Bash","input":{"command":"tail -200 \"C:\\Users\\taskm\\.claude\\projects\\D--git-directors-palette-v2\\a5b75619-5d86-43b0-80aa-b51726526ecf.jsonl\" | grep -A 100 \"Visual_Style_Guide\"","description":"Search transcript for style guide template JSON"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":9,"cache_creation_input_tokens":1168,"cache_read_input_tokens":57771,"cache_creation":{"ephemeral_5m_input_tokens":1168,"ephemeral_1h_input_tokens":0},"output_tokens":234,"service_tier":"standard"}},"requestId":"req_011CXDwRv3VPycabeUjWMhU2","type":"assistant","uuid":"b40cdb9d-9326-4a83-beb9-3c37ab92b164","timestamp":"2026-01-18T01:00:44.653Z"}
{"parentUuid":"b40cdb9d-9326-4a83-beb9-3c37ab92b164","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01KeZqVvsq53S2v5fabPUQHC","type":"tool_result","content":"<persisted-output>\nOutput too large (612.4KB). Full output saved to: C:\\Users\\taskm\\.claude\\projects\\D--git-directors-palette-v2\\a5b75619-5d86-43b0-80aa-b51726526ecf\\tool-results\\toolu_01KeZqVvsq53S2v5fabPUQHC.txt\n\nPreview (first 2KB):\n{\"type\":\"queue-operation\",\"operation\":\"enqueue\",\"timestamp\":\"2026-01-18T00:53:31.024Z\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"content\":\"Alright, here's something that the guys came up with and you're probably gonna need to edit it right 'cause you're gonna need to be able to. You're gonna need to be able to. Like sometimes we're gonna have. A image. And sometimes we're going to have text, right? Like, I don't. I don't remember. Yeah, yeah, yeah. I think sometimes we're gonna have an image and sometimes we're gonna have text. So here is what the guys came up with. {\\n  \\\"template_definition\\\": {\\n    \\\"version\\\": \\\"Visual_Style_Guide_Grid_Template_V1\\\",\\n    \\\"description\\\": \\\"A template for generating a 6-panel visual style reference sheet based on input image(s) and/or text descriptions.\\\",\\n    \\\"usage_instructions\\\": \\\"Replace all fields marked with '@[...]' with specific data. If providing only text, leave image references null, and vice-versa.\\\"\\n  },\\n  \\\"source_inputs\\\": {\\n    \\\"style_reference_image\\\": \\\"@[INSERT_IMAGE_FILENAME_FOR_STYLE_REFERENCE_OR_NULL]\\\",\\n    \\\"style_text_description\\\": \\\"@[INSERT_DETAILED_DESCRIPTION_OF_THE_DESIRED_STYLE_OR_NULL]\\\"\\n  },\\n  \\\"request_payload\\\": {\\n    \\\"request_type\\\": \\\"visual_style_guide_grid\\\",\\n    \\\"style_name\\\": \\\"@[INSERT_SHORT_NAME_OF_STYLE_e.g._CLAYMATION]\\\",\\n    \\\"title\\\": \\\"@[INSERT_SHORT_NAME_OF_STYLE_e.g._CLAYMATION] – Style Guide\\\",\\n    \\\"grid_layout\\\": {\\n      \\\"rows\\\": 2,\\n      \\\"columns\\\": 3,\\n      \\\"total_tiles\\\": 6,\\n      \\\"caption_requirement\\\": \\\"Each tile has a short caption labeling what aspect of the style it demonstrates.\\\"\\n    },\\n    \\\"global_style_rules\\\": {\\n      \\\"directive\\\": \\\"Analyze the provided 'source_inputs' (image reference and/or text description) to define the visual rules set. Apply these rules strictly to every tile.\\\",\\n      \\\"color_and_contrast\\\": \\\"Match the color palette, contrast, and saturation dictated by the provided style source inputs.\\\",\\n     \n...\n</persisted-output>","is_error":false}]},"uuid":"f635663e-6cc7-49b6-9656-822865501109","timestamp":"2026-01-18T01:00:46.357Z","toolUseResult":{"stdout":"{\"type\":\"queue-operation\",\"operation\":\"enqueue\",\"timestamp\":\"2026-01-18T00:53:31.024Z\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"content\":\"Alright, here's something that the guys came up with and you're probably gonna need to edit it right 'cause you're gonna need to be able to. You're gonna need to be able to. Like sometimes we're gonna have. A image. And sometimes we're going to have text, right? Like, I don't. I don't remember. Yeah, yeah, yeah. I think sometimes we're gonna have an image and sometimes we're gonna have text. So here is what the guys came up with. {\\n  \\\"template_definition\\\": {\\n    \\\"version\\\": \\\"Visual_Style_Guide_Grid_Template_V1\\\",\\n    \\\"description\\\": \\\"A template for generating a 6-panel visual style reference sheet based on input image(s) and/or text descriptions.\\\",\\n    \\\"usage_instructions\\\": \\\"Replace all fields marked with '@[...]' with specific data. If providing only text, leave image references null, and vice-versa.\\\"\\n  },\\n  \\\"source_inputs\\\": {\\n    \\\"style_reference_image\\\": \\\"@[INSERT_IMAGE_FILENAME_FOR_STYLE_REFERENCE_OR_NULL]\\\",\\n    \\\"style_text_description\\\": \\\"@[INSERT_DETAILED_DESCRIPTION_OF_THE_DESIRED_STYLE_OR_NULL]\\\"\\n  },\\n  \\\"request_payload\\\": {\\n    \\\"request_type\\\": \\\"visual_style_guide_grid\\\",\\n    \\\"style_name\\\": \\\"@[INSERT_SHORT_NAME_OF_STYLE_e.g._CLAYMATION]\\\",\\n    \\\"title\\\": \\\"@[INSERT_SHORT_NAME_OF_STYLE_e.g._CLAYMATION] – Style Guide\\\",\\n    \\\"grid_layout\\\": {\\n      \\\"rows\\\": 2,\\n      \\\"columns\\\": 3,\\n      \\\"total_tiles\\\": 6,\\n      \\\"caption_requirement\\\": \\\"Each tile has a short caption labeling what aspect of the style it demonstrates.\\\"\\n    },\\n    \\\"global_style_rules\\\": {\\n      \\\"directive\\\": \\\"Analyze the provided 'source_inputs' (image reference and/or text description) to define the visual rules set. Apply these rules strictly to every tile.\\\",\\n      \\\"color_and_contrast\\\": \\\"Match the color palette, contrast, and saturation dictated by the provided style source inputs.\\\",\\n      \\\"rendering_style\\\": \\\"Maintain identical rendering style across all tiles (e.g., painterly, illustrative, photoreal, 3D render, claymation, sketched, etc.) as defined by the inputs.\\\",\\n      \\\"line_and_detail\\\": \\\"Match line quality, edge sharpness/softness, and detail level of the source inputs.\\\",\\n      \\\"lighting_and_mood\\\": \\\"Match the lighting style, shadow softness, and overall atmospheric mood of the source inputs.\\\",\\n      \\\"camera_language\\\": \\\"Match the depth of field, framing choices, focal length feel, and sense of motion present in the style source.\\\",\\n      \\\"world_cohesion\\\": \\\"Every tile must look like it comes from the same production, using the same design language, textures, and atmosphere.\\\"\\n    },\\n    \\\"shared_subject_rules\\\": {\\n      \\\"primary_human_examples\\\": {\\n        \\\"description\\\": \\\"Use a consistent mini-cast for tiles involving human characters to demonstrate how the style handles race, skin tone, and human diversity accurately within the art style.\\\",\\n        \\\"cast\\\": [\\n          {\\n            \\\"id\\\": \\\"character_black_man\\\",\\n            \\\"description\\\": \\\"A Black man in his early 30s, medium build, short natural hair, expressive eyes.\\\"\\n          },\\n          {\\n            \\\"id\\\": \\\"character_white_man\\\",\\n            \\\"description\\\": \\\"A White man in his early 30s, average build, short hair, clean shave.\\\"\\n          },\\n          {\\n            \\\"id\\\": \\\"character_group_optional\\\",\\n            \\\"description\\\": \\\"Optional diverse group of 3-5 people with varied skin tones, genders, and silhouettes, all rendered consistently in the same style.\\\"\\n          }\\n        ]\\n      },\\n      \\\"usage_note\\\": \\\"These characters are generated by the model for the purpose of style demonstration; the user does not provide these characters.\\\"\\n    },\\n    \\\"example_tiles\\\": [\\n      {\\n        \\\"tile_index\\\": 1,\\n        \\\"label\\\": \\\"Character Close-Up\\\",\\n        \\\"caption\\\": \\\"Dramatic close-up portrait in the core visual style.\\\",\\n        \\\"description\\\": \\\"A close-up of a newly generated character from the shared cast list, shoulders-up, with expressive lighting. The face should clearly demonstrate how the defined style handles skin texture, emotion, materials, and color behavior.\\\"\\n      },\\n      {\\n        \\\"tile_index\\\": 2,\\n        \\\"label\\\": \\\"Action Scene\\\",\\n        \\\"caption\\\": \\\"Dynamic action moment with consistent camera language.\\\",\\n        \\\"description\\\": \\\"A dynamic action scene showing a newly created character or small group in motion. Must maintain the same lighting behavior, color palette, and rendering fidelity as the defined style.\\\"\\n      },\\n      {\\n        \\\"tile_index\\\": 3,\\n        \\\"label\\\": \\\"Environment Detail\\\",\\n        \\\"caption\\\": \\\"Detailed environmental slice showing texture and atmosphere.\\\",\\n        \\\"description\\\": \\\"A richly detailed environment element (e.g., street corner, room interior, forest clearing) showing materials, lighting, and atmospheric depth consistent with the defined style.\\\"\\n      },\\n      {\\n        \\\"tile_index\\\": 4,\\n        \\\"label\\\": \\\"Multi-Racial Character Interaction\\\",\\n        \\\"caption\\\": \\\"Black man and White man demonstrating racial consistency in style.\\\",\\n        \\\"description\\\": \\\"The Black man and White man from the shared cast definitions performing a simple interaction (walking, talking, etc.). Their different skin tones, facial structures, and materials must be rendered consistently in the visual style without drifting or changing the art technique between subjects.\\\"\\n      },\\n      {\\n        \\\"tile_index\\\": 5,\\n        \\\"label\\\": \\\"Dynamic Pose\\\",\\n        \\\"caption\\\": \\\"Full-body dynamic pose showing motion and anatomy.\\\",\\n        \\\"description\\\": \\\"A full-body shot of a character in a dramatic, action-oriented pose that demonstrates how anatomy, silhouette, and gesture are depicted in this specific style.\\\"\\n      },\\n      {\\n        \\\"tile_index\\\": 6,\\n        \\\"label\\\": \\\"Set / Location Design\\\",\\n        \\\"caption\\\": \\\"Wide location shot showcasing worldbuilding and atmosphere.\\\",\\n        \\\"description\\\": \\\"A wide shot highlighting a large set or location design appropriate for the genre. Must match environment lighting, atmosphere, and lens behavior of the defined style.\\\"\\n      }\\n    ],\\n    \\\"extra_instructions\\\": {\\n      \\\"lighting_anchor\\\": \\\"Use the provided input(s) lighting, time of day, and atmosphere as the core anchor for the style across all tiles.\\\",\\n      \\\"proportion_and_fidelity\\\": \\\"Keep character proportions, rendering fidelity, and texture detail uniform across all 6 tiles.\\\",\\n      \\\"avoid_style_drift\\\": \\\"Do not introduce new color schemes, lighting models, or render methods not present in the source inputs.\\\",\\n      \\\"purpose\\\": \\\"This grid must function as a unified blueprint demonstrating humans, environments, and action in one consistent art style.\\\"\\n    },\\n    \\\"output_description\\\": \\\"A polished 2x3 visual style guide grid labeled '@[INSERT_SHORT_NAME_OF_STYLE_e.g._CLAYMATION\"}\n{\"parentUuid\":\"3dfd288d-288c-4bc0-8312-a331729c54de\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_014XaTGhUaKJu2ko7rZMxKzm\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_0172AxYmJe4a7vD646cFCZ8g\",\"name\":\"Edit\",\"input\":{\"replace_all\":false,\"file_path\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts\",\"old_string\":\"const SYSTEM_TEMPLATE_URLS = {\\n  wardrobeGrid: `${SUPABASE_URL}/storage/v1/object/public/templates/system/wardrobe/wardrobe-grid-template.png`,\\n  characterSheetAdvanced: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-advanced.webp`,\",\"new_string\":\"const SYSTEM_TEMPLATE_URLS = {\\n  wardrobeGrid: `${SUPABASE_URL}/storage/v1/object/public/templates/system/wardrobe/wardrobe-grid-template.png`,\\n  characterSheetAdvanced: `/charactersheet-v3.jpg`,  // Updated V3 template with detailed panels\"}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":12,\"cache_creation_input_tokens\":432,\"cache_read_input_tokens\":150774,\"cache_creation\":{\"ephemeral_5m_input_tokens\":432,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":348,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDvswJFbmLJBhH5u7JgY\",\"type\":\"assistant\",\"uuid\":\"04d80cc7-090a-4092-9312-83055005bf8e\",\"timestamp\":\"2026-01-18T00:53:32.031Z\"}\n{\"parentUuid\":\"04d80cc7-090a-4092-9312-83055005bf8e\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"<tool_use_error>File has not been read yet. Read it first before writing to it.</tool_use_error>\",\"is_error\":true,\"tool_use_id\":\"toolu_0172AxYmJe4a7vD646cFCZ8g\"}]},\"uuid\":\"be96c95f-2952-4c0f-b136-01a963c50aab\",\"timestamp\":\"2026-01-18T00:53:32.165Z\",\"toolUseResult\":\"Error: File has not been read yet. Read it first before writing to it.\",\"sourceToolAssistantUUID\":\"04d80cc7-090a-4092-9312-83055005bf8e\"}\n{\"type\":\"queue-operation\",\"operation\":\"remove\",\"timestamp\":\"2026-01-18T00:53:32.760Z\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\"}\n{\"parentUuid\":\"be96c95f-2952-4c0f-b136-01a963c50aab\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01EBpxYgCEoH9d6CcGnPecq4\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"The user just provided ANOTHER prompt - this one is for the STYLE GUIDE generation! That's a different recipe.\\n\\nLet me pause on the character sheet template upload and address this new style guide prompt.They want me to adapt this for the style guide recipe, which can take either:1. An image input2. A text description3. BothLet me handle this new request about the style guide generation.\",\"signature\":\"Eq0ECkYICxgCKkBZGKYiUXv6D+rWNZnXTA1FHJYZgQw5mUzAx3ZEeUJcHqXxSrqDexIS+pbH9SyHI0dWHJ1Yt2XTl2HpvZv8KKUNEgy/IGfJeiCPvecJfioaDMSYhur/7ayWR0ESfiIwq4wSRUeSHlSLHFFric2KbDWIK6mJOmnHm2WkFnHWa/4/JYpFMNWcRW03m2IoJ/pBKpQDJbMePd+h40X2IKHwmMaTu9G9G6AWFjQGe4mnWNJnQnZhwV2vj7HOXlNLosDxW6j+T5LunKETKOXTI6paRRPodn3ASoTaDveMSdl8kZRKsUox64JpfsKPxd6c4olZBriYfuililrO1nzjBY6VajyOXjD8SpdSPOfHu3P+hxqznnD6IUKgujJHY/8Rc9SIP/IZRe18s/A5/oI4v2CHYpKV8HbLSzZag1p2GXIA7/c/tmb+SPgSZ6UWUt4oSM3rLA+i6SdjJbrHdzyJNlA68o2MzrXpWF/lftrjRvfyNo7xtWQqITljLgCyE03qoPeWZKiLu783VRzHZoteSVaAWt9Z5jSIhSyleHVpEWckO6K+3EKHB03HtpCOvqUhVkf35zDXhlPTu19kmWGjrxhVUCYF2fXusFGVmHHKDT1gjG2lqOq5b9QlYteIqrW7BcDjHwcG00/zqkCpy/gq7wGPDKFSe2m66J9d/+Nr+iCDEcZVArK3vH+lT07h7/VU8eFW3S3lOcMIIdPeGSxz/h0k+mDylHRoDCoYAQ==\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":12,\"cache_creation_input_tokens\":2081,\"cache_read_input_tokens\":151206,\"cache_creation\":{\"ephemeral_5m_input_tokens\":2081,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":2,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDvtjmVdqZENhHeSWyYq\",\"type\":\"assistant\",\"uuid\":\"fabc0675-1733-4f2b-9644-7e04577c2fb9\",\"timestamp\":\"2026-01-18T00:53:41.243Z\"}\n{\"parentUuid\":\"fabc0675-1733-4f2b-9644-7e04577c2fb9\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01EBpxYgCEoH9d6CcGnPecq4\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"text\",\"text\":\"Got it! You just sent me the **Style Guide template** prompt. This is different from the character sheet - this is for **generating the 6-tile style guide itself**.\\n\\nLet me address this first, then we'll finish the character sheet template upload.\\n\\n## Summary of What We Have:\\n\\n1. ✅ **Stage 0 prompt (Character from Description)** - FIXED with case-sensitive bug and improved prompt\\n2. ✅ **Stage 1 prompt (Character Sheet)** - UPDATED with your detailed V3 template structure\\n3. ⏳ **Style Guide Generation prompt** - YOU JUST SENT THIS - needs to be integrated\\n\\n---\\n\\n## For the Style Guide Prompt:\\n\\nThis is for the **\\\"Storybook Style Guide\\\" recipe** which generates the 6-tile visual reference. Your prompt structure handles:\\n- **Image input**: style reference image\\n- **Text input**: style text description  \\n- **Both**: hybrid approach\\n\\nLet me find that recipe and update it:\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":12,\"cache_creation_input_tokens\":2081,\"cache_read_input_tokens\":151206,\"cache_creation\":{\"ephemeral_5m_input_tokens\":2081,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":2,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDvtjmVdqZENhHeSWyYq\",\"type\":\"assistant\",\"uuid\":\"6ff60bdc-c875-43ef-a269-041368282271\",\"timestamp\":\"2026-01-18T00:53:48.007Z\"}\n{\"parentUuid\":\"6ff60bdc-c875-43ef-a269-041368282271\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01EBpxYgCEoH9d6CcGnPecq4\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_01Pz5fZKi75WwWQ4XPP7aQVt\",\"name\":\"Bash\",\"input\":{\"command\":\"grep -n \\\"Storybook Style Guide\\\\|6-tile visual style guide\\\" \\\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts\\\" | head -5\",\"description\":\"Find the style guide recipe\"}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":12,\"cache_creation_input_tokens\":2081,\"cache_read_input_tokens\":151206,\"cache_creation\":{\"ephemeral_5m_input_tokens\":2081,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":444,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDvtjmVdqZENhHeSWyYq\",\"type\":\"assistant\",\"uuid\":\"934edb14-600f-4367-ac5f-d102b63c2cda\",\"timestamp\":\"2026-01-18T00:53:49.967Z\"}\n{\"parentUuid\":\"934edb14-600f-4367-ac5f-d102b63c2cda\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"tool_use_id\":\"toolu_01Pz5fZKi75WwWQ4XPP7aQVt\",\"type\":\"tool_result\",\"content\":\"2316:  // Storybook Style Guide (system recipe)\\n2318:    name: 'Storybook Style Guide',\\n2319:    description: '6-tile visual style guide for children\\\\'s books',\",\"is_error\":false}]},\"uuid\":\"b8013a21-b70b-48c0-af50-b9f3f3734717\",\"timestamp\":\"2026-01-18T00:53:51.070Z\",\"toolUseResult\":{\"stdout\":\"2316:  // Storybook Style Guide (system recipe)\\n2318:    name: 'Storybook Style Guide',\\n2319:    description: '6-tile visual style guide for children\\\\'s books',\\r\",\"stderr\":\"\",\"interrupted\":false,\"isImage\":false},\"sourceToolAssistantUUID\":\"934edb14-600f-4367-ac5f-d102b63c2cda\"}\n{\"parentUuid\":\"b8013a21-b70b-48c0-af50-b9f3f3734717\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01Uih7JqvyZZSVD4UMbrjnTi\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"Found it at line 2316. Let me read it and see what it currently looks like.\",\"signature\":\"EvMBCkYICxgCKkAieSzoJPLn6zzWcxkdSo7nwKArh+ZoaMFqwwHHERnqA/PeMjFf0o4Uf0Z0RC6oMwfLauBjTtUPbNeAJpFn2rcbEgwJR5GEb5KYPn6fkHAaDLazDLeO5pCzt3xFgSIw/wuR+xSb3ZLY+qz+/lVZHrI8BiTds9d3PlNVZ4KQpeVSsav9chC1qHrYWZRcXlzlKltwHgCgMhsXNX5za1V6CcqbmZ1ahuizWsNmHDrpXegLGl4Zr4OzYIY1dnytYk4vF+hu6gil83sd1BXpyEmF91OfK0Vr0BzcL74a1vWHFae9keOcjV7jYwzOgZ2fGAE=\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":11,\"cache_creation_input_tokens\":514,\"cache_read_input_tokens\":153287,\"cache_creation\":{\"ephemeral_5m_input_tokens\":514,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":3,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDvv6Qk7bqcrZrEAkwb9\",\"type\":\"assistant\",\"uuid\":\"b07e0447-c1ff-402c-954f-20218bedb5a7\",\"timestamp\":\"2026-01-18T00:54:05.563Z\"}\n{\"parentUuid\":\"b07e0447-c1ff-402c-954f-20218bedb5a7\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01Uih7JqvyZZSVD4UMbrjnTi\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_01VMbn7SAwsSoDA3g7hYR7Mg\",\"name\":\"Read\",\"input\":{\"file_path\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts\",\"offset\":2316,\"limit\":80}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":11,\"cache_creation_input_tokens\":514,\"cache_read_input_tokens\":153287,\"cache_creation\":{\"ephemeral_5m_input_tokens\":514,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":3,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDvv6Qk7bqcrZrEAkwb9\",\"type\":\"assistant\",\"uuid\":\"90dd2ea6-8bec-4da8-b9c7-04b7cdc13e66\",\"timestamp\":\"2026-01-18T00:54:09.272Z\"}\n{\"parentUuid\":\"90dd2ea6-8bec-4da8-b9c7-04b7cdc13e66\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"tool_use_id\":\"toolu_01VMbn7SAwsSoDA3g7hYR7Mg\",\"type\":\"tool_result\",\"content\":\"  2316→  // Storybook Style Guide (system recipe)\\n  2317→  {\\n  2318→    name: 'Storybook Style Guide',\\n  2319→    description: '6-tile visual style guide for children\\\\'s books',\\n  2320→    recipeNote: 'Used by storybook feature to generate art style reference',\\n  2321→    stages: [\\n  2322→      {\\n  2323→        id: generateStageId(),\\n  2324→        order: 0,\\n  2325→        type: 'generation',\\n  2326→        template: `Create a visual style guide as a 6-image grid (2 rows × 3 columns) in <<STYLE_NAME:text!>> style.\\n  2327→\\n  2328→CRITICAL: Separate each cell with a SOLID BLACK LINE (4-6 pixels wide).\\n  2329→\\n  2330→<<STYLE_DESCRIPTION:text>>\\n  2331→\\n  2332→THE 6 TILES (2x3 grid):\\n  2333→1. CHARACTER CLOSE-UP: A child character headshot, warm studio lighting, 3/4 view\\n  2334→2. ACTION SCENE: A different character in dynamic pose, motion blur background\\n  2335→3. ENVIRONMENT DETAIL: Interior scene, afternoon light through windows\\n  2336→4. CHARACTER INTERACTION: Two diverse characters (different ethnicities/appearances) in conversation\\n  2337→5. DYNAMIC POSE: Character in athletic stance, dramatic angle\\n  2338→6. SET/LOCATION DESIGN: Exterior establishing shot with background characters of varied appearances\\n  2339→\\n  2340→DIVERSITY REQUIREMENTS:\\n  2341→- Use diverse characters with different ethnicities, skin tones, and appearances\\n  2342→- Show variety in hair colors, styles, and physical features\\n  2343→- Include both male and female characters across the tiles\\n  2344→- Make each character visually distinct and unique\\n  2345→\\n  2346→Output a 16:9 image with exactly 6 tiles (2 rows x 3 columns) separated by black lines.\\n  2347→<<STYLE_NAME:text!>> style throughout all tiles.`,\\n  2348→        fields: [],\\n  2349→        referenceImages: [],\\n  2350→      },\\n  2351→    ],\\n  2352→    suggestedAspectRatio: '16:9',\\n  2353→    suggestedModel: 'nano-banana-pro',\\n  2354→    isQuickAccess: false,\\n  2355→    categoryId: 'storybook',\\n  2356→    isSystem: true,\\n  2357→    isSystemOnly: true,\\n  2358→  },\\n  2359→\\n  2360→  // Storybook Page (First) - Optimized for story opening\\n  2361→  {\\n  2362→    name: 'Storybook Page (First)',\\n  2363→    description: 'Generate the opening page illustration for a children\\\\'s book story',\\n  2364→    recipeNote: 'Used by storybook feature for first pages. Optimized for story opening - no previous context needed.',\\n  2365→    stages: [\\n  2366→      {\\n  2367→        id: generateStageId(),\\n  2368→        order: 0,\\n  2369→        type: 'generation',\\n  2370→        template: `Create an engaging opening illustration for this children's book story.\\n  2371→\\n  2372→STORY OPENING:\\n  2373→\\n  2374→Current Page Text (the story begins):\\n  2375→\\\"<<PAGE_TEXT:text!>>\\\"\\n  2376→\\n  2377→SCENE DETAILS:\\n  2378→<<SCENE_DESCRIPTION:text>>\\n  2379→\\n  2380→MOOD: <<MOOD:select(Happy,Sad,Excited,Calm,Mysterious,Adventurous)!>>\\n  2381→\\n  2382→CHARACTERS IN SCENE:\\n  2383→<<CHARACTER_NAMES:text>>\\n  2384→\\n  2385→OPENING PAGE STORYTELLING:\\n  2386→- Establish the story's setting and atmosphere immediately\\n  2387→- Create visual intrigue to hook young readers\\n  2388→- Introduce main character(s) with clear, engaging poses\\n  2389→- Set the tone for the entire story\\n  2390→- Use composition to draw the eye to key story elements\\n  2391→- Choose appropriate framing that serves the narrative\\n  2392→\\n  2393→CRITICAL STYLE REQUIREMENTS:\\n  2394→- A STYLE GUIDE reference image is attached - analyze it carefully\\n  2395→- Extract the EXACT art style from the style guide (rendering technique, line work, color palette, shading approach)\\n\\n<system-reminder>\\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\\n</system-reminder>\\n\"}]},\"uuid\":\"0992dc31-6b13-4314-b4a1-5dc8ad031ee4\",\"timestamp\":\"2026-01-18T00:54:10.789Z\",\"toolUseResult\":{\"type\":\"text\",\"file\":{\"filePath\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts\",\"content\":\"  // Storybook Style Guide (system recipe)\\n  {\\n    name: 'Storybook Style Guide',\\n    description: '6-tile visual style guide for children\\\\'s books',\\n    recipeNote: 'Used by storybook feature to generate art style reference',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `Create a visual style guide as a 6-image grid (2 rows × 3 columns) in <<STYLE_NAME:text!>> style.\\n\\nCRITICAL: Separate each cell with a SOLID BLACK LINE (4-6 pixels wide).\\n\\n<<STYLE_DESCRIPTION:text>>\\n\\nTHE 6 TILES (2x3 grid):\\n1. CHARACTER CLOSE-UP: A child character headshot, warm studio lighting, 3/4 view\\n2. ACTION SCENE: A different character in dynamic pose, motion blur background\\n3. ENVIRONMENT DETAIL: Interior scene, afternoon light through windows\\n4. CHARACTER INTERACTION: Two diverse characters (different ethnicities/appearances) in conversation\\n5. DYNAMIC POSE: Character in athletic stance, dramatic angle\\n6. SET/LOCATION DESIGN: Exterior establishing shot with background characters of varied appearances\\n\\nDIVERSITY REQUIREMENTS:\\n- Use diverse characters with different ethnicities, skin tones, and appearances\\n- Show variety in hair colors, styles, and physical features\\n- Include both male and female characters across the tiles\\n- Make each character visually distinct and unique\\n\\nOutput a 16:9 image with exactly 6 tiles (2 rows x 3 columns) separated by black lines.\\n<<STYLE_NAME:text!>> style throughout all tiles.`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '16:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: false,\\n    categoryId: 'storybook',\\n    isSystem: true,\\n    isSystemOnly: true,\\n  },\\n\\n  // Storybook Page (First) - Optimized for story opening\\n  {\\n    name: 'Storybook Page (First)',\\n    description: 'Generate the opening page illustration for a children\\\\'s book story',\\n    recipeNote: 'Used by storybook feature for first pages. Optimized for story opening - no previous context needed.',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `Create an engaging opening illustration for this children's book story.\\n\\nSTORY OPENING:\\n\\nCurrent Page Text (the story begins):\\n\\\"<<PAGE_TEXT:text!>>\\\"\\n\\nSCENE DETAILS:\\n<<SCENE_DESCRIPTION:text>>\\n\\nMOOD: <<MOOD:select(Happy,Sad,Excited,Calm,Mysterious,Adventurous)!>>\\n\\nCHARACTERS IN SCENE:\\n<<CHARACTER_NAMES:text>>\\n\\nOPENING PAGE STORYTELLING:\\n- Establish the story's setting and atmosphere immediately\\n- Create visual intrigue to hook young readers\\n- Introduce main character(s) with clear, engaging poses\\n- Set the tone for the entire story\\n- Use composition to draw the eye to key story elements\\n- Choose appropriate framing that serves the narrative\\n\\nCRITICAL STYLE REQUIREMENTS:\\n- A STYLE GUIDE reference image is attached - analyze it carefully\\n- Extract the EXACT art style from the style guide (rendering technique, line work, color palette, shading approach)\",\"numLines\":80,\"startLine\":2316,\"totalLines\":3177}},\"sourceToolAssistantUUID\":\"90dd2ea6-8bec-4da8-b9c7-04b7cdc13e66\"}\n{\"parentUuid\":\"0992dc31-6b13-4314-b4a1-5dc8ad031ee4\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01RK1nYsuwPVhBPE68wvvT7T\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"OK so the style guide recipe is pretty simple right now. The user wants to update it to use their much more detailed prompt that:1. Can handle image OR text input2. Has specific character diversity requirements (Black man, White man, diverse group)\\n3. Has 6 specific tiles with detailed descriptions4. Has global style rules\\n\\nLet me update this recipe with their new prompt structure. I'll need to add fields for:- STYLE_NAME (already have)- STYLE_DESCRIPTION (already have)- Optional: STYLE_REFERENCE_IMAGE (could be a reference image)\\n\\nActually, the reference image would be passed at runtime, not as a field. So the current fields are fine.\\n\\nLet me convert their JSON prompt to our recipe template format.\",\"signature\":\"EugGCkYICxgCKkBsjGwQBeMZvbVs594fSF67EmNiGeStYzYZOPR9RaA1IwCNsd2NkYVtDf6J8jBMmSeiNrceSK2HQriID6sV7TZOEgwGjksXwO4+sfw1mD4aDAfPTvhAhJGqmX9ytSIwlDa2BfMNhAAb5RFOKhhyQXiclESs/8YBEP/Q7HlcOf8dzAaT/ut2IcruthjidUwwKs8FRJ2t+tZ8ZIx16BEA7v1pcie6Y6rWP0XRa8eXYmwv/jYZ0QPSCH1ol6M9nJP0As2fFfMbyCUlvpKok0IlM+k6Ht10MoS92ZOUcu8MCrqivxxliyy+Y88c4H8VqvhB760gUr3U9y0/+daDo2vx2447Z/v8JScjHdq7VRbE8gYWiW7imNoEK5k/NiVssrWp9u3oEee5bq5GOzhnSItOQvvxz1sjxI0QXcYga2OWtCN/J5RMbsRz7NNr1vSyx7NU1hS8Ptoeix9t9h1lLSKlpJ4yal/2N7L7REyWIK6NHEV2uvBqxTfbml5lBNs+p5zJQLWlSDEAAVgd3d841KipwugJBjO/4vEdRLIXyH68qvLDy95EHB8Ogi269rQzjTtqRWvs6h4uF4AW0jq3dgH1zVES2kyef4xC5FflCRxfJt3z+d1DUqGALdIY1kkwOAlhhlQN4NU6JKH2ZVDe3EuCXxCZC4JSr6AdPbT0JEE9KwqOQGkDAPhhcxrU7s9OtZO7+L2JCw6WCRkPgqTJcqVD+xmTu8z2UeDmITwY2yaeG8yQeoGhNfPFrM8WdumCh/fjUNGDFEAJZdSkQ9h14I7At+n7tVkc1iuwZySmNMIB8OrbhzntU8G3S4vgpgzp8A6c9Zx41qdAY1wj7BjwHwZvLnyw/PCLK/6PLS97y58mhfuQ8JLG0gLReaHw49MA268rCqfRbGTBENqjaMab09vjScM5KdmJwwqNqXpCgDnwBn+Rm+/yqWID0PVKa7qj8eImonFTUadUX82i8D/yzD+6DjhCErS+im3BupZ45SsnJhnZf6cJer+Eozsd8DaCU0ehMrzzf7do6qCs275VcrkFoM4dZ/ybMDq2FmZnW6d3gno0vnc1eUvjI3FzlMJalOCWdoZD/SOdy/iHLqQ6/s6dr9qux5SNSr6iGhWJtCFJazgJrZWB9nMudghNvOigKhADWtYYAQ==\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":11,\"cache_creation_input_tokens\":1401,\"cache_read_input_tokens\":153801,\"cache_creation\":{\"ephemeral_5m_input_tokens\":1401,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":1,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDvwZKGqb5PpFoKH3kqj\",\"type\":\"assistant\",\"uuid\":\"c6caeef9-6953-473e-a023-1b9526688e5b\",\"timestamp\":\"2026-01-18T00:54:22.524Z\"}\n{\"parentUuid\":\"c6caeef9-6953-473e-a023-1b9526688e5b\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01RK1nYsuwPVhBPE68wvvT7T\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"text\",\"text\":\"Perfect! Let me update the Style Guide recipe with your detailed V1 template. This will handle both image and text inputs:\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":11,\"cache_creation_input_tokens\":1401,\"cache_read_input_tokens\":153801,\"cache_creation\":{\"ephemeral_5m_input_tokens\":1401,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":1,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDvwZKGqb5PpFoKH3kqj\",\"type\":\"assistant\",\"uuid\":\"899273d4-e0c7-4eb5-9095-94f24afadab9\",\"timestamp\":\"2026-01-18T00:54:23.320Z\"}\n{\"parentUuid\":\"899273d4-e0c7-4eb5-9095-94f24afadab9\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01RK1nYsuwPVhBPE68wvvT7T\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_01GnJ6jcLKR7K6PTk1feCLzB\",\"name\":\"Read\",\"input\":{\"file_path\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts\",\"offset\":2320,\"limit\":35}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":11,\"cache_creation_input_tokens\":1401,\"cache_read_input_tokens\":153801,\"cache_creation\":{\"ephemeral_5m_input_tokens\":1401,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":311,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDvwZKGqb5PpFoKH3kqj\",\"type\":\"assistant\",\"uuid\":\"53e4f938-690d-4bae-b5fb-1d6ef3dd752e\",\"timestamp\":\"2026-01-18T00:54:25.065Z\"}\n{\"parentUuid\":\"53e4f938-690d-4bae-b5fb-1d6ef3dd752e\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"tool_use_id\":\"toolu_01GnJ6jcLKR7K6PTk1feCLzB\",\"type\":\"tool_result\",\"content\":\"  2320→    recipeNote: 'Used by storybook feature to generate art style reference',\\n  2321→    stages: [\\n  2322→      {\\n  2323→        id: generateStageId(),\\n  2324→        order: 0,\\n  2325→        type: 'generation',\\n  2326→        template: `Create a visual style guide as a 6-image grid (2 rows × 3 columns) in <<STYLE_NAME:text!>> style.\\n  2327→\\n  2328→CRITICAL: Separate each cell with a SOLID BLACK LINE (4-6 pixels wide).\\n  2329→\\n  2330→<<STYLE_DESCRIPTION:text>>\\n  2331→\\n  2332→THE 6 TILES (2x3 grid):\\n  2333→1. CHARACTER CLOSE-UP: A child character headshot, warm studio lighting, 3/4 view\\n  2334→2. ACTION SCENE: A different character in dynamic pose, motion blur background\\n  2335→3. ENVIRONMENT DETAIL: Interior scene, afternoon light through windows\\n  2336→4. CHARACTER INTERACTION: Two diverse characters (different ethnicities/appearances) in conversation\\n  2337→5. DYNAMIC POSE: Character in athletic stance, dramatic angle\\n  2338→6. SET/LOCATION DESIGN: Exterior establishing shot with background characters of varied appearances\\n  2339→\\n  2340→DIVERSITY REQUIREMENTS:\\n  2341→- Use diverse characters with different ethnicities, skin tones, and appearances\\n  2342→- Show variety in hair colors, styles, and physical features\\n  2343→- Include both male and female characters across the tiles\\n  2344→- Make each character visually distinct and unique\\n  2345→\\n  2346→Output a 16:9 image with exactly 6 tiles (2 rows x 3 columns) separated by black lines.\\n  2347→<<STYLE_NAME:text!>> style throughout all tiles.`,\\n  2348→        fields: [],\\n  2349→        referenceImages: [],\\n  2350→      },\\n  2351→    ],\\n  2352→    suggestedAspectRatio: '16:9',\\n  2353→    suggestedModel: 'nano-banana-pro',\\n  2354→    isQuickAccess: false,\\n\\n<system-reminder>\\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\\n</system-reminder>\\n\"}]},\"uuid\":\"0a506780-2b4a-4f56-b611-1f61faafe972\",\"timestamp\":\"2026-01-18T00:54:26.545Z\",\"toolUseResult\":{\"type\":\"text\",\"file\":{\"filePath\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts\",\"content\":\"    recipeNote: 'Used by storybook feature to generate art style reference',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `Create a visual style guide as a 6-image grid (2 rows × 3 columns) in <<STYLE_NAME:text!>> style.\\n\\nCRITICAL: Separate each cell with a SOLID BLACK LINE (4-6 pixels wide).\\n\\n<<STYLE_DESCRIPTION:text>>\\n\\nTHE 6 TILES (2x3 grid):\\n1. CHARACTER CLOSE-UP: A child character headshot, warm studio lighting, 3/4 view\\n2. ACTION SCENE: A different character in dynamic pose, motion blur background\\n3. ENVIRONMENT DETAIL: Interior scene, afternoon light through windows\\n4. CHARACTER INTERACTION: Two diverse characters (different ethnicities/appearances) in conversation\\n5. DYNAMIC POSE: Character in athletic stance, dramatic angle\\n6. SET/LOCATION DESIGN: Exterior establishing shot with background characters of varied appearances\\n\\nDIVERSITY REQUIREMENTS:\\n- Use diverse characters with different ethnicities, skin tones, and appearances\\n- Show variety in hair colors, styles, and physical features\\n- Include both male and female characters across the tiles\\n- Make each character visually distinct and unique\\n\\nOutput a 16:9 image with exactly 6 tiles (2 rows x 3 columns) separated by black lines.\\n<<STYLE_NAME:text!>> style throughout all tiles.`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '16:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: false,\",\"numLines\":35,\"startLine\":2320,\"totalLines\":3177}},\"sourceToolAssistantUUID\":\"53e4f938-690d-4bae-b5fb-1d6ef3dd752e\"}\n{\"parentUuid\":null,\"logicalParentUuid\":\"0a506780-2b4a-4f56-b611-1f61faafe972\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"system\",\"subtype\":\"compact_boundary\",\"content\":\"Conversation compacted\",\"isMeta\":false,\"timestamp\":\"2026-01-18T00:57:29.960Z\",\"uuid\":\"0b71ca05-9d81-42bf-be1f-3d7632d03678\",\"level\":\"info\",\"compactMetadata\":{\"trigger\":\"auto\",\"preTokens\":156044}}\n{\"parentUuid\":\"0b71ca05-9d81-42bf-be1f-3d7632d03678\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":\"This session is being continued from a previous conversation that ran out of context. The summary below covers the earlier portion of the conversation.\\n\\nAnalysis:\\nLet me chronologically analyze this conversation to create a comprehensive summary.\\n\\n**Initial Context**: The conversation started after a previous session was summarized. The user was investigating why storybook character sheet generation from text descriptions wasn't matching the description (e.g., \\\"blonde spiky hair, red t-shirt\\\" was generating \\\"reddish-brown curly hair, green outfit\\\").\\n\\n**Phase 1: Investigation & Root Cause Discovery**\\n- User requested step-by-step understanding of the execution flow\\n- I attempted to trace through the code and test the actual execution\\n- Key discovery: The system uses CLIENT-SIDE recipe execution (`recipe-execution.service.ts`), not the server-side endpoint I was initially debugging\\n- Found that Stage 0 sends both prompt AND style guide reference image to nano-banana-pro\\n- nano-banana-pro prioritizes visual references over text descriptions\\n\\n**Phase 2: Prompt Template Fix Attempt**\\n- User identified the solution: \\\"The prompt has to refer to the style and one part. And refer to the character of the other image\\\"\\n- I updated the Stage 0 prompt template in `recipe.types.ts` (lines 2157-2186) to clearly separate:\\n  - CRITICAL - PHYSICAL APPEARANCE section (from description)\\n  - CRITICAL - ART STYLE ONLY section (from style guide)\\n  - Added explicit negation: \\\"DO NOT copy the physical appearance, hair, or clothing from the style guide characters\\\"\\n- User approved with \\\"ok try it\\\"\\n\\n**Phase 3: Testing and Discovery of Field Matching Bug**\\n- User attempted to test but encountered 402 error (insufficient credits)\\n- User added credits and said \\\"ok i paid go ahead\\\"\\n- During testing, user reported: \\\"it's not sending the description\\\" - the prompt had empty CHARACTER, ROLE, and DESCRIPTION fields\\n- User showed the actual generated prompt which confirmed fields were empty\\n\\n**Phase 4: Root Cause - Case-Sensitive Bug**\\n- I traced through `buildStagePrompt` function in `recipe.types.ts`\\n- Found bug at line 317: `if (id.includes(field.name.toLowerCase()) && val)`\\n- The problem: `id` is uppercase (\\\"CHARACTER_NAME\\\") but `field.name.toLowerCase()` is lowercase (\\\"character_name\\\")\\n- JavaScript's `includes()` is case-sensitive, so it never matched\\n- Fix: Changed to `if (id.toLowerCase().includes(field.name.toLowerCase()) && val)`\\n- Created unit test to verify the fix worked\\n- User said \\\"you test\\\" but browser automation failed\\n\\n**Phase 5: Successful Test**\\n- User tested manually and reported SUCCESS: character generated with blonde spiky hair correctly!\\n- Logs confirmed the fix worked - description was properly filled in the prompt\\n- User said: \\\"So now we can generate the characters. And their character sheets. But I think we gotta tweet the character sheets a little bit.\\\"\\n\\n**Phase 6: Character Sheet Template Update**\\n- User provided a detailed JSON prompt structure for \\\"Universal_Character_Sheet_Template_V3\\\"\\n- User showed new character sheet template image (CharacterSheet.jpg)\\n- User requested: \\\"This along with the image that I'm gonna give you. Is the the actual character sheet that we should be using.\\\"\\n- I converted the JSON prompt to recipe template format and updated Stage 1 prompt (lines 2191-2296)\\n- Added detailed panel-by-panel specifications including:\\n  - FULL BODY VIEWS (3 columns)\\n  - EXPRESSIONS & DETAILS (3×2 grid)\\n  - TALKING VIEWS (1×3 grid)\\n  - CLOSE-UP DETAILS (1×3 strip)\\n  - ACCESSORIES (3×3 grid)\\n  - COLOR PALETTE (swatches)\\n- Properly injected `CHARACTER_NAME` and `STYLE_NAME` fields\\n\\n**Phase 7: Style Guide Template (Most Recent)**\\n- User provided another JSON prompt for \\\"Visual_Style_Guide_Grid_Template_V1\\\"\\n- This is for the 6-tile style guide generation recipe (different from character sheet)\\n- User said: \\\"sometimes we're gonna have an image and sometimes we're gonna have text\\\"\\n- The prompt handles both image input and text description input for style reference\\n- I was about to update the \\\"Storybook Style Guide\\\" recipe when the summary was requested\\n\\nSummary:\\n## 1. Primary Request and Intent\\n\\nThe user's requests evolved through several phases:\\n\\n1. **Initial Request**: Investigate and fix why character sheets generated from text descriptions don't match the description (e.g., \\\"blonde spiky hair, red t-shirt\\\" was generating \\\"reddish-brown curly hair, green outfit\\\")\\n\\n2. **Testing Request**: User wanted me to trace through the actual execution flow step-by-step and test it, not just read code: \\\"I almost want you to test it, because I'm not. I'm not sold and I don't have clarity just yet.\\\"\\n\\n3. **Prompt Fix Request**: User identified the solution: \\\"The prompt has to refer to the style and one part. And refer to the character of the other image.\\\"\\n\\n4. **Bug Discovery**: After testing, user reported the fields weren't being populated: \\\"it's not sending the description\\\"\\n\\n5. **Template Update Request**: \\\"This along with the image that I'm gonna give you. Is the the actual character sheet that we should be using.\\\" User wanted to:\\n   - Update the character sheet Stage 1 prompt with detailed V3 template structure\\n   - Replace the character sheet template reference image\\n   - Ensure STYLE_DESCRIPTION is injected when needed\\n   - Ensure CHARACTER_NAME is injected properly\\n\\n6. **Style Guide Update Request (Most Recent)**: User provided a Visual Style Guide template that handles both image and text inputs for generating the 6-tile style reference grid\\n\\n## 2. Key Technical Concepts\\n\\n- **Next.js 15.5.7 with Turbopack** - Development framework\\n- **Client-Side Recipe Execution** - Recipes execute in browser via `recipe-execution.service.ts`, not server-side\\n- **Multi-Stage Recipe System** - 2-stage CHARACTER_SHEET_FROM_DESCRIPTION (Stage 0: generate character, Stage 1: generate sheet)\\n- **nano-banana-pro AI Model** - Image generation model that prioritizes visual references over text\\n- **Recipe Template System** - Field replacement with `<<FIELD_NAME:type>>` syntax\\n- **Field Value Matching** - Case-sensitive string comparison bug in `buildStagePrompt` function\\n- **Reference Image Handling** - Three reference types: layout template, character reference, style guide\\n- **Supabase Storage** - Backend for image/template storage\\n- **Zustand State Management** - useStorybookStore for project state\\n- **System Recipes** - Recipes defined in code (recipe.types.ts), editable but marked as system\\n\\n## 3. Files and Code Sections\\n\\n### `D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts`\\n\\n**Why Important**: Contains all system recipe definitions including CHARACTER_SHEET_FROM_DESCRIPTION and the critical `buildStagePrompt` function where the bug was found.\\n\\n**Changes Made**:\\n\\n1. **Bug Fix at line 317** (Case-sensitive field matching):\\n```typescript\\n// BEFORE (BUGGY):\\nif (id.includes(field.name.toLowerCase()) && val) {\\n\\n// AFTER (FIXED):\\nif (id.toLowerCase().includes(field.name.toLowerCase()) && val) {\\n```\\n\\n2. **Updated Stage 0 prompt** (lines 2157-2186) to separate physical appearance from art style:\\n```typescript\\ntemplate: `Generate a character based on this description:\\n\\nCHARACTER: @<<CHARACTER_NAME:name!>>\\nROLE: <<CHARACTER_ROLE:text!>>\\nDESCRIPTION: <<CHARACTER_DESCRIPTION:text!>>\\n\\nCRITICAL - PHYSICAL APPEARANCE:\\nThe character's physical appearance MUST match the DESCRIPTION above EXACTLY:\\n- Hair color, hair style, hair length\\n- Clothing colors, clothing style\\n- Age, build, body type\\n- Skin tone, eye color\\n- Any distinguishing features mentioned\\n\\nCRITICAL - ART STYLE ONLY:\\nThe attached style guide reference shows the ART STYLE to use:\\n- Rendering approach (cartoon style, line quality, edge treatment)\\n- Color saturation and palette approach\\n- Level of detail and stylization\\n- Lighting and shading technique\\n\\nDO NOT copy the physical appearance, hair, or clothing from the style guide characters.\\nONLY use the style guide for the art style/rendering approach.\\n```\\n\\n3. **Updated Stage 1 prompt** (lines 2191-2296) with detailed V3 character sheet template:\\n```typescript\\ntemplate: `Universal Character Sheet Template V3 - Precise Generation with Separated Sources\\n\\nCHARACTER: @<<CHARACTER_NAME:name!>>\\nSTYLE: <<STYLE_NAME:text!>>\\n\\nINPUT SOURCES:\\nThis generation uses THREE separate reference images:\\n1. LAYOUT REFERENCE (character sheet template): Use ONLY for structural layout - panel positions, grid lines, labels\\n2. CHARACTER REFERENCE (previous stage output): Source for character's physical features, clothing, identity\\n3. STYLE REFERENCE (style guide): Defines the art style/rendering approach for final output\\n\\nCRITICAL: Do NOT copy the sketch/placeholder art from the template. Only use it for structure.\\n\\n---\\n\\nFULL BODY VIEWS (Left Section - Large Grid):\\nLabel: \\\"FULL BODY VIEWS\\\"\\nPanels (3 columns):\\n1. Front View - Orthographic neutral standing pose, feet on baseline\\n2. Side Profile View (Left facing) - Orthographic side view\\n3. Back View - Orthographic back view\\n\\n---\\n\\nEXPRESSIONS & DETAILS (Upper Middle - 3×2 Grid):\\nLabel: \\\"EXPRESSIONS & DETAILS\\\"\\nStyle: Head and shoulders shot, consistent character model\\n\\nRow 1 (Talking States):\\n1. TALKING-NEUTRAL: mouth slightly open, neutral brows\\n2. TALKING-HAPPY: mouth open smiling, eyebrows raised\\n3. TALKING-ANGRY: mouth open yelling, eyebrows furrowed\\n\\nRow 2 (Emotions):\\n4. SAD: mouth closed down-turn, tearful eyes, sad brows\\n5. SURPRISED: mouth small 'O' shape, eyes wide, brows high\\n6. SMUG/CONFIDENT: slight smirk, confident gaze\\n\\n---\\n\\nTALKING VIEWS (Top Right - 1×3 Grid):\\n[... detailed specifications for all panels ...]\\n\\nACCESSORIES (Bottom Right - 3×3 Grid):\\nCRITICAL: Accessories must match the character reference and be rendered in <<STYLE_NAME:text!>> style.\\n\\nCOLOR PALETTE (Bottom Left Strip):\\nFill swatches with exact colors from character\\n```\\n\\n### `D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shared\\\\services\\\\recipe-execution.service.ts`\\n\\n**Why Important**: This is the CLIENT-SIDE recipe execution service that actually calls nano-banana-pro. Key discovery that the system doesn't use the server-side recipe endpoint.\\n\\n**Key Code** (lines 412-427):\\n```typescript\\n// Determine input images for this stage\\nlet inputImages: string[] | undefined\\nif (isFirstStage) {\\n  // First stage: use stage 0's refs\\n  inputImages = preparedStageRefs.length > 0 ? preparedStageRefs : undefined  // ← This is the style guide!\\n} else {\\n  // Subsequent stages: combine previous output(s) + this stage's refs\\n  const refs: string[] = []\\n  if (previousImageUrls && previousImageUrls.length > 0) {\\n    refs.push(...previousImageUrls)\\n  } else if (previousImageUrl) {\\n    refs.push(previousImageUrl)\\n  }\\n  refs.push(...preparedStageRefs)\\n  inputImages = refs.length > 0 ? refs : undefined\\n}\\n```\\n\\n**Image Generation Request** (lines 477-484):\\n```typescript\\nconst request: ImageGenerationRequest = {\\n  model,\\n  prompt: stagePrompt,           // Text description\\n  referenceImages: inputImages,   // Style guide reference\\n  modelSettings,\\n  recipeId: recipe.id,\\n  recipeName: recipe.name,\\n}\\n```\\n\\n### `D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\storybook\\\\hooks\\\\useStorybookGeneration.ts`\\n\\n**Why Important**: Shows how the storybook feature adds the style guide as a reference image for description-based generation.\\n\\n**Key Code** (lines 189-202):\\n```typescript\\n} else {\\n  // Description-based generation: use 2-stage recipe\\n  fieldValues = {\\n    'stage0_field0_character_name': character.tag || character.name,\\n    'stage0_field1_character_role': 'main character',\\n    'stage0_field2_character_description': character.description!,\\n  }\\n\\n  // Reference images: style guide is critical for description-based\\n  if (project?.style?.styleGuideUrl) {\\n    referenceImages.push(project.style.styleGuideUrl)  // ← Style guide added here\\n  }\\n\\n  recipeName = DEFAULT_RECIPE_NAMES.CHARACTER_SHEET_FROM_DESCRIPTION\\n}\\n```\\n\\n### `D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\storybook\\\\components\\\\wizard\\\\steps\\\\CharacterStep.tsx`\\n\\n**Why Important**: Shows how field values are built for the recipe execution.\\n\\n**Key Code** (lines 341-351):\\n```typescript\\n// Build field values\\nconst fieldValues: Record<string, string> = {\\n  CHARACTER_NAME: unifiedChar.tag.replace('@', '') || unifiedChar.name.replace(/\\\\s+/g, ''),\\n  STYLE_NAME: project?.style?.name || 'illustrated',\\n}\\n\\n// Add description fields for description-based recipe\\nif (!hasPhoto) {\\n  fieldValues.CHARACTER_ROLE = unifiedChar.role || 'character'\\n  fieldValues.CHARACTER_DESCRIPTION = characterDescription\\n}\\n```\\n\\n### `D:\\\\git\\\\directors-palette-v2\\\\public\\\\charactersheet-v3.jpg`\\n\\n**Why Important**: New character sheet template image copied to public folder for testing (temporary location until uploaded to Supabase).\\n\\n### Test Files Created and Deleted:\\n- `test-field-matching.js` - Unit test to verify case-sensitive bug fix (created and deleted)\\n- `test-character-generation.spec.ts` - Playwright test (created and deleted due to auth issues)\\n\\n## 4. Errors and Fixes\\n\\n### Error 1: Character Generation Not Following Text Description\\n\\n**Description**: Characters generated with reddish-brown curly hair and green outfit instead of blonde spiky hair and red t-shirt as specified in description.\\n\\n**Root Cause**: \\n1. nano-banana-pro receives both text description AND style guide reference image for Stage 0\\n2. The style guide contains example characters with specific visual features (reddish-brown curly hair, green outfits)\\n3. nano-banana-pro prioritizes concrete visual references over abstract text descriptions\\n4. Original prompt emphasized \\\"Follow the attached style guide reference EXACTLY\\\" which made the model copy visual characteristics\\n\\n**How Fixed**: Rewrote Stage 0 prompt template to clearly separate:\\n- CRITICAL - PHYSICAL APPEARANCE section (from description) with explicit list\\n- CRITICAL - ART STYLE ONLY section (from style guide) \\n- Added clear negation: \\\"DO NOT copy the physical appearance, hair, or clothing from the style guide characters\\\"\\n\\n**User Feedback**: User approved with \\\"ok try it\\\"\\n\\n### Error 2: Empty Field Values in Generated Prompts (CRITICAL BUG)\\n\\n**Description**: When generating characters, the prompt had empty CHARACTER, ROLE, and DESCRIPTION fields. User reported: \\\"it's not sending the description. This is. These are the exact text that is sent for the description... CHARACTER: @ ROLE: DESCRIPTION:\\\"\\n\\n**Root Cause**: Case-sensitive string comparison bug in `buildStagePrompt` function (recipe.types.ts line 317):\\n```typescript\\n// BUGGY CODE:\\nif (id.includes(field.name.toLowerCase()) && val) {\\n```\\n- Field values sent: `CHARACTER_NAME`, `CHARACTER_ROLE`, `CHARACTER_DESCRIPTION` (uppercase)\\n- Field names in recipe: `character_name`, `character_role`, `character_description` (lowercase)\\n- `id.includes(field.name.toLowerCase())` fails because `\\\"CHARACTER_NAME\\\".includes(\\\"character_name\\\")` is false (case-sensitive)\\n\\n**How Fixed**:\\n```typescript\\n// FIXED CODE:\\nif (id.toLowerCase().includes(field.name.toLowerCase()) && val) {\\n```\\nNow both sides are lowercase, so matching works correctly.\\n\\n**User Feedback**: After user tested manually, they confirmed success: \\\"Alright, looking at the API, it looks fucking good. I think it's gonna work.\\\" Then showed the successful character images with blonde spiky hair.\\n\\n**Verification**: Created and ran unit test that confirmed:\\n```\\nOld code (buggy): ❌ Failed\\nFixed code: ✅ Found\\n```\\n\\n### Error 3: Network Tracking Not Active\\n\\n**Description**: When trying to view API calls in browser Network tab, got message: \\\"Network tracking starts when this tool is first called\\\"\\n\\n**How Fixed**: Started network tracking, then regenerated character to capture requests. Discovered the actual API calls were to `/api/generation/image` directly, not `/api/recipes/[recipeId]/execute`.\\n\\n### Error 4: 402 Payment Required\\n\\n**Description**: Initial test attempts failed with HTTP 402 error - insufficient credits (had 3 points, needed 20 for nano-banana-pro)\\n\\n**How Fixed**: User added credits and said \\\"ok i paid go ahead\\\"\\n\\n### Error 5: Browser Extension Disconnected\\n\\n**Description**: Browser automation via mcp__claude-in-chrome tools repeatedly failed with \\\"Browser extension is not connected\\\"\\n\\n**How Fixed**: Switched to monitoring server logs and having user test manually instead of automated testing.\\n\\n### Error 6: Playwright Authentication Failed\\n\\n**Description**: Attempted to run Playwright test but got \\\"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded\\\" waiting for login form\\n\\n**How Fixed**: Abandoned Playwright approach, used simpler unit test and manual user testing instead.\\n\\n## 5. Problem Solving\\n\\n### Solved Problems:\\n\\n1. **Identified Root Cause of Character Mismatch**: \\n   - Discovered that nano-banana-pro receives both text description AND style guide reference image\\n   - Model prioritizes visual references over text\\n   - Fixed by rewriting prompt to clearly separate physical appearance (from text) vs art style (from reference)\\n\\n2. **Fixed Case-Sensitive Field Matching Bug**:\\n   - Traced through `buildStagePrompt` function\\n   - Found that uppercase field value keys weren't matching lowercase field names\\n   - Made string comparison case-insensitive by calling `.toLowerCase()` on both sides\\n   - Verified fix with unit test showing old code failed, new code succeeded\\n\\n3. **Updated Character Sheet Generation Prompt**:\\n   - Converted user's detailed JSON template structure to recipe template format\\n   - Added explicit panel-by-panel specifications\\n   - Properly injected `CHARACTER_NAME` and `STYLE_NAME` fields\\n   - Separated three input sources: layout template, character reference, style guide\\n\\n### Ongoing Work:\\n\\n1. **Character Sheet Template Upload**: Need to upload `charactersheet-v3.jpg` to Supabase storage at `templates/system/character-sheets/charactersheet-v3.jpg`\\n\\n2. **Style Guide Recipe Update**: Need to update the \\\"Storybook Style Guide\\\" recipe (line 2316+) with the Visual Style Guide Template V1 that handles both image and text inputs\\n\\n## 6. All User Messages\\n\\n1. \\\"OK. I'm still not. I'm still not clear. Take me to the At first, I wanna know what that first step is and how do they get there. I almost want you to test it, because I'm not. I'm not sold and I don't have clarity just yet.\\\"\\n\\n2. \\\"OK the I think the prompt need to be edited then. Because if we have the character with. Blonde spiky hair with red T-shirt, blue jeans. The prompt. The prompt has to refer to the style and one part. And refer to the character of the other image. And we're generating that character on our white background, right? Let me see the prompt and II think I can. I think the prompt just needs to be rewritten because we need the style guide. Matter of fact, if you let me see the style that but I think it's the text of this of the the text of it. If you can bring it up on a web page and then it just let me edit the prompt. 'cause it should be a recipe, right?\\\"\\n\\n3. \\\"ok try it\\\"\\n\\n4. \\\"No, I can't. I can't. I can't even see it from from the browser but. He definitely don't have spiky hair. And the buttons character sheet style guide like we should be able to see that um. I think something's broken. But we're almost there. But this is like a kid with a squirrel. It's 4 pages. No, it's a kid with curly hair and like a blue shirt and brown pants talking to a squirrel.\\\"\\n\\n5. \\\"404 This page could not be found.\\\"\\n\\n6. \\\"I can't just regenerate the fucking character, yo, I loaded it. How the fuck am I supposed to just? Regenerate the character again. How the fuck am I supposed to do that?\\\"\\n\\n7. \\\"can you test it out for me?\\\"\\n\\n8. \\\"can you test with paywrite\\\" [meant Playwright]\\n\\n9. \\\"OK I refreshed it but I need you to give me directions. And also do we have a shortfire way to create style sheets?\\\"\\n\\n10. \\\"Alright, looking at the API, it looks fucking good. I think it's gonna work. I've had our results in a second. [image URL] There it is. [image URL] And there it is. So now. So now we can generate the characters. And their character sheets. But I think we gotta tweet the character sheets a little bit. I don't feel like we got the style stuff down pack. I feel like now we got the character stuff really down pack. I feel like this is good, but I thought we gotta edit the prompt just a little bit. But I want you to tell me what you think. So I think that the the UM. I want to know where's the recipe for that. I should be able to find a recipe that we use just for that, right? And I should be able to switch out the image. That we use for the reference for the character sheet. 'cause that's, that's actually a older one. And I actually have a prompt. That's why I wanted to ask you about that. But then I also wanted to tell you that I have a prompt that I want you to take a look at. Tell you what, can you just confirm for me that that that that? Like those that that should be one recipe to go through that. Like to go from the visual description to having a character sheet. And also I wonder, have we tested where you add an image? Because if you add an image it's supposed to go through a little different workflow with a different prompt. Now I would give you the prompt, but let me. So you already have the character sheet, right? When you're trying to just create because we're creating the character first. And then I have the prompt for the character sheet and I have a different image. It's pretty good too. Like this one right now? 'cause there's a field for the name, of course, right? But it's a different she. ET And it's a different style, so you gotta take the style out. Considered a style like 'cause remember the style needs an actual like description as well.\\\"\\n\\n11. [Provided detailed JSON prompt for Universal_Character_Sheet_Template_V3]\\n\\n12. \\\"Here I rewrote it. I rewrote it but you gotta think about how we gonna adapt it because. This should be this along with the image that I'm gonna give you. Is the the actual character sheet that we should be using. So there's the, the. The character image, right? Like that is really good, right? But we gotta go even further. We gotta also 'cause I feel like the style stuff that we have doesn't use a guide right now. But take a look at it. Take a look at the. Remember the prompt we have and you might need to make some tweaks. You might need to, I don't know, but we gotta make sure that we have the style description when it's needed, inject it in there. We gotta have the name of the character injected in there. If you look at the character sheet, you'll see.\\\" [Provided CharacterSheet.jpg image]\\n\\n13. [Provided detailed JSON prompt for Visual_Style_Guide_Grid_Template_V1] \\\"Alright, here's something that the guys came up with and you're probably gonna need to edit it right 'cause you're gonna need to be able to. You're gonna need to be able to. Like sometimes we're gonna have. A image. And sometimes we're going to have text, right? Like, I don't. I don't remember. Yeah, yeah, yeah. I think sometimes we're gonna have an image and sometimes we're gonna have text.\\\"\\n\\n## 7. Pending Tasks\\n\\n1. **Upload Character Sheet Template**: Upload `charactersheet-v3.jpg` to Supabase storage at `templates/system/character-sheets/charactersheet-v3.jpg` and update the URL in `SYSTEM_TEMPLATE_URLS`\\n\\n2. **Update Style Guide Recipe**: Convert the Visual_Style_Guide_Grid_Template_V1 JSON structure to recipe template format and update the \\\"Storybook Style Guide\\\" recipe (starting at line 2316) to handle both image and text inputs\\n\\n3. **Test Photo-Based Character Sheet Generation**: Verify the 3-stage recipe works when user uploads a photo instead of using description\\n\\n4. **Test Updated Character Sheet Prompt**: Generate a character sheet with the new V3 prompt to verify it produces the detailed panel layout\\n\\n## 8. Current Work\\n\\nImmediately before the summary request, I was working on updating the **Style Guide generation recipe** with the user's new Visual_Style_Guide_Grid_Template_V1 prompt structure.\\n\\n**Context**: User provided a detailed JSON prompt for style guide generation that needs to handle both:\\n- Image input (style reference image)\\n- Text input (style text description)\\n- Both (hybrid approach)\\n\\n**Location**: The \\\"Storybook Style Guide\\\" recipe starts at line 2316 in `recipe.types.ts`\\n\\n**Current State**: I had just read the current prompt (lines 2320-2354) which is simpler:\\n```typescript\\ntemplate: `Create a visual style guide as a 6-image grid (2 rows × 3 columns) in <<STYLE_NAME:text!>> style.\\n\\nCRITICAL: Separate each cell with a SOLID BLACK LINE (4-6 pixels wide).\\n\\n<<STYLE_DESCRIPTION:text>>\\n\\nTHE 6 TILES (2x3 grid):\\n1. CHARACTER CLOSE-UP: A child character headshot, warm studio lighting, 3/4 view\\n2. ACTION SCENE: A different character in dynamic pose, motion blur background\\n3. ENVIRONMENT DETAIL: Interior scene, afternoon light through windows\\n4. CHARACTER INTERACTION: Two diverse characters (different ethnicities/appearances) in conversation\\n5. DYNAMIC POSE: Character in athletic stance, dramatic angle\\n6. SET/LOCATION DESIGN: Exterior establishing shot with background characters of varied appearances\\n```\\n\\n**What Needs to Be Done**: Convert the user's detailed JSON structure to recipe template format, incorporating:\\n- Three input sources (layout reference, character reference, style reference)\\n- Shared character cast definitions for diversity demonstration\\n- Detailed tile specifications with captions\\n- Global style rules extracted from source inputs\\n- Support for both image and text style inputs\\n\\n## 9. Optional Next Step\\n\\nUpdate the \\\"Storybook Style Guide\\\" recipe (lines 2316-2357) with the Visual_Style_Guide_Grid_Template_V1 structure to handle both image and text style inputs.\\n\\n**User's most recent explicit request (verbatim)**: \\\"Alright, here's something that the guys came up with and you're probably gonna need to edit it right 'cause you're gonna need to be able to. You're gonna need to be able to. Like sometimes we're gonna have. A image. And sometimes we're going to have text, right?\\\"\\n\\n**Where I left off**: I had just read the current style guide recipe prompt and was about to convert the user's JSON template to the recipe format when the summary was requested.\\n\\n**Specific next action**: Edit lines 2326-2347 in `recipe.types.ts` to replace the current simple style guide prompt with the detailed V1 template that includes:\\n- Input sources section handling both image and text\\n- Global style rules (color, rendering, lighting, camera language)\\n- Shared character cast for diversity demonstration\\n- Detailed 6-tile specifications with proper captions\\n- Instructions to extract style from provided inputs rather than just using STYLE_NAME\\n\\nIf you need specific details from before compaction (like exact code snippets, error messages, or content you generated), read the full transcript at: C:\\\\Users\\\\taskm\\\\.claude\\\\projects\\\\D--git-directors-palette-v2\\\\a5b75619-5d86-43b0-80aa-b51726526ecf.jsonl\\nPlease continue the conversation from where we left it off without asking the user any further questions. Continue with the last task that you were asked to work on.\"},\"isVisibleInTranscriptOnly\":true,\"isCompactSummary\":true,\"uuid\":\"5e98dc9b-1821-420c-9751-6b5958593457\",\"timestamp\":\"2026-01-18T00:57:29.960Z\"}\n{\"parentUuid\":\"5e98dc9b-1821-420c-9751-6b5958593457\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_017zt4BcwsJh2vaeV7cTHLng\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"The user is asking me to continue from where we left off. Looking at the summary, I was in the middle of updating the \\\"Storybook Style Guide\\\" recipe with the Visual_Style_Guide_Grid_Template_V1 structure.\\n\\nAccording to the summary:\\n- User provided a detailed JSON prompt for Visual_Style_Guide_Grid_Template_V1\\n- This needs to handle both image input and text input for style references\\n- I need to update lines 2316+ in `recipe.types.ts`\\n- I had just read the current prompt and was about to convert the user's JSON template to recipe format\\n\\nLooking at the system reminders, there's a todo list:\\n1. \\\"Updated Stage 1 prompt with new detailed template\\\" - completed\\n2. \\\"Upload new character sheet template image\\\" - in_progress\\n3. \\\"Test character sheet with new prompt\\\" - pending\\n\\nBut there's also mention of the Ralph loop being active with the task: \\\"Test hierarchical sidebar navigation UX/UI - verify sections collapse/expand, items are clickable, tooltips work, and overall user experience is smooth. Check mobile responsiveness.\\\"\\n\\nWait, that seems like a different task entirely from what the summary says I was working on. Let me re-read the summary more carefully.\\n\\nThe summary says:\\n- Phase 7 was about the Style Guide Template (Most Recent)\\n- User provided JSON prompt for \\\"Visual_Style_Guide_Grid_Template_V1\\\"\\n- User said: \\\"sometimes we're gonna have an image and sometimes we're gonna have text\\\"\\n- I was about to update the \\\"Storybook Style Guide\\\" recipe when the summary was requested\\n\\nSo the last explicit task was updating the style guide recipe. But there's also the character sheet template upload task pending.\\n\\nLooking at the todo list in the system reminder, it shows:\\n1. \\\"Updated Stage 1 prompt with new detailed template\\\" - completed\\n2. \\\"Upload new character sheet template image\\\" - in_progress\\n3. \\\"Test character sheet with new prompt\\\" - pending\\n\\nThis suggests I should continue with uploading the character sheet template image, which is currently marked as in_progress.\\n\\n\\nThe Ralph loop message about sidebar navigation testing seems disconnected from the immediate work. The user's most recent explicit request was about handling both image and text inputs in the style guide template, so I should focus on converting that JSON template to the recipe format for the style guide update.\",\"signature\":\"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\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":10,\"cache_creation_input_tokens\":17663,\"cache_read_input_tokens\":25251,\"cache_creation\":{\"ephemeral_5m_input_tokens\":17663,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":8,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwCByoE93kQo6pd51Uy\",\"type\":\"assistant\",\"uuid\":\"fe3328c2-56cf-43e6-9779-07ffc05c03f2\",\"timestamp\":\"2026-01-18T00:57:46.754Z\"}\n{\"parentUuid\":\"fe3328c2-56cf-43e6-9779-07ffc05c03f2\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_017zt4BcwsJh2vaeV7cTHLng\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"text\",\"text\":\"I'll continue from where we left off. Looking at the todo list, I need to complete uploading the new character sheet template image, then update the style guide recipe.\\n\\nLet me first upload the character sheet template to Supabase storage:\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":10,\"cache_creation_input_tokens\":17663,\"cache_read_input_tokens\":25251,\"cache_creation\":{\"ephemeral_5m_input_tokens\":17663,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":8,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwCByoE93kQo6pd51Uy\",\"type\":\"assistant\",\"uuid\":\"6f1ac3d5-b924-4be0-a857-6c5aba05e6ea\",\"timestamp\":\"2026-01-18T00:57:47.319Z\"}\n{\"parentUuid\":\"6f1ac3d5-b924-4be0-a857-6c5aba05e6ea\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_017zt4BcwsJh2vaeV7cTHLng\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_01G6bL5LDZEpyS2EdNFzkaUr\",\"name\":\"Read\",\"input\":{\"file_path\":\"D:\\\\git\\\\directors-palette-v2\\\\public\\\\charactersheet-v3.jpg\"}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":10,\"cache_creation_input_tokens\":17663,\"cache_read_input_tokens\":25251,\"cache_creation\":{\"ephemeral_5m_input_tokens\":17663,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":848,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwCByoE93kQo6pd51Uy\",\"type\":\"assistant\",\"uuid\":\"44fa9808-1d1c-4e0c-9789-a544f884adfd\",\"timestamp\":\"2026-01-18T00:57:47.989Z\"}\n{\"parentUuid\":\"44fa9808-1d1c-4e0c-9789-a544f884adfd\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"tool_use_id\":\"toolu_01G6bL5LDZEpyS2EdNFzkaUr\",\"type\":\"tool_result\",\"content\":[{\"type\":\"image\",\"source\":{\"type\":\"base64\",\"data\":\"/9j/4AAQSkZJRgABAQAAAQABAAD/4QBoRXhpZgAASUkqAAgAAAACADEBAgAHAAAAJgAAAGmHBAABAAAALgAAAAAAAABQaWNhc2EAAAIAAJAHAAQAAAAwMjIwA5ACABQAAABMAAAAAAAAADIwMjU6MTI6MjggMTg6MzI6MjEA/+EDO2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8APD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczpJcHRjNHhtcEV4dD0iaHR0cDovL2lwdGMub3JnL3N0ZC9JcHRjNHhtcEV4dC8yMDA4LTAyLTI5LyIgZXhpZjpEYXRlVGltZU9yaWdpbmFsPSIyMDI1LTEyLTI4VDE4OjMyOjIxKzAwOjAwIiBwaG90b3Nob3A6Q3JlZGl0PSJFZGl0ZWQgd2l0aCBHb29nbGUgQUkiIHBob3Rvc2hvcDpEYXRlQ3JlYXRlZD0iMjAyNS0xMi0yOFQxODozMjoyMSswMDowMCIgSXB0YzR4bXBFeHQ6RGlnaXRhbFNvdXJjZWZpbGVUeXBlPSJodHRwOi8vY3YuaXB0Yy5vcmcvbmV3c2NvZGVzL2RpZ2l0YWxzb3VyY2V0eXBlL2NvbXBvc2l0ZVdpdGhUcmFpbmVkQWxnb3JpdGhtaWNNZWRpYSIgSXB0YzR4bXBFeHQ6RGlnaXRhbFNvdXJjZVR5cGU9Imh0dHA6Ly9jdi5pcHRjLm9yZy9uZXdzY29kZXMvZGlnaXRhbHNvdXJjZXR5cGUvY29tcG9zaXRlV2l0aFRyYWluZWRBbGdvcml0aG1p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\",\"media_type\":\"image/jpeg\"}}]}]},\"uuid\":\"d2ee9f40-0f2e-4d83-8934-c773fcdbda97\",\"timestamp\":\"2026-01-18T00:57:49.528Z\",\"toolUseResult\":{\"type\":\"image\",\"file\":{\"base64\":\"/9j/4AAQSkZJRgABAQAAAQABAAD/4QBoRXhpZgAASUkqAAgAAAACADEBAgAHAAAAJgAAAGmHBAABAAAALgAAAAAAAABQaWNhc2EAAAIAAJAHAAQAAAAwMjIwA5ACABQAAABMAAAAAAAAADIwMjU6MTI6MjggMTg6MzI6MjEA/+EDO2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8APD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczpJcHRjNHhtcEV4dD0iaHR0cDovL2lwdGMub3JnL3N0ZC9JcHRjNHhtcEV4dC8yMDA4LTAyLTI5LyIgZXhpZjpEYXRlVGltZU9yaWdpbmFsPSIyMDI1LTEyLTI4VDE4OjMyOjIxKzAwOjAwIiBwaG90b3Nob3A6Q3JlZGl0PSJFZGl0ZWQgd2l0aCBHb29nbGUgQUkiIHBob3Rvc2hvcDpEYXRlQ3JlYXRlZD0iMjAyNS0xMi0yOFQxODozMjoyMSswMDowMCIgSXB0YzR4bXBFeHQ6RGlnaXRhbFNvdXJjZWZpbGVUeXBlPSJodHRwOi8vY3YuaXB0Yy5vcmcvbmV3c2NvZGVzL2RpZ2l0YWxzb3VyY2V0eXBlL2NvbXBvc2l0ZVdpdGhUcmFpbmVkQWxnb3JpdGhtaWNNZWRpYSIgSXB0YzR4bXBFeHQ6RGlnaXRhbFNvdXJjZVR5cGU9Imh0dHA6Ly9jdi5pcHRjLm9yZy9uZXdzY29kZXMvZGlnaXRhbHNvdXJjZXR5cGUvY29tcG9zaXRlV2l0aFRyYWluZWRBbGdvcml0aG1pY01lZGlhIi8+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+ICAgPD94cGFja2V0IGVuZD0idyI/Pv/bAIQAAwICCAgICAgICAgICAgICAcICAgICAgICAgICAgICAgICAgICAgICAgICAgICggICAgJCQkICA0NCggNCAgJCAEDBAQGBQYIBgYHCAcHBwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI/8AAEQgBsgQAAwEiAAIRAQMRAf/EAB4AAAICAwEBAQEAAAAAAAAAAAABBwgCBQYDCQQK/8QAaxAAAAUCAgMEDxILBQYDBgcBAAECAwQFEQYSBwgTFCF1lQkVGCIxUVRVVnaRlLXU1RYXIyQlJjU2QXGTsbKztNHS0zIzNFJTYXSBkpahGUVyc8FCRqOkxPBihcVjZWaiw+EnRGSDhqXCN//EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/EABoRAQEBAQEBAQAAAAAAAAAAAAARATEhQQL/2gAMAwEAAhEDEQA/APqiHYAYyFYIiDAALBWDIFxQrB2BcMUKwLBhAFYOwAXAFgGQLhiDEOwYAgQAAABEEZB3BcIAKwYLACwLADCBWAZABcICwLBhACwDIAAgLBZQ7guJArBhZg7igsCwAwgVgAAZhAAAAAWCIg7gIwBYACMBgCwABZhQxWTXrZzM4aL/AOLqEf8ADIUr/QWbFatd78Xhrtso3zjgCyhECwLhiBGQVhlYAQIgWDCIwgLAsAiDCBWDEZaxmnuLhmlPVeYzIfjsuMNKbik0p4zfdS0k0k640ixKURndZHbpiFsD8kRjz5MSOjDGLWkzHmGW5L1KQmKgpC0oQ866mSoksJzEtThEoiRdW/YILbEAQDof106TVmq2tTcqmLw+taaoxUksNPMIbS4a3T2D77Rtkpl5szJwzJTfQsts1R5M5JVTWqDFxC9SawiFOqKqZDbJENUh9aW3Fm+hG6yTsczTjJGa85uJOyDTZR0XBBYVV0YckQpVQqUelSKfWqLMmXKGmsQSityV7/ONrS87ZR2MkmtKEKVlSSjUpKT0mLuSXwItSqFMRQsQz3qY8bEpynw2JLabXsvnZJKShdjym4lF7H0jAXGCFZl8kCoa8Mv4pjJlSYUZ1mNIjJQ0iaw+86y0TTja3SaJSNu2szS8pCkGZpUsc7o65Im1UpcOK3hjFDKZjzLKJT9PQmK2Tykkl5x0njImiJRKNZX53fK4C3YYp/j/AJJbS4k2dEiUqtVhulmpNSmUyIh6LFNBmThGtTqL7M0rzKXs0c4uy1EhSk99jbXmoEKiQq9tn5cSouFHgMxGTdmSZB580dLKlIJDram1ocJ1baULIk5jUttKgsCGK1aDte+mVmolSHYNVotScaORGi1iIUVcxpJOKWcazizUpCG1rNK0oulKjQbmzcyb/RNrg0yqx63KyvQY1BlPxJz0zZJReOlSnHUG245dsiQds2VarkRJudgE6hilNI5KzQnHmlOU+txaW/IVFZrciElFNW4SlpJW0J1SybUaFf7JuIIjztt5HMkp6addalUGq0qlzkSL1bIbExsmVRGkuOk0lT6zdS4lBqUkzWhtaSSrMZkRGZBYMIRDpM1mIdKrFFor7ElyTXFOojOsk0bDRsmklbc1uocIjzFbZtue70BF+k3ki9Lg1CZTYdMrVcdpxkiovUeGmTGhuXWSmXXTdQe1bNtZL50m0qStO0NbbqW4LXgHC6FdNVPxBTmapTHVOxXjWks6FNuNuNqNDjTrat9C0KL9aVFZSVKSpKjibWB16KfQKiilcr6rVZpRTqElqlxkvnEhpM7vPGtxsugRqsXOkWXMtGdsl0WTCHNaPdIkSqwYtRgubaJMZS+w5Y0maFe4pKiJSFpO6VIURGlRGR9AQprIa8MLDVQh016m1WoSpzCpLCKayy+o0oWtCk7Nb7bilkTalmSEGRJ377x2CyALiBtXPXOo+JTlMwylxZsEjVKp1QYKPMaSSjRnyJccbWklJyqJDhqbNSCWls1pI4UwzyVuBNRtYmGsVSmsxo2sWnsyG8xdFOdqUpOYvdLNvALyAFPNInJKYdMJC5OHcTpZVFjTFP7gZS00mS0h0m3lrlJS280a9k6hRllcSZXMrGfaau2uvHxJKTHj0Wuwm1xVTWplQhoZhPNkpokpZfQ+6lxbhOktGW5KQlR33gFkAhAWijXVo9Yr1Sw9F3QmbTSdNTjiGyjydzupZkFHWh1ajNlxaSNLiG1GWYyIyQoy3OJNaGDGxNBwquPLXOnw1T25CEsbkbaSUs8rqlPpeJZ7jWVkMrK629+2c0BMgBEGrxrNQsSt1ByExKZKnT3Ka8UpLSTW62lKlLb2TzpG2ebeNRpV00kNDrG65NPw49Fhri1Cp1KYlTrFOpjBSJOxRmI33EmtGRvMk0lbOtRkoyQaUrUmCfSIIxCGrhrb07EipTDDE2n1CDkOZTakxueWylzfbcyZlJU2re3yMlJunMhG0bzTgECsEZDIBiDEiDIAYsCMgrDKwAgxIGUMBhArAsGHYSBGQRBgsEARAsCwZhAgAALA7BWDFTdLPJLKDRZ82BNi1klwXiYdfahNLirWptCy2T26U3LnyTz6UHmI94ysZoLY2DsIQ0G63VNr6JzkaPUoiKe02++uoxDiJNpwnTzNqNxZLJKWVGroZSNPTGz1cNaGl4qiyJdLU/s40k4jiZLRMuZ9m26lZIJa/QlpcIkqMyMzSsspW36JcsCwifQdrJwcQOVVuG1KbVSKg7S5O6UNIJbzRqSbjBtPPZmVGhWU17NfTQm49HNYqCWIk4ZySd3qpx1UnMje5NgTht5NptdrtjMjPLscli/DI7EcEqWAK4N699IWdfWxHqUmLhxpxyfPZYYOGt1pWRUWI65JbU/IuSjIjQho0oNW0saDXliHX0oMROH1Sd2MoxIy1IgrWy3kabeUyhJzFJeMmbG8jMadqlJXPNYrhBY2wBGOPtYaBTavSKLITIOXWjfKIpttCmE7nSSl7danEqRcjLLkbcufRsIo02ckZoNEmvwFM1OpSIaTXP5VRW5DUAit+VOuyI6EGV9/Ka8hkZKyHYjotKCw4/RZpZgVqCxUqa+mREkJM23CI0mRpUaVocQoiU242ojSpCiIyMveMcloP1n6dX5FViQ0yW5FGlqgzWZLbba0uJW63nQSHXczZuMupJSshmaD53eEEugsKw1bkh1CZj12UbVSXHw9Oj02Y63GaND0iRIdjkUNSpKSeS0tlSnDVszJCmzIl7RJH6aZ+SAUiiVBimPwqxLkvwmakgqfDakkTDxuEnMRym3MydmZqJLakkRlzx33qLNWBYVapPJEqM4mEtyDW4qZ1VaojJy4LbBpkvNocbccSqTmKOrPkzpJas6V85lTmEl807TPNGWFyN46nuM5xmSEbnJGUnNkbm12m3No9qSNkZZN/MVyI4JasCwr0nXtw+UasTHXn2ItEmnS5TzrFkuzSUtOwiJQtbj67oM95Ced57oEoy/BoT1/KJW6gilpZqdNmvoN6IzVohRd3NJSpZriqS68lZZEqWRLNtSkpVlJWVVgspYKwYRBAEQLBgCBECwdgAFYeZjMzGAmj0IMBAFFVNfTXdbwhDaSw0iTVZxOFDZczbBtLeUlyZJpNKjbQa0pS0laFvKMyJSCQtaaLYUx/pirMcqrBVPVEfI3mVIbpMVtTZmeU48d8m3XWrFziiQ5tE2MlLvmPkeSeuKn4/KGs+cS3Saej3Mrb6UPKIv/ANyU4r94+3MCKltCW0JJKG0pbQkt4koQRJSki9wiIiIiFHzk1BuSK1Go1IsOYkSRVBSnWYss2SjuqkxyUbsOYwhCW0P2bcyuElos6NmpBrUkz4vX31t8S0fGDdNp9UdjQVtU1e50MxVpu+eV3n3GFuc+ZH/t7196wtXivkdVFlYj805y6qxP3bHqGyjvxG4m2jE0RFkOEt7I7svRS2+ZZrc55OYrfPLksFUJnG6HsubYwqY6ab2zbNbi8t7Ha5Fa9jsA+2jCjsV+kPk/pr1yMSRtIvKaPVXW6Xy8pMPchMxTTueQcIn29opg3rObVy57TMWY7GVit05cm7iWL1AkdL8ua+5FKl6X01/H8CroYVGTOr9HcJhSycU2SJENmxrJKSO+zzbxFa9t+1wH9CZrIfHDXv5IhXo2JZ0KhVRcSDT8kBSWm4zqXJTN91OGp5hayUh5So5lmt6BvdG5/UTWC0qt0SiVKquGkihxXXWyUokkt8yyRmiMzLnnZCm2yK9zNREW+ZD4+6k+qevFcDFlTkpJ+TuN5mA45ayqu8e7VPGZJM0rLI22akl+BLcskzsA+uOqrpqTiGgU2qkZbSQwSZKS/wBiWwZsyU2sne2yFKTvERoUky3jK9XuSr6xVaw+xR10eeuEqS9LQ8aG2HNolttg0Ee3adIspqP8Ei6O/feEV8ha0zKSurYefWZWy1SG2rMSkKIyYnI547EV9zLJBEkyVtj57MeXZcm8R6Xw8fubef8ANxvqARRg3H+mSfEYnQ3Zz8WS2l5h5LVFs42r8FRJW2S9/pGkj/UJO1KeSXVd2sNYexUlKnZD24mZimUQ5LE3MpKY8xlCW2lE85lYQbbTTiHTTmJ0nDU33OqtyRXCFLw3R6fNqTjcyJBaYfaTAnuZXUXuknERjaV76Vmn9YprRHHca6SEVCkxX0RXarBnLUtsy3PDgJj7R+QpsnEMreTFUaCWqyn3UIzXUQD7tXHxH1ouSR4k80NURR6q7Ep0aWuLFZSzEWlSYp7Fb13WXVKJ91C3SzH+AtJGkrGQ+neu9pk5RYZq01LmykKjrhw1FbMUuWRssqQSt5SmjUb1rKIktKMyMiUPlFq5ao7lTwPimsE0S5KTj8rbtmpzJTFlJqBtGWZRqfaXsUpSkjNbNjuS94Ptfoq0hM1amwalHMjanRWZSLe5tEEakHffI0KzIMj3yNJkZEZGQr/r667DeEYLaWW0SKtNJZQmFmeybQjeXLkZTJRtNqNKUtJUhTqzsSkEla0wpyGfTTuqjTKK4otpSpG3jl0LxJyluGRb53NEon1KtaxOo3uiZ1R5Km6qbjhMU1ZbRabBSo98kE6ta7kW9vEp9Srb3RMQdZhPSDpirMYqrBXOVDeu60bbdJioU2ZnY2I7xNvOtfmKS25nTY8y75jnDUD5I1UKlUk4dxIkinrNxmNLNnc7q5DBGbkOZHQhKG37Ics4SWSzI2akZ1JNX0YoNKQwy0y2lKG2m0NNoSVkpQ2kkISRe4SUkRF7wrnizkelAmV7zRrOc3Ud2RaiWxkIQwmTENlTayb2KuiplKlkajzKNR3K+8FPcdu6Zd3zdx7u3JuuTuWyaJl3Ntl7C20LPbZZbZ+et0d8QHo81yNJNWnFTadVZMqcZOmUdMelIV6ARqd552OhHOEk78/v23rj7sqWPhvyNBz/APEFv/zj5l8xRc/Ule0knWjLFe6eVe437bVNLJG6czWx34ZbW+XaW/2en7gpsnXD0hVGuy6TSKrJkP7snNxoqGKaStlGceUZEt5hJHs2WzPnl3Mk+6Y+4GYfz1aJNPKMNYzk1hyOqUiNOqyDZQsm1K2+6WCMlKSoudNzMZW3yIBZrdmm3pVD4Oh/ZEv64mnvFVBwXhyUuY9Crj0pEepuG3EW4pW5pS1IWnZuRyupDartJLoFY+iQ08Xk20NSkpKgyeeUSbnMa3rmRfovqHQcmjfJeHqOq1s1WSq3SvBlH/qArpo20o6YKvCaqNNkTZUJ43CafQ3RUks2nFsuWQ42hznXG1o30Fc071ysYkHVd5JViCJW2qDi5s3DdltwVvux0RJsF95RIaN5tltDTzClrb39mhRNr2hOOJIkq6fUM1/sLUPC1OpdTnuMTIy5putJhTHiST06S+3ZxlhbaszbqT3lHYzMjsZCs2l7HR4+x5EdosR8mlOwIyVmgkvbmiOkp+oSCTmJhCCWqxqUoybbaI7LWTZB90xHmsJil+FQ6vLjObGRGpsyQw6SULNt1qO4ttZJWlSFZVER2UlST90jEgNt2IivexEX694rDnNI2A2qnAm055bjbU6M/DcWyaSdQh9tTSlNmtDiCWklGacyFpuRXSZXIBWrSppRq1EjVBkqk9MVIwnWa9AlSGIhSYE6lNRCUj0GO0xIjPHOaeQl9hS2nWXCNbzb7bcfYQsWVBdPlrp9QxNNdJynJkHNobcOVEiOur3VJpTUqlU9ma/srmtv05sUtoNLG0UhD/enqqRnY09mdUKlUXp9MfoZzZSoaJESnSEkl1iE3FhRobJrUSHVuqiuOvLbZ2q3UsMob2SdBUhTK2pGIa3JUSmnIryypDD0J5kzNDrBw6TGQ6aiM0LamIlMOIuRtHc7hHFHxnPlJgwYdccdanVmQwc5cNMesRIEanKnOwJUeTFZbjz90p2JOPQUOFT3G1ZTeUUkYaQ8Q1GlqhRKliB2NHdqVQSzUI7ERyc/BapiZTEeW2uA+zulmRukrxo+Z2PHYWozUt5I7lOq+zs1LVUamdTXPRVjrJHCROKW3DRTkqJlEFNN2XK9CYhsKgKbWi6lJU6e1HRYR0ERojrMjdEuRKRKkT5Ep9TJuzpMmI3BW5JS0w0ykkRmWG22orUdpCWUESLZrwQdhPTnWFopan31GmTRMYT2nVR2mVzmadKpZUOpPMbMjjvvQZBvuR0paRnfVmZbshpraaI8XT5z8WNHrdTqDEqlboqEp2nxGOVsrKwqOuJMTTo0Zx6QpTzbsJbUs0tpQ4W5CT6ZkmPqyQULQpD0tKGY9biMM52jajsV5yK9LaazMmsm2HIpHFQazSwlxxFlNpZQ1JtCopR2GWEqUpLDTbKVLMjWaW0EgjUZEksxkm52Iiv0CLoCireHMY1Zijv1Byry5L3mkVREofZgbNuMzi86TmSTMNpRvOQUbJalKUWZSlJJCspl+usaRKouDWMSNVJxtik1CoMtUjc8U4jsKiynoU1uQ4bapapM1TD77UhuQ0mOrchbFaW5CJUtOaAYpwFU7bSSZVV1V01ktond0qrR1w2iPZGjc+6jNrKaM+5+d2mf0UfhrurXHkPvqOfUm4EySmbNo7bscqfKkJNs1KWpUVc9pp9TTa340aaxGkKJedpRPySeCDse6ytUhNYyQ46SEst1ZeH5uVm8aXT6RFlLpzja2sq3crp1CMa90G6hE5K8hR2krkXWJ0oT48StLgSFMKo+GplTccJpCyVPkMvHAIlOIU2aoyYkh9xmyvx0Y1pyrRm6fGmqnTKhCrECWqS4zWahy1eUTiEuxZW54sZJwnEtFskpRESZEsnTM3HiUakOZC3la0HsSYNagyHnjTXCktyXWsiHW2X4qISEMmtLqSNiM2hKVLStJuZlZbKyEEFaSdINWobFQhrq0qet7DU6uQpr0aEmbCkQHYcd9BJjRmo8ht3dzLrCXIqltuNvJNTyXGkNdhQJb02mTH4tcxG2uMhb20nUpinu5kR1LJtDdQokfasmdlG4htfPFbadFI37uqyw6xPbmVKqT358DlUc6SqCmTFhXzbGGiLBjQ2jNz0Vbiorjjy0t7RTiWmko6zCmix9hmSxJrFSqbclnYEU1FMQcdJpWhRsnT6bBupaVlm2+2IsiMpJ5/MEM17EtWj4dp7catOuVyv7iKBMqDMJSIrqoBVCYSW2IsdjYlGiS1kchKjS68XPqIm2h5Y21i5LzVPmwXlMR5uDcSVvZ7No1Imwm6SqOpWdK1JciLkSG1NXymo1EtKzSnLL3M7U5a6YqSg5qaTAVTYjUtLLzOVxMZC5K2jaJBy1Iitt7VJJJKFOklKScUNWjVXppK51UhDJRq5CRGQplDDUevuRnZrbSUsEpCUORiUwRLs3tXSMllsybgwx9WaqrD0Z+Ap9c11qmKkOxWo7stEd5UflhIisv2juSUMKecbQpC05i3mnTJLavXVuxSuUzOPlk5UmGphtx1S46odVipNlpbsOqRVxYbjTzTylrZU5HbW5EcjKPaXJ53Gn6u7iIm5Ha/XH0NpjlDcUqlsPQXIppNl5hyFSopuqIkk241NKXHebNSXGnCWsj6bRfooRTFTHlSpM+ZUHW35k6YUZLzxsMNxmEZIceJGbbZZbSlKGmEXM1rUa1uLUpo70Vq13y9Dw322Ub5xwWUFadd/8Xhvtro3zqxRZUhkMUjIhAAAAUACACwBEAzDCsAp3yWRz1lTy/wD1VO+mNDY6s0jHpnSeWhYZ5SbkaNw4e7+WJs7j9LZdoe59ptNjtd7Ll2mX/ZEt6zer61iakP0h+Q5FafcYdU8yhK1lsHUukRJXZPPGmxn7hCIME6jVRhOw1JxniB1iGuOpMRw29g41HNBpjrIlX2SkoJtRe6kzAUf5KBNhsYmllTXJpJkwYTeLkQiI2Sb3TGVG2ijI20SHG0R/xmVBrOOVzN59Kpx5Jc9CThDCa6OhC4CarTVU5DZklK2Cp8o2EEfuGoiSRme+SjO+/cWO0Yai9OgsYgbmSJFVexIaiqMqWSUum2aXMrbeQ8qNm4646lSSJRK2ZdBlvLxauRvtLoUGgO1ua7EptVTV4bi48fatWQ6lUXeMiUwpx5bxGZZ0qUoiM0mlKAj7EmDsW4xq2HeWOHEYdp1FntVV2U7PYmvPGyppaWWktk0strs7ZdmaU3NSllkSlcR4R021ig4q0gzqXQ+XDTcht2erdaY5QmWTkrQ6beRbkglltDNLSbpJs7/hD6yx2cpEV72Ii7hWEK6JdVeNSqriCqFIckqxC42uRHdbbJppLe39DRa5rSsn1JVn6JF0N8wHzvqeEFJ0V4hrLj7DruIaxHq62o2Y2oprqkZs4xmrf2rbhOZy6CbpTdWXMq4GrDPx6ZUddTLDZUE4TKnDibt5Ybn3CZxT9FM2dptNgb3+zl2mX3BjSuRvwmKDV8ONVOYmm1Wc1PQg221LgraeadyMqUZm4laY7DSjduoybzXuox+rR1qJTafJgvFjCvyGIS2VJhOrTud1pixJjrSSrbI0JJFrHve8AgrCuCqzQFViqYHl0jFOG5kt6XPpRvNLeZcNBLfZZkIXkcUhldsqnDWbOzLc7yzzK/ZiOm0LF+G8NrocunYVqbVQcm0inq2CW+WcdSd1RW2kpb21n1MPJkIjqNRG2amfRTSUoVDkbTTD0/lHiCrUKDUzUcymwzbVF59JoWTGbKplKkqURFzxoSeVKiSlCE9DiXkcVCeolOozKpURdKdVJg1RlxPLBqU4tLjzynTSSVbdxKFrQlLaUG21s9lsm8sEf6NNNdRbxRSqPjeg04qwtt/lJXoZIdQvI2tTpNkedxjbJJSVKSbJksyJTCEuEpNR6u+6jB2kbZGZF5rmkPGR2PZKnpSZHb3FLyJMvdIzI94zH0A0Zai6YtZjV2q1uqV6fBbW1BOaptDMbaJUhSybbua1klaiK6iTmVmNK1JbNHQaLtSun0+JiGC+87Pi4jlSJcxp1KWtnuglkttpbR5iy57ocuS0qSkyMjK4ojbWBocE9Fq0Nk2qG3hymuRd4lFmQ1FVGcIzuec3Mp5j541KMzO5mKlaTdFZYhf0Z0ua44hVQww62p7ManErRDW7GdUarmoyW22pZKvmLMXu3FpWeRdMGy1TZGJa9JoLL6H00dx5smlE2rMhpbqEp9DI7bzbTduijZKJK0zhjLVTiS69Q66Uh1hVCZcjxobSG9gttbbjdlGfPpJKF2SSd4spAPnphnTW/UsVYBp1SS4it4emz6PVUrSr0RbWybjyUuGlKXCkNtGozLfzpUq2Vbalza/giv0Ko12sYGlUrENMnVByTVqMtxC5EWbcnJLbLyHiJTtnHF5DcQtDam0bnkGlClT7j3Ucp03FMHFaX3o0yIbKnmGm2jZmOMEpLbryjInCcNpSWVKI1XbaaIiTlM1cniXkf5om1CVQ8Q1egNVV5cmfDhrS5GW+4ajddZJZpWyazUo7EoyTfKk0IS2hAddqHaVKLV6EmZRqZHpCFSXETYEZttDbM5KGtpvtNtIdzsmytLmRKjbNBGlJpNJUJ1wdJMuXinEFTw4mexFpEBrD+Kp8U4y3tyuyzaknDjukl1KmzZU0p9twspxjXnjII3XPpXq2at0DC9MRTIG0W2Ti5DrzxoN6Q+5YlOum2hCLkhKGkkSSyttoK6jIzOH8ecj6ZeqtQqtKrVSoa6ulaapHhEyuPLNw1KdWaHCsSnVKUpWYl8+twyy7RZKg2OpTp1pM1cygUGOZ0nD0SmoYqO3JwpZzW3XVEbWySptxC0OE4pTizU6TpGlvKWaN9ZBr/wDFDBFvdhTv6NT7iY9U7U3ZwgcxuBUZcmFMNtxUaW1HNSJCEknbIkMoaUZKTdJtqQabEm1jJSl+esdqZFiCqU+rt1idSpdNjrjx3ISGs5bRThrWTi99JmlxTdiK2Uz6YohPHDSkaW4O5EpLaYWeOpZLEdvT+Q3Omo1IgFv79sgg3kc8nHS6AtOHDw6UBuc+R8tCm7p2yktqWRbnI29nY026Cr3v7gvhq8amdPw+9NmlJm1Oq1BOSVVKi6l6UbVklsWjJKSbauhJmR51qNKCNZpbbQiGcC8jFdpbKo1OxhX4UdThumzHNltGdRERqMk2LMZJIjOxXsAlDX5eWWCa5tLbQ4KCcy3y5zcaJeW+/lzXtf3LDS4I0vooWjWn1ZZleHhqCtlKjsS5K4zTMVu+VdtpIW0i+VVr3sZEYk3GurmU/DJ4bk1CU6S4bMNyou2dlu7I0HtnM6jJbrmTnjUozMzM7mON0ralzVUw1TsMHUpUaHAbhtLeaaZU7LRCa2bSXSXzqCzkl4yRv50J3yK5GHzD0MabqJSCwRUo89K6zDqM9vETWwltqXBqklZbV+Y402w+cSOZqyk47mcdI7kTRmLk6XZJefFhY0ndLlAc3y91Oyr6iMunfKQstpf1SaVV6I5RDYajNKZYZZkMsNbdg4xoU04kyJJmZG2RKI1ESkmojuRmR8rh/UnZZrVArjtSlyJVBpLVFQTjbVpbbTUxkn31manCdNExRqNJnmU2RmZ5lXCMeRTI9K4p7aJpdxtr6xs9aHRK9MxNEquGa1TY+K6dAU05SZikObrg5zWk1tktTkdJE+4Rq2NnNo36KxkzH4UHkbT0NyWqn4trsBEyU7NeZiky22p51RmajIlb5kVk3PfskukO2x3qGszV02c3WapCrtOiNwTrUdxBSZrTaTK81tRGl1Z3O6iUkzvZWciSSQ5nVB06csK5UoNcoMWkYuiRW92SGCbXu6J6DvpeQpw8iFG0omyffbymg0uGaVpTc0jFftXbU9j0KbNqr9Qm1irz0JZfnzjQSiZTlPZtIQVkEZoRmM1KuSEEWUiMjsEIAAABgAAAKEQdgWAAAWCMgwAEGAAEC4LAAIwBgAIMAAAYpnyWn2lzd7ozKf8ASUi5giLWi1d2sUUh2kvSXIjbrrDxvNIS4sjYXnSWVZkRkoyse/0AEOckP0z8qcFyMiiRIqbLFKY6JHaU36ZUWWx3RFJ4yMugo09HoCtGonpIolLxmmlUSoFLpVaokNJK2LzRlV6exlWSkOtNKbceRHlPuGttJOLkIsf4CDu/pf1SotbnUCVMkvKj0Fwn24BJTueW+WyNLknfurIbLdkWNOXaJO6XVkZpl1Q4FVnUaotOHTZlFlbrYdiMtETpZm1KYeRZJKbUbaSMy54iNZEZZjAQnyNZu07HafzcVTC/40gv9BA2vtWKy1jp9FBjuPz5OEVxfQVZXmYy1y1SZDKiUgyebabVs8qs+dSchKVlI7JxeR7yY0ypy6diysU3lrPkVKQxEbYQ3tX3XHbb5matmThoJR75kRXEi4P1TSjV2HX3qnJmzIlFRQ1bdtF5JJNRqlvOEebbOKUZqIiygK16P6xR3dENQTSEkgmqTJbqDZqzvJqmRCpanlGRGZuLUTje8REwpkkklKUpKD9KGi1qutaK6U84ppE2gyGNoi2ZC0xmVNKse8ZE6hGYvdTct69xdhnUAitHiVuJUZUaFiZtxMmATba2Ir7i86pEbMZKSojU4RIPncjhJ3yaaJO7puo/Fbfwo/u6QasKR1RoxbNsky0qSlBqf6JoOyegg7XP9wCkeBNNb9TxVgKn1ElprWH5NWo1USu91uMNJQxJJZpIllIbbMzVa5rQs7WUhSpZ1F6/Ji0TF86BSjrVWPE0pD0DdDURySS3GUqSqS824RIaQ8+/lUhWZROEVjWZlYvFWo/TpOK4eLUPux5cYkm9HbQ2bMt1DTjKXnFGRLS5slpQoyMyUTLe8XPGrm8Y6hBctJ9VoVeqWHnqqonKizCJpbEh261G6lKiSptxS3HFmeZVluOGnJnURhhyNnHNMn0WYql0Y6EzHq0mO9B3e9UEFI2MZ1xxt15KDbQonUp2KEJbSpCjSXPXOHdJeMWsGY/q09eZqFX8NS6iREVm3anT0LeNCDtlJ40xVnz28pcwuipxJHbXVc1YoGE6adNgLfdS4+uW+/IUlTj0haUNmvKhKW20k2022lCEkRJQRma1KWtXK64mphCxgxCbkyHYjsJ5xxqQy2244bbqCS6zZy1kLUlpZmR9FtO8fuBRfFejxcHQ85JfIt11ioRqxIXvXXume3sFqMt664zbTliIrZzK28O30tya4nSJSzw6inrqJ4RjElNTN0ouxvIN0z2KkLz2y5d+3TF1NPWrHFr1BLD63nIcVO5EoWwlCloRDUg20ES+dsZIIjM98R5pY1EeWNXj1mNXqjSZkams0pK4SGiUbLW0uo1qO5G5tDzJ6G8QCJNd7C1fk4Ecm1tuE1WqRU41UbOlKc3M2ht4o6HU7Za1GpDUhxSiUZlmSRkneSIBp+OWF4kf0jk8s6c3iOFR3FI3kNxnaDsHnHP9o0tuLitkRJPezn7ly+heG9Vx0qPVqPUq5Uaw3VWXWDkTdmb8VDrBsnsLXRzpmTqSUmxOFc7jj43I+6enCDmEd2Pmy5IKWc/ZNboJ4paJJKJv8X+Ago++Z84Zn0QFWNEWrmxW9H7BTamxSqlWcRP4ihyJKkJbdqOZyI00lCnEm4h9glqSlJqUhbhKyrymhUpYV00VCLiGgUfHdCgKqOZ5FDxFDcQttT5JQlRkyREtonvQ23D9Byum0e5iQsltWAxNqZUuZhqDhqQp42ac1HKJNaNLUtiVHQaUzWjIlJQ6o1LUpNjSZLUXSMuNwTqH5KrAq1Yr1Urr1KzHT2ppMoaYUsrZ1ZCNTiislRc8m60JNWbKREFsLhkERBiegAAAoYQLhGIEoYGM1EMDE0epBjFIYo+LHJc8Dv07FkWsJT6HPjxn2V71jk0422nW97f5xG5V3/8Aa/qH1k0badqVVaexU4s6MqM80l1SjeQnYna623iWaVNLaVdK0uEk0mk7kPHT7q+UzEtPXTqo0bjJqJ1pxB5H4z6SMkvsOWPI4kjUk7kpC0KUlSVJUZD54VrkHa9src2IkkwaucJ+mmp5Keko0S0ocUX5xJbI/wA1Io6SickvrVTxm3QaMzSZVLeqhRGZKmZSn3ITJ3lyEOomE0foLb7rTmwyGkkGaTK94A5KRY8esEoiUk41JukyIyNO0VcjI94yMt4yPeMfRbVG1BKThHaPsLdnVJ5vYuz5CUoNLR5TUzGYQZpYaWtJLVdTrqjsRuGkiSUf60vI1vNLXm62VY3EaGobW5jg7oucVRnmJ3dbNicIyK2zPKZGd1XsUotKzoUoqiI+VFL3yL+74n3I+MmnmiMx9KqGWGm2GkYioJIaZbS22gj5XKMktoJKUkajMzsRXMzP3TH3NYbMiIukVu4KRaRuRncsMWeajl0bR8sqfUihbgzlaDub0E392IMzd3OfomxLJnLnF5Oeojvk0mmQ2KdTaG2Zkqc8qfJse9ueIZJZQouie0fczl7l453/ANkVt1a4uk2j0ttFApj6adOUVUbXuaG5t91Ms5HyW4vPlWy21lI7WTbeK4ujrMcjNXievqrEyumhg9ysogJp99lDjknPGTJTNbUZvLN9w3TbI0KfOyTJCSF4osRKEJQksqUJJCSL3EpKySL3iIiAfz56OMR1XB+MYFQrUV2DI3TuuYytJN5odQU6zJcShrMlTZJW8pDad7O0Rc6aStcnk2sjNFw8pJ5kqenKJRdAyNuNlMj6Rlvl+oWR12uR+s4xegSeWJ056G28wpRRClbdpxSFtpP0eOaDaUTlt9ZGTh7ybXPSaeuR6SK/RKDSZNcIn6K2bSpxwFOKmJ2aWUGtpU0lNrJCEZ1m88biiMzsagEB6MuRp0Wr4KjVCM2+muy6Vuph5Up02TmERrQhTO+gm3TTsjslRpJdyIzIhznIbdPbUWdOw5JQ205OPdkNZtpbdVIjoMpMV1Z2cWexSTrSFEez2MjfLOSR9LtAmijlJRqfSTf3UcCMiNujZ7Ha5b88TWdzIW/vJ2i7dMxUXG3IsVuYmcxHTK6VMUqe3U2oyacp42nyNC3y2pTmScRIeJ1akm0ScjykGSyIzVBD3JrtMGZ6k0FCis0lVYlFY95a9pFiER3y3JBSzUkyM7LbMjK55o90SM6VKRS2qXTqPIRT0pdNDa4MVw1JkrW67nUtedWc3FfhdArFvEREVttJnIyHKxiY8RT67tEnNiSTgJp9kFHiG1lhoeVNXlSpLVjcJnfUtajQZqO96kpsKPgrqN4rlYTxtDjVJlyGt5fKaey8my20ziaUwayI7ERP7ldNVzSSN/oCROTD4EkQ8TxamhCkszYMdTL6bW3VDccQ630yW2jc7m+VjJwrGeVZJuXrbcjJYxPWeXLNVVS3lsMNPpbhE+br0fnWpO0KVHUlxLRNtdBR5WW7GWXfnvSnqzw6/RGaPXVbscbZZI57KCjPpmNM7M50ZOZ4mFrUa1bJSnm8qzQonE3Iw2Gh/WAplXpcapR5kfYusoW4Snm0qYcyltWXiUojQtpeZJkoi6F98jIUfh8kxrFRxmzQaGzS5dKfqjEJqSpmQuQuIjIc+Uh0pjbKktoRKeaWlmymkIsl0zLPzFc5B4o3VbnxEkmDPnCfppqeSnpKU3MQhZl+cSWyP81Itpqicj8pOElLksuOzqi62bS5z5EjI2rKa2o7CTUhltakEpRqU66fQ2mXnRngtEox8NuRpf8A/Qm//OPmJA+5OQUZ1ZeRkHh3EKK7y63Zk3b6W5X7A1brQ4gvRt2O22ee5+hc+Zf7FxoXnJI+HWpBEhr0iyEzURlsG/XblKS0pnMRyMtyeI0XI+h7t+gPuMPmPi3kLCZcqVKPEZoOTJfk5OVRGSNs6tzLflgWbKSsuaxXteyb2ILzqw9hf3WKDe9y9Cp/R/hFNOTRy23MPUdbS0LbOr86ttSVIMihSi51STNJkRlbeP3BxZcg4T2SnxSXlAT3pK5HGdRwtRcNHWNlyofN/dhQM26CNEhGTc+607K23vm2zn4JlbnrplFc9U3kd9CxFglioLadbrMtuooambof2Tb7MySzGUqMSyaUhKW20rTlLMWY7kZ3Lg+ROaXU0PEU6g1FtDDtRPcaFrS3tWqjCccTuRTqUmo0vXdQSTd2e2bbJJGp4zH1B1V9AfmZocOjbq3buVUlW6NjufOUiU9Jtstq9lybXJfaHmy3sm+Uq16xXItkVmvuV+BWVUl9xUeSbaYO6cs1i1pSFnLYJObI0s29n+MStWY89khe5ChzWk140wJJpM0mTZWUkzIy55PQMrGXdG6o8dxLLSXlpdeS2hLrqEG2lx0kkTjiWzW4baVqI1Eg1rNJHbMq1z57Sur1Olf4C+WgUVrXWX/073wrn2xjy8kfp3vhXPtj8RGGA/Zy7kfp3vhXPtg5dSP073wrv2x+QAD9fLuR+ne+Fd+2Hy7kfp3vhXftj8YAH7OXcj9O98K79sLl3I/TvfCufbH5AAP18u5H6d74V37YOXcj9O98K79sfjAA/Zy8kfp3vhXPtjIq7I/TvfCu/bH4QwH7Drsjqh74V37YOXkjqh74V37Y/GAB+s63I6oe+Fd+2JW1eZTi3Jmdxa7IYsS1rWRXU7e2ZSrX921r2/UIdMhL+rl+Mmf4GPlPCaJwIVr13kehYb7a6L86sWUIxW3XbP0PDfbXRvnHBRZIgwgrgKi4f106pMQt6LQoqmCky4zanquptxW5JT0RalITT1knMtlRkRLVvGQ/cvWurvWGBx0vyYIS1eVnyuPhGteGqgJMziDfnrY17rBA46c8mALWwr3WCBx055MGhzB3FG95q+vdYIHHTnkwNOtdXusEDjpzyYNBn/WDafrAdCWtbXesMDjpzyYMj1ra51hg8cr8mDmzWDMIOhPWurvWCDx055MGJ62Nd6wQeOl+TBoDUC4o3itbKvdYIPHS/JgOayr3WCBx0vyYNGRguA6JjWprx/3DAL/zpzyYJO1d9OL9aKpJkw0Qn6bNRCcQ3J3U2vaQ40xK0uGywf4ElKTI0dEj3xCTauj7x/EOq1J1+mMVcNRfAdLAdnrAawUqkTKZBiU9qc9UGahIu9MOIhlunnCJe+UeQa1ObsTYrJtkPo33uF5qqudYYPHS/Jg/DraPWxHhrg7Ehf8AzUQ/9BqjeEHQOa1tcLoUGDxyvyYPDmsa91gg8dL8mDSZzCNQDe81jXusEHjpfkwMtbGvdYIHHS/Jg0VwEoxR0Ba11d6wQOOnPJgZa1lc6wQeOl+TBz2cBLEHQnrWV3rBB46X5MGJ61dd6wQeOl+TBodoYDdAbtWtZXusEHjpfkwY81fX+sEDjpzyYNLnBnAbrmsq91ggcdOeTBgWufU2X4KJlDjNsTKjBpinWaqby2lz5LcZtzZKgtEtKFOEaizkdugNPccBpXPn6L2zYd8LRhRf+v1bYMPP2zEyy69lvbNs0KXa+/a+W17GKpYY1x63LiRZbdAgE3LjsS2yVWl5ibfbQ6glEVMMiUSVlciMyI775izGkldqdPPpQpR/8BwUc0Du+oVF4Jpv0JgBLB61Ne6wU/jpzyWEWtVXusEDjpzyYNFtDBnAb09auvdYIPHTnkwHNW17rBB46c8mDQ5gswDf81dXesEDjpzyYFzWFe6wQOOnPJg0OYGYBvi1r691ggcdOeTBlzV1e6wQOOnPJg5+4MwDfc1dXusFP46c8mBp1rK91ggcdOeSxocwMxgOgLWrr3WGBx055MHk5rXYg9ygU7jp3yWNJnMI3AE8at2mp2uwXpT8VEN+PUZ9MeYbfOS2TsF82VrQ8bTJqSsyuV20mX6xKxmK0ahfsbV+2nEX09YsvYBE+sbptdocKPIYhlNelVCJTWmVPlGRnlGsicW6bbuVCMh3IkKM7lYjEUo1sK71gg8dL8mje68n5DRv14kpX9N0H/oOBQ5vEA6Pmrq71hgcdOeTAHrW17rDA46c8mDncweYwHQFrW17rBA46c8mBHrW17rBA46c8mDQZjDz/rEG+5q+vdYIHHTnkwMta6vdYIHHTnkwc/nCzijo0611d6wweOnPJg/dhbW2qC6lTIMyjx47dSlrhJfZqZyFNOJhypaTNpUJnMlRRlIP0QrZr79rHxijHPOF6uYU4cX4GqwCxesTp8fovK5EWCic/UZTkVCHZW5W2yaivSlLU4TL5nzrJpJJI6JlviNS1sq6f9wQeOV+TR666JWmYW/XVJvgeeOaQA6Lmq691gg8cr8mh81VXusMHjlfkwaDMA1CDf8ANWV3rBB45X5NGR611c6wQeOV+TBzucGYIOh5q+u9YIPHLnkwYHrYV7rBB45c8mDQXBcUb9GtZXusMDjpzyYPdOtTXesMHjlzyYOazDIngEy6ANPUirv1KLLgNwZFPKE4ZNS91tutzUvqbMlmxHNKknHWSkmgy3ysZj8OmnWGmU2pNU6HTWpqlwd3uOPTtyJQndCmCQkijSDWozTmvzpEX9Y61QHL4hxR+wYa+OtjLWDX652uAUeEXvqAfsc1sK4X9wwuOV+TR5lrY13rDC45X5NHPhiDf81hXesEHjlfk0Zp1ra51hg8cueTBztwXFHSFrV13rBB46c8mBc1ZXesMDjpzyYOdz/rBnPpgOg5q6u9YYHHTnkwYnrYV7rBT+OnPJg0GYFxBvFa2Ff6wU/jtzyWPfD2tnVjmQGJdFhsR5kxmCp5mqrfcaU+S8iyZVAZJZZkkRltU2I779rHzhmNLVjPddG4cpvy3AgvOMVDIhioQZ2DIIMXACItM2trh3D55KrVI8d7KS9ypNT8vIo7JVuZgnHiSZkdlKQRHZVjPKdod5IzrePYapzMSm3VWqspbEE0t7U2EJNtLsgm8pkt67qGmEKJRKdXmyOE0tCor0WamuG8LU4q/jh9mbU37OyXqktyU00+4Wfc7Mc9qudKTl33VIedUol5CQno0SvSeStYKdcJvli+1mUSSW9Blpb3ztc1E0rKnpqWSSIujYWewTj2FUo6JdPlMTIrl8j8Z1DrSjSZpURKQZlmSojSpJ2UlRGRkRkZCkqdafRRVUqiyG6W2i1i3TRnIyT9y6H0xSJBle5Gpbai6JdAzKJ6vRnNF+LqecJ9xWFMRuE25FWpbm5VpNppxWZSlGpcVT7L7b34xyMtxpROKaJ1QfVAASVBgAAYACCsMgAEAMABBgCAAAAsAVgwwAEAMABADAAVgAAAAADAYjktK5ep0r/An5xI68chpZ9jpX+BPziAFXC90ZEEQZAAAAAAIAYBXBcMiBYAgDKwQAAAAACDCABmJf1cT5+Z/gY+U8IfMTBq4/jJn+Bj43hNE4EK167p+h4a7a6N844LKEK167n4vDfbXRvnHBRZRIRkGkBgPnNq9exyuEq34aqAksRnq8n6mnwjWvDNQElgHcK4YACuAOwLAEAZAsAQAAAFwACAZJ933jHV6k35RinhqL4DpY5RBdH3j+IdZqUF6YxTw1F8BUsBptbj2x4a4OxJ8qijVDb62xeuPDXBuJPjoo1NgCIMAYBWAAAACDAAQABgEAg7AAA4DSsnn6J2zYd8LRR344LSt+HRO2bDnhaKAvRpKL1On/sUr5hwUa0EewVE4Ip30NgXn0jl6nz/ANjlfMOCjOgj2ConBFN+hsgO4DCAAABkQLAEAOwZgFYALBAGC4AgAEoZDEyAd1qFl6m1ftpxD9PWLLituokXqdVu2fEH05QskArhrxF6So3bJS/ikCPWy3i94SHrxfkVG7ZKX8UgR6joF7wBgAEAAAAALhDKwLAMVDQOF6uYV4dX4Fq46BQ0Dvs3hXh1fgWrgJH10y9OYV4Vm+BqgOXIx1Oup+V4V4Vm+BqgOTIxB6BADFCAGCwBADAQBADARANpqfF64cT/ALBhr462MtYUvXO1wCjwi8Hqgp9cOJ+D8NfKrgNYP2zt8At+EXwGoSYLhEAAAAGAQA7AAILMMjGABmoaaqH6bo3DdN+cWNuY1NR/K6Pw3TvnFgLzkMVBpMJRDIzDAQBofLzTojllpjocN4icZhNRlNtq30EpiJKqZLJPQJZO5VZujdCPzStzWvKlWJdJFFw04vPCiKhMvs5lIsmQRT6gZKRzxOOQUtpQZWMjSjfT0R1GtEtND0r4erMkzbhzm2WzfVYkJcNl+lupPfuSWkvR3FrVZJJdvc8qrfg139GlYw/jiHjanU96pRFqjOSUtIce2brMXcMhlxLSTUwl2EgjafMlNpdNWa+UkLDmuSz6I6ezUMK0+mQocFclL8S8aO216Gb8RiMhZNkjOltS3DSSrmm6rGWZV5i5Nc0nzO0roZirKEp6ZJ3DMzEX6rkm/vEKz62GPsT1+oUjFRYYqEek0x5hMJlbanHXFMvlLdckJQ3t2m3zQlsnjY2BJQnKpSjURzLjaVV9KFVpDKKRNpGG6Y9uya9UEZTlOKNOdttJkSXFm22thomzWSCedW5/sIMPpRgZxZwoZr/DOLHNf+I2UGr+txvhqHa/GZs2t9ho0kREhTraDSm3OllUojIrdAY+bSH1XG+Ha+2A3IBpfNrD6rjfDtfbB5tYfVcb4dr7YDdAGk82sPquL3w19sPzaw+q4vfDX2wG6CGl82sLquL3w19sHm2hdWRe+GvtgN2ENN5toXVcXvhr7YPNrD6ri98NfbAboA0nm2hdVxe+Gvth+baF1XF74a+2A3QBpfNtC6ri98NfbB5tYfVcXvhr7YDcgGm82sPquL8O19sI8awuq4vfDX2wG6uAabzaQ+q4vw7X2webSH1XG+Ha+2A3QBpfNpD6rjfDtfbB5tIfVcb4dr7YDdAGl82sPquN8O19sNOMYZnYpUYzPeL0drfM+gRc97oDcjkNLPsdK/wJ+cQOtuOQ0tL9TpX+BPziAFXiDHmS/f7ge19/uAMwx57T3+4GTvv9wBmAYbX3+4Ftff7gD1CHltff7gZu+/3AHqEPM3ff7gNp7/cAegB57T3+4HtPf7gDIMee098PajNGRiX9XEvRJn+CP8bwh03PfEw6uCufmf4I/wAp4SiciFatd0/Q8N9tdG+ccFlCMVq14PxeG+2ui/OrGxZUgGAgrAPnLq8exp8I1rwzPEmiM9Xn2NVwjWvDNQEmAAiAQLgAAABXAMFwgAGEAMgAAAAGbZ9H3jHV6lH5RinhqL4CpQ5NB9H3j+IdXqUn6YxTw1F8BUoBqdbb2x4Z4OxJ8dEGpuNrrbn648M8HYk+OiDUAGAIAAuGEQYAAAAADCAAABAAMcDpV/DonbNhzwtFHejgtKv4dE7ZsOeFooC9mkT2Pnfscr5hwUY0EewVE4Ipv0NkXm0jn6nz/wBjlfMOCjWgj2ConBFN+hsgO4sCwAXAMAVwgDuAK4ADAEGALAAAADFQyHmo98BImowXqfVu2avfTBZAVs1FPY6rds9f+mmLJAK4a8X5DR+2Sl/9QI8Qe8XvCQteIvSNH7Y6X/1Aj1s94veAZgCIMAAAAABjG4LgGoc877N4V4dX4Gq436hoHvZvCvDqvA1XASRrp/lmFeFZvgaoDkyIddroF6bwtwpNP/8Ap55DkSAegYAAAMIABgGNwXAO4RmAJR7x+8A3mqL7YMTcH4a+XXgtYI/XM3wE34QkB6ovtgxLwfhv5deGOsH7Zm+AW/CD4DTEGAgGACDGFg7gGRgCBcAxgZDIADAxqagXpuj8N035xY26iGpqX5VSOG6Z86oBeZIFEBIFGM4GQYQYuCveujqkRsXUvci1JYmxlG/T5hoNewdVlJxtZJNJqZkISSHE3Oxk25lUbSSOn+B9cPG2Dm26ViXDkurMRrMs1NhThqXHSZoQZy2mJEeWokIuknVMSDRkN0yUZqV9RDARij570/kmtaqklmLQsFVKQa1t7R2StSCQjNd1J2YTHaugjJDz8xtBLMrpPev9CAEC4CiutlyMBOKay7V1VtUHaMMMbnKnJk5dik05ttu5i5KvfLsit0z9yHk8g3a93Ern7qQkv/UjH1LCAfLb+w3a7JXeKUeUg/7Ddrsld4pR5SH1IsCwD5bnyDdrsld4pR5RCLkG7XZK5xSjykPqVYAg+Wxcg3a7JXeKUeUQz5Buz2Su8Uo8oj6jgAfLj+w3Z7JXeKUeUQf2G7PZI7xUjyiPqOGA+W/9huz2Su8Uo8ogLkHDPZI7xUjyiPqOCwo+XJ8g4Z7JHeKkeUAf2HDPZI7xUjyiPqMHYQfLj+w4Z7JHeKkeUAv7Ddnskd4pR5RH1HAA+XH9huz2SO8Uo8oh/wBhux2SO8VI8oD6jWAA+XP9hwz2SO8VI8oALkHDPZI7xUjygPqMAUfLkuQcMdkj3FSPKA3eDeQuMQ5cSWnELy1RZMeUSDpiEkvYPIdyGe7jNOfLlzb+W97KtY/pWQBAEQ/PPp6HUm24kloUVlJUV0q3775H0d8rj9ILijn/ADv4PUkf4JP1APR/B6kY+CT9Q6AFwHP+d/B6kY+CT9QD0fwepGPg0/UOgBcBz3nfQepGPg0/UDzvoPUjHwafqHQ3BcBz3nfwepGPgk/UDzvoPUjHwafqHQ3BcBz3nfQepGPg0/UDzvoPUjHwafqHQ3BcBz/nfQepGPg0/UF530HqRj4JP1DobguA57zvoPUjHwafqB530HqSP8Gn6h0OYFwHPed9B6kY+CT9Q/dSsOMMGo2WW2jXYlG2gk5rXte3Rtc7e+Y2VwxArCtWu+XoeG+2ui/OuCywrRrv/i8NdtdG+ccFFlUgMMgGA+cur17HHwjWvDVQEmCM9Xs/U4+Ea34aqAkwABADsAQAyBYAgBhgEAADAAAAANPu+8Y6vUn/ACjFPDUXwHSxyiC6PvH8Q6zUoL0xinhqL4CpQDUa2/tjwzwdiT46INQNxrbe2PDPB2JPjog1FgAAAYmBAAAUAQYQAAGCwBAGWUIAEOB0rfh0Ttmw54WijvrDgtKx8/RO2bDvhaKAvXpGL1Pnfscr5hwUY0D+wVF4Ipv0NkXn0iex879jlfMOCjGgj2ConBFN+hsgO4ACwYBADBYAiDBYABBgAAAgAAAwV0f+/wBQzsMTLf8A+/1AO91ED9Tqv20Yg+nKFlbCtWocXqbV+2jEP09YsqArfrxn6Ro/bJSvjfEeN9AveEh68v5DRu2Sl/8AUCPUFvF7wgZDIYEQyAAAwChADAAxUQ0D/s3hXh5XgarjoDGgf9m8K8Oq8DVcBJOuiXpvC3Ck3wPPHIkOt10fyvC3Ck3wNPHJEM6PQFwwhcAAMKwoLAsHYABBKLeMZAMgG51QfZ/EvB+G/l14LWD9szfATfhB8GqB7P4m4Pw18uvB6wftmb4Bb8IPgNKQAAAAA7AAAQYDAAAAAYKGrn/lVI4bpvzqxtDGqqCvTVI4bpvzixNF5EBqCSBRBgzBcAShBWbG2uW9HqVQp8PD86ocrX24r8huZTIzZvORmZRJQiVJbcURNvourLa9xqy10ql2I1LjSh+OiOkK9cGLeGI3gWmDozIaHR82lUexGpcaUPx4B66dR7EalxpQ/HRzZpARAOj5tOpdiNR40ofjoObTqXYjUuNKH46OdsCwDoi11Kl2I1HjWieOhHrqVLsRqPGtE8dHPWCsA6Lm1ql2I1HjWieOA5tWpdiNR41onjg5ywdgHRc2rUuxGo8a0Tx0B66tS7EajxrRPHRzuUGUB0XNrVLsRqXGlE8dBza1S7EajxpRPHRz2UKwDZVvX2mRtjtsKVJG6H24rPqlRlZ33r7NHOy1Zc2U+eXlSVt8y3hsS11qj2I1LjSh+PCEtOp+w3DlN/8AqiR0nvEA6bm1aj2I1LjSieOg5tao9iNS40onjo5oiGVgHR82rUuxGpcaUTx0Lm1al2I1LjSieOjnbANIDo+bWqXYjUuNKJ46Dm1al2I1LjSieOjnLANIDpC11aj2I1LjSieOhc2tUuxGpcaUTx0c5YPKA6Pm1al2I1HjSieOg5tWo9iNS40ofjw5uwLAOkPXUqPYjUuNKJ48Dm1Kj2I1LjSh+PDmzIADpE66tR7EalxpQ/HhqMK8kAlTWCkxcK1J1lS3WyXyyo7d1sPOMOllcmIWWV1pabmmystyMyMjP8Sej/30xFWq6RcpGf2qpeE5gCeObVqXYjUuNKJ46FzalS7EajxrRPHRzlgySA6MtdSpdiNR40onjoObVqPYjUeNKJ46OcygygOj5tWpdiNR40onjofNqVLsRqPGtD8dHN5QiSA6Tm1Kj2I1HjSh+Og5tSpdiNR41onjo5ywMoDpObTqXYjUeNaH46HzaVS7EajxrQ/HhzWUGUB0nNpVLsRqPGtD8eC5tOpdiNR41ofjo5zKHlAb89dapdiNR41onjgkHQDrLKrcufCepUmlyYDMSStEiREkk41MVIS2pC4jrqCMjjLulSr75bwiBJf92Gx1UleufEXBNA+eq4zBb4hWzXc/F4b7a6N86sWSIxWrXeP0PDfbXRvnVjQsqQRgIBgPnLq9exx8I1rwzUBJgjPV59jj4RrXhmeJNAAAAAAAXCAMAQADuEGQACDAABk37vvGOs1KfyjFPDUXwFShyaT6PvGOr1KD9MYp4ai+A6UA1Otv7Y8M8HYk+OiDUDa625+uPDPB+JPjog1IADMIgAGAIMAAAAAAAEAyCCAAdxwOlX8Oids2HPC0Ud6OB0rfh0Ttmw74WigL26RT9T537HK+YcFGNBHsFROCKb9DZF5tI3sfP/Y5XzDgozoH9gqJwRTfobIDuQAAAZhBAAO4AgAGEAMAiDAAADFXR/7/AFDIeZ9H/v8AUIJC1EvY6rds+IPpyviFkRWrUOTam1btoxCfdqCzFlTFFbteU/SNG7ZKX8UgR+g94veHf68/5DRu2Slf9QOAR0C94AwBgIhmAAABmNBhAuEYAUNA77N4V4dV4Fq43qhoXvZvCvDq/A1XASRrpn6cwtwrN8DTxyhEOr10vyvC3Cs3wNUByaRB6BgAKCwAXBcAXAEAA7gCMH/3AbnVB9sGJuD8NfKroNYP2zN8BN+EHwtUH2wYn4Pw18quh6wftmb4Bb8IvgNMQZAAACAAIAwBAAO4SgBGQgVhqaiXpuj8N035xY2w1VQK8uj8NU35xYovIkNQEgUJgdgKAQDEFCkH64MWcMx/AtMHTDmW/bBizhmP4Gpg6caAAAAAAAQAAGAArADAAAAAAAjDCMBGenY/Ybhym/8A1RJJdARrp3/ubh2m/G6JLIt4gDIgwEGAArBgAAAGAAACAAABgAKwLBgsAx90RZqvF6iM/tVS8JzBKd98v3CLdV8vURn9qqPhKYAlNJBhEGIEAAdhQgB2AAVgBgIAWAAFwAYABAAbDVP9s2IuCaB89VxrzIbLVP8AbNiLgmgfP1gQW+Fatd5PoeHO2ujfOrFlSFatd8/QsOdtdF+eWKLKBWDIBgPnJq9n6nHwjWvDU8SbcRlq9exp8I1rw1UBJoBAAHYABB2BYAgwAAFgAAALhADANHu+8fxDrNSn8oxTw1F8BUsco2XR94/iHWalX5TirhqL4CpYDT62xeuPDPB2JPjog1A3GtsXrjwzwdiT46INQAREGHYIAWAAAACDCAAA7AAKwLBmAAWHAaVj5+ids2HPC0Ud+Q4DSt+HRO2bDnhaKAvbpG9j537HK+YcFGNA/sFROCKb9DZF5tI3sfO/Y5XzDgo1oIL1ConBFN+hsgO3ACwdgCAGAAgB2AAAB3CAAQYACGB9H/v9QyGJiYO+1DT9Tat20Yh8ILIWVsK16hvsbVu2jEPhBYsqKK2a835BR+2Wk/KfHAI6Be8JA15vyGjdslK+N8cAjoF7wBgAAAAAAAgB2AAxUQ0DxereFOHV+BquN+oxoXj9W8KcOr8DVcBJOukXpvC3Ck3wNUByRDrtdH8rwtwpN8DVAckQz+hmAAQ0ABgDsAQLB2DsAxDAH/8Af4gG31QfbBifg/DXyq6DWE9szXAKPCDwNUH2wYn4Pw18quhawZ+udrgFHhF4BpyMAAEIAAYCFBYIMBiACMMIyEGBjVz/AMro/DVO+ccG0WNXNP03R+Gqd844KLypAYSDAsMGRAMBAUMihTReuDFnDMfwNTB045lr2wYs4Zj+BqYOlGwwAAQAAAAABcAQB3AEAAwgAAMYqGQSgEY6ef7l4dpnxuCTUnvCMdPZ+wvDtM+NwSZfeIB6EYLhEC4B3BcIAAuGEGAAABcAAAEAdwXCuEAXuiLdV/2EZ/aqj4TmCUfdIRjqx+wrP7TUPCUsBKJBhEQYgAABcUMFwrhXAO4AgAAACDMgCDAAAGNlqoe2XEXBNA+frI1hjZ6qPtmxDwTQPn6yAt6K068J+hYc7a6L88sWWuK0a8P4rDfbXRvnVhgssQYREAB85dXj2NPhGteGqgJMEY6vCy5W/wDmNa8MzxJuYA7ACGVgCIALBGQB3AEAAwgBgAAAAGhXR94/iHV6lCvTOKeGYvgKljksvR94/iHV6kyfTGKeGYngKlgNdraF648NcHYk+VQxp7Dd62ReuLDXBuJflUMaRRgFcARqCzAGQYRB2AAAAuAZhAuAAAuFYMiAIjHAaVvw6J2zYd8LRR3+UR9pWXz9E7ZsO+FooC9+kb2Pnfscr5hwUb0EewVE4Ipv0NkXh0kOep0/9ilfMOCjugg/UKicEU76GyA7i4YVwAC4DMIAB3BcYGGRgMrgCuGAAGQLBGYBjEyDzDHOQgkLUVtyuq1uyev/AE5VxZAVq1DT9Tat20Yi8IL/ANBZW4orbrzH6Ro3bJS/ikiP0H0PeEga8qbwqKX/AMS0v+hST/0EfIT8QmDMOwRGHcAAuAFxQBGYLjEzEDuOfdP1bwrw6vwNVxvjGgWfq5hXhxfgWriiStdNXpvC3Cs3wNUDHJEY6zXSV6bwtwrN8DVAcmkB6kYYwSYzAALguFcQO4LjAwyFDMO/+vxBBK6B+8YDc6oXtgxPwfhr5VdC1hPbO3wCjwi8MtUL2fxNwfhr5deC1hS9c7XAKPCLwDTkGEHcQAdwgrihgCuAAwrgGJkIEoaqob0qkH/77ppd11RDamQ1dRReTSi/99Us/wDjmKLyI6ARjJIxUQg9AjAQDIZFC2vbBizhmP4Gpg6Yc017P4s4Zj+BaWOkGwBgAAAgzIAACDIABBgDAIAYQACMMYqARhp7P2G4dpnxuCTC6AjPT2fsLw7TPjcEme4A9ABkHYArAsGEALAAAABBhAAAdgAFYFg7AAYEW+Ix1Y/YVn9pqHhKWJP90Rfqxn6is/tNR8JSwEokGEkwAAAYACAGHYBiQdgBgEAMIABADsAQ2eqifrmxDwTQPn6yNbYbLVQ9suIeCaB8/WRNFvRWnXfP0LDnbXRvnViyxCtWu+XoWHO2ujfPKAWUIIwyDFFOMMaj9WhIWzGxDFKOciXIbS5RTccQUuU9KUhThVRBLNK3lFmJCbkRc6XQG75k2u9kMHiJXlcajW10byTrNBcj4ixHARWqq1SpEWBUksRGWW6fLf2sVg46ybkOOx2zWtZupUSl85c0mnjK3p0lU3GFOjFU35FFpi6bg6aiTKNcmVU6pFckN1KUhJoakONuIhsOySZTslvSN5tOYlB37uqTiA/95IKS/wDDQDv+/PVV/wBLD05kuu9kkP8AfQlf6VYh+nVhxxMkQ8bKkS5D6oeKcSxYqnnnHFRo7GU2GGFKUZtMs3PZtoMkt3skklYiqvoV071at0SrzzqdSiOYcwhsojJzJCH6jPfiPlIrkq52lJbfjqZiOqW8pC0rWo21qJJBZ/mS652Rw+I1+Vx6J1SK12RxeJFeVhWSHrB1qK6h5+fNXAnYDojD765DhphVyrUuU7AqRqM/Sy35UR2MuUk0Ep+THz5lG0aNpTNIM+oxDcqFdrtPaouEcN1FpylqkOPu1GqMGbk+otMIckVBtpxCNoy4omSaN1S7XWsBYg9UKtdkcbiRXlYeatUCt9kcXiRXlYfrxHrYQZVEmMRpsldTVhmRVW5LMKZFRv0vdSJLcg0bGO4ZOIcS0T5uNrPL+Ek7VcpuszVnaexFfmzI9TpmC8THLNM1wzlrTSqfMotaSonM763WFqUiW4nbNykSiuRmalhZVWqDXOyOLxIvysAtUaue5iOH++iL8rivNKxTUGMOqqDU7HjUh+ThZKnsQy2yiupk1Frb8qFRl7XZukakPE8ZGuO4ylZKuZFIempVQlS9I2StVmEmiU+BVKeiBPXHSy7Hob8o2MuVZJjyX7OSENk246ZJ9ETlTYJFVqj1w97zSRU/rTQzuX8dVWk/3pMh+hOqnXi3vNDTzLpnQF5j9/LWEp7iSL9QrrihMqHh/BL0rEuLNnXpDM+pyos6RIqLSZFD25xoRR47rqoqH0ksmFtSTTmcWZmZZy6Ou6Wau5gimx2qvJj1CvVSRFo1WmyW487lSy/ImRZEuQytvI+9CjNsLcKyjOQglWNdwE3N6q9dL/eCn9I/UFzywJH1e9Bj1FKpKkTkTn6lMRNccbi7jbbNuHGhpbS0ciSZlkjJUajc3zUe8IO0d6cZFVrmCZLch9uNU8M1GXKiIfcOOqW1uQl7VF0odcYdNxCXVozEVzLLmMhctBiUQXrFavMysTKZOg1JinvU9moRrSICpzbyKgcI1HlTMhmhTe4yseZd857xZd+PC1TcRe7iKmH72H3i/wDWzFuMogHXgwi69h6oTY9UqtMfpMKdVGV0uYcQ33Y8N5bbMsyQpTsbMRGbaVNnffJaTIjIOKVqoV8yt5oacX6yoLv+tZMu6RjCNqi18iIjxLDVYrXVQTuZ9M8tVSm/+FKS/UIg06Vup0jD1Hp1Mr1Xk1esodxDuup1DO+xGpdMRUJERqQ2mMaY8qQliK2w8pZOHIdJSlJJRFN+DNLjtRxfSlx5L502oYIXVm4xOOJjqedqMLI+qOZkjbpaWbRLUjaISak3K6iOjyTqm13sig8RL8rhlqmVz3cRw/3UJXlYQRO00VCZi+o4W5Y1GGxLxIy5u9MuS0hqFBpzMk6PTXELtHkTH03dQk20qZUveWp0iPV4n07YhZ3M9DlzJTzOPMSNKiKkOZZVNpyJDx06xqJKkJjMuJjtK9DS6bZ86ZEogsSvVIrfZHF4jV5WHgrVJrvuYjh8Rr8rCFMM6aptaUuFFrU5qDW8eVOImfFkLOUzSGKJFqDcKnvqNe5EurulOwSWzUtZpLnlkucdXnWTpkeA6yqqVmrNs1h+kMPTKXPeqDC20Mr3LOWyw465uc3cpzZLbF75V3NtSjDxLVHrvZHE4jV/rVQuZKrnZHE/fQ1f6VYQpjHWQqCabXIqXq2clrGyIiKg0mSmLEiFV4JFDOelSUtNrYWbRR0mZKS6STTZzfkPHGsDKax7GyzyKix3oeFZcDbqIuWdTjyZzc5UclEhRNuFBhboXckKdNCcqjWlYde1qmVz3cRw/wB1DV5WHrzJ9dI+dxFCMukugqP5NWSf9RWjCmMau7XJaoNXxPKqjWNpkE6Uo5MjD6KK3UFE9tjcjqjRyahmo0kUolIIkZGkqJJh6M8d1h2sxuV1VxNPlyMWVOBVafK3W/QouH0TpbTr7Eh5hDEd+NHS2prZTVqQ4SUJbuZMqCzK9VSun/vBT78AuW8MX/qNc5qXVR+RAXMrsR1iHUYNTU0xRlsOOrgyESW2yeVVH0oStbZEo9ko8t7W6I4bV1xLW5uIGKFKmVBLeDEzSqjypSjOsrlPuNUNUtROLVKQum2mOE9lu/Y8iTTlTe5swGsxHQ90R32DVlJ9l1nMRXy7VCkXtvXtmva5XFScLalVehxI0RrEdONqJHaitGugOmrZsNpbbzGVZSRqypK52K59IXMAZAKlN6qWIC6OIab+6gO+WR6q1U6+f+8VPT71AXf/AOasKL+g4jRjo6kRcV1iLIxTiiRAoMKl1UkTKq242+cgpTshucW5UpcjElhNkNkyZJNV1qIytHOj7WKqL1BxmUipPqmyaPIxfSFolK28CnzkvNNxWVoWa4yoC2WroaUlLSn0mnfWZgJ+b1TK97uI4P7qCsv/AFcCtUmu9kcLiJflgafWr0xTKVhnD1SZdlqd3dh5ySmM4vdE1oybckxjMju6ctJKQpCjMnFL373EdYG0m1FyHg6qrrMuQ5iLFEiTMZblu7lisuQpbaKM20RoJMaEbKCWwslEctLjh3M0mQSwvVCrvZHE4jX5XGPMi13sjifvoavKwrxoN1jqwssOU2fOlnJexUzNjyN1OGqpUGSirsOxXlqczyTg1Bkm3mFpUhpK4ViPKlSer1fdJ8h9zDVcn4iqiJ1fqdXZepbhSn6K/EjyJkRqHEjNMLiwZDCo8d5t1bzbq07pNSns28EuFqi13sjh8Rr8rDNGqbXOyOHxGvyuFrAa0kSZhuU5SJj8STOqUXC8aRIamUt6LPnqZu6ndLUd9s40R5crapykRNqstJpuUGY+1gq4dEwbIpsh+XU4tVnwamwmSpHLV2hx5KZbL6mzUl0pjcZb7W0S4RqeaWac3QCeFapVd9zEcPiNflcYL1R68f8AvJDL3qEv/WrGXduIMp+mWZW1uQoNbqDUCt42kQ0z4clW649LboMafuSA8valDzOpUVmkmlKzcslWZZK57FelrPBpEI8U4jdhR8TVKnSJ0FqpwcQtQm6aqTFhz0nF282bHcsTr241IUixm2g0LNIWT5kyv9kVPP8A8hX/AF9V7dywxPVMr/ZDTuIHPLAhFnTTXqVRKLihyTUJ8E3KzS9k+tK5M6nT8ysMVCSy06iNu5uQ0yy64banjalKSeU86heXQLguXT6PT4k+W/OnNR0bslSXlvuuyV3ce9FcM1qQhajbbIz3m0oL3LgNJq4aFXaFBeivy0TX5NQnVN59uOcVs3Z7xvLQhg35BoQhR2K7qjMhLBEHYAgivWL0MO1yHHjsTEwX4s+LUmX1x91N542csjjG2YNSVpcUVydSaTse/awiPmUMQdkVO4gc8sC2ALCip3MmV7shp/ELnlgHMmV7sigcQueWBbA0gJIgqgWqdXuyKBxC55YGRap9e7IYHELnlgWtsCwCqfMnV3shgcQr8rg5k6u9kMHiJflcWsygygKoK1S672QwP30JzywP1YV1R6mipUudMrUSS1TZapxMMUlcZbrhw5UQkm8qpSCQkilKWfoKjM0kW9e5WmIgWAQzrE6BZFa5Wriz24D9Oluy0rehnNbcJ2I/EUg2ykxTSZJeNZLJw99Nrb5iNk6ple7IKdxC75ZFr7AsAqjzJ9e7IafxC75YBzJ9e7IYHELnlgWtygygKpHqnV3shgcQueVwuZNr3ZFA4hX5XFrsgMoCqRapld7IoPEK/K4zLVOrnZFC4iV5WFqsoeUPRVQtU6udkMLiJflcPmT652Qwv3UJflcWpJIdgEJavur1Io8qpTJVRRPfqLcBg9lD3E2y3TzmG2RI3TJNalqmrNSjWRFlTYuiNVp31b6hU6kxUoFVjwFNwTp7rUmnKnIcTug30OJNE6GptSTM02uojI/etYKwLAKmN6qGIfdxDS/3Yff/ANa2Y9i1Uq/2QU3iB3y0LWmQWUUVU5lKvdkFO4gd8sjE9VCvdkNO4gd8si11gsoCqRap9e7IafxC55YDLVPr3ZDA4hc8sC1lg7CCqZ6qFd7IYHELnlgYq1T692Q0/iFzywLXZQZRRVA9U+vdkNP4hd8sD9NA1S6qmXDfl1yK+zFlsTFMsUhUdbpx1GtCCeVUnybI1mV1bNR2IysV7laXKDKAxSEoxkYxuJR6EMVhhKGRQ1r2fxZwzH8C0sdIOZZL1wYt4Yj+BqYOmIhsMAAAAAAAAAAgDBcIABgCAAYxWMhioBGGnovYbh2l/KcEne4Ix09FvUbh2l/KcEm33hB6EAjCIAoYArgAMAAAAAAACwABAGC4VwAMRF2rGXqIz+01HwlLEoe6Iy1ZfYVn9pqHhGWAk9AyCIMAAAAAAMIAB3AEAAwBBgC4AAAJQ2eqh7ZcQ8E4f+frA1ZjaaqBeuXEPBNA+frAC3pCtOvAfoWHO2ui/PqFlRWfXlP0HDnbXRPpBgLMBmMSGRAOGx9omj1GRS5L63UrpM7ljHJtSSSt7YPR8rt0qNSMjyjsk0nmIt/okcb1DUioTrU1K2FKkz5x1N2pKNCqiiRupqWjYylNmttppxltKGSugm05TJRGZHHrOttiGS7MOFSqLuaPUKhT2lSqnObfWUCY9DNxaGaY82jaKZNZJS4qxHa+8Pc9ZPFfWrDvG1S8kAJBw5qeQYsyZLjz6w2U+ZNqMuGmeooL0meThSFrjEnIoj2lySdyI0Nnv5CHi1qQ0VLMZlG6myj0SThpTjbyUOSabKIzU1JWTfPqacNTzS05DQ4pR797CPz1mMWdasPcbVLyUMeaZxZ1qw9xrUvJQCVy1QKNuSVCU2+uPLo1Pw86hb1zKFS23W4akKyEaZDe1Uvbb91kk8u9YaXEuo5R5CGEIfqkM2aXHoLjkOoPMLmU2MRk1HmEV0PGklKLamgnDJRkajIkkXBc01izrVh7jWo+Sg+aYxZ1qw7xrUvJQCxNQ0Pwl0hdEQhTMBUBVKJDKjStuIbG58jbh3USkt7xLO533xHFU1JaI8ppxSJBONYeVhPOT55nKYphUctpdJkqSltaiJ+xKMzK+YkpIo+5pbFnWvDvGtS8lA5pXFnWrDvGtS8lAO6pOpDS0QJVMfmVqbBktRmijzKrKeRFOG6h6M5C54jiONONoMjZNKVJSSVJWm6T6TCmqrTIsGrws82SddadYqk2ZLdkzpKHYyoljkOGZpJqOo22kpSSUFaxbxCIS1lcWdasO8bVLyUDml8WdasO8a1LyUAnFnV1pyW6A0W3yYb2fK4toV/QoZwk7c8vovoJn0MvPb/6hyFA1IKEw5BUplclimLqa4EGVsn4Ubls8T8om2FNWyksvQyUZ7Mj3rnviPuaXxZ1qw7xtUvJIOaYxX1qw7xtUvJIDtZ2otST3JueVVIBwXKm5FVT5pxFtJq0gpMphKmkEewJ0vQ2+ggjtv2TlnvD1HKOwywTjrxMtNs7V9Zuvu5EknaPOHvuOKtmUs99SjM/dFUi1lcV9asO8bVLyQOy0Haw1Vm1VVNqcGnxzVAcnsOwJkiUR7J9tlaHSkRIppP0VKiNJK6B/uCxg5vSPghmp0+bTXzWlifFfhPKbMkuE1IaU0s0GpKkkskqOxmkyI/cMcFrO6aJNEp7MmHGZlSJFRg0xpuQ6thklTXdkTjjjbbqySg7GeVCjtexHaxw6esrizrVh3jWo+SgEyHqt0hcpiVKY3ccWlMUWOzNS3Ijsx2FGo3W2ltmlMl7nSdeKxqS22ViykONj6jFOaTA3JUKxCXTae7SY70WaTT24nZKpSmVuE0ZqInFJJJ7xkltv3U3HGlrK4s61Yd42qXkoZFrL4r61Yd42qPkkBJ1Y1PaS+mbnVK20yrMV8pJOoORFqMZDbbT8VamzJFkN5DSolktKlkq5KMh+2iaqFKjyGZTe6dpHrFQr7ZKeJSN21JtxqTmTk32TS6vK3cspq6J7wiXmmcV9asPcbVHySDmmMV9asPcbVHySA7VGonQ24jsSMUuIR1leI4z0aQbT0CpLaSzniKJOVLJNpyFHdS61bopPKjLImhfQhDoUd6PEU+4qVKeqEuRJcN2RKmSDI3n3V2SWZZkW8lKUl0rmZnAvNL4r61Yd42qXkkHNL4r61Yd42qXkkQStUNVOmuRKhCNcomanWGq/Is6nMUtp6K+lLZmgyQya4jV0WMzI175Gq406tRygKbmkqOtUqdVF1typKUg6i1NVIakkqPJNs1NNNuMoyskWzMs90qzrM+A5pXFnWrDvGtS8lBHrK4s61Yd41qXkoUWQ0b6K4tK3duY3D5YT5FUf2i8/piSaTdyc6WVF03JO/bf3xloy0XRqTHdjRTcNt2ZMnq2qiUrbTpC5LxEZJTZG0cVlTbeKxXMVtLWXxZ1qw7xrUvJQy5pnFfWrD3G1R8kgLC4X0ORIdTqdWZ2m6qsmGiVmURt2gocQzs02LKdnV5jMzzb3QsO4JIqGnWYxX1qw7xtUvJIzVrLYqIlKOlYd51KlHar1K9kkZnb1I6O8At2RgMxxmhvHiqrSKZUzbJlVQp8SebJKzk0clhDxtksySayQa8pKNKb2vYugK+4u1p66VUqsKn02kusUyYiFtZk+Yw86tUOLLNWzZgyEEkilJSXolzNJ7wCWcU6tMGW9W33HJSHK/Bj0ycbTqU2jR0uNpJm7Z7NS0OuJUrnrkresdjGoq2pbQFpJDMRMJHKudRHEwktRyfhz22kPE8aGruOoNltbbhndCyM9/MZHGBazGLOtWHuNql5KGXNNYr61Ye42qPkkBIkDUzp6WY7Ds+sy2osymT4yJtQXJSw5SlrXGQ0lxBkhtRrInSSRG6ltojVzhD9bGp7SUPoebOUgmq05iNpgni2DU95lTL2zQaDNLDuZTimiVbaKNRZbneMeaaxX1qw9xtUfJIXNMYr61Ye42qPkkBJdO1OKO0mi5UvmugzJM+nvKdJTqXJby332nFGjn2FOLuTdkkkkIIjLKPx0LUno8eXGktrn7CFOeqsOmKmOKpsWc+ajcfZjH+Dzy1rQ3mNDalqypSS1EfAc0vivrVh7jao+Sgc0tizrVh7japeSgFgNJGhWDVn6c9ORtkU2Q5LZjLJCozrzjC45KkNLQondmhxZoIzIiUd9+xDlKHqi0eNKalRkPRzYqztdajsrQiM3Mfh7ieJtlLZEhlxq6jaSZFtDNVyvYRTzS2LOtWHuNql5KD5pbFnWrD3G1R8lAO9g6jFBYhvQorcmG2urKr8dyLINl6BUDbSzngrQkiZaS0nZkwZLbyKUm1stv14W1MqTEXEeQ5NdkRqrIrrkiRI2702fKiqiPLlqcQeZBsnYm2iaSRle3PLzRyWsvizrVh7jao+SQ+aYxX1qw9xtUvJACSj1QaYVJTRELlNwG6omrtNpcQZsuJncsCjNmptRFF2+bnDI1ZVKsu/PFOSRUBWsvivrXh3japeSSCLWXxX1qw9xtUvJQguFcArDok1k6xKrMWl1Kn01hEuLNlNvwZ0mSpKoZxiUhxEiHFsSykEZKSa/wAE723r2dIxQ7guIL1tdO82gxqUqnxY8uXVa5BoLLct1xlhDk1Eg0OLW2lSiInGUJOxbyVKPfykR8wvF2kX3KNhjjSd4qQCzYBWDzY6RusuGONJvi4CxjpG6y4Y40m+LgLPguKwebHSL1lwzxpN8XB5sdIvWXDPGk3xcBZ8FxWDzZaResuGONJvi4R4y0jdZcMcaTfFwFoLguKv+bHSN1lwxxpN8XDPGOkXrLhjjSb4uAs/cArAWMdI3WXDHGk3xcPzYaRes2GONJvi4CzwBWLzYaResuGONZviwPNjpF6zYY41m+LALPAFYSxlpF6y4Y41m+LBHjLSL1lwxxrN8XAWeAKwebPSL1lwxxpN8XB5stIvWXDHGk3xcBZ+4CMVhLGOkXrLhjjWb4uMixfpF6y4Y41m+LALOAFY/NhpF6y4Y41m+LA82OkXrLhjjWb4sAs6EKwnjLSL1lwzxrN8WC82WkXrLhnjWZ4uAs+AVg82WkXrLhnjWZ4uDzY6ResuGeNZni4Cz9wCsHmx0i9ZcM8aTfFwvNlpG6y4Z40m+LgLQBir3mx0jdZcM8aTfFwFjHSN1lwxxpN8XAWguC4rAeMdIvWXDHGk3xcea8Y6RvcouGONJv3JCC0JjAzH5KM86bLRvpSh420G8hszUhLppI3EoUe+pCV3IjPfMrD9ZmMj0IJQZEEZAKGN+2DFnDMfwLTB0w5dHthxZwxH8C0wdONAuC4ACBhBgGgjAGAAg7AAAAAAABioZDFQCMNPf9zcO0v5Tgk4ugIx09f3Nw7S/lOCTU9AgGZBgIFgAAMIAAAYLgAIAdgCAGAAgWGQRgMPdEYasnsKz+01DwlLEn+6Iy1aC9RWf2if4RlgJOSYyGKQwAAMABADsCwBB2DCAAAAABhBgAYmNrqo+2XEPBNA+frI1g2eqj7ZcRcE4f8An6yGi3ZCtOvGXoOHO2ui/PmLLkK0a8f4rDnbXRfn1CCyxB2CIMUfPfROvnKjw/iHw3OHcmY4XROXOVHh/EPhucO5AFgWDAAVgBkAArBhhAABgAAWUBgAASlbw/ToLL11tcBTPp0MfmV0B+3QUXrqa4CmfTogDtNeqxUymdsdD+lkOEkL3/3F8Q7vXr9jKZ2x0P6WQ4R/o/uIB5GQModwwGJkAMADEyDAGARmAOwdgGNgWGQAGNh4zFc45/lr+QY9x4TS5xz/AC1/JMBPGp6frUw3wHS/oTIrcyv1dxXw234FpAsfqdn61MN8B0v6GyK2M+zuK+G0eBqSA6QzGJkMgWAYkQZEGGAxIgyIMIAAAEADBYMFgGBIGSQwAHo3P11UX9grZf0p/wBQubYUw0bH66aL+wVr4qeLoAKl8kCX7S+33D3/AFYtoQqZyQQt7Bnb7h7/AKwWzIAGQAAuAAAIwCUIGUO4AoWUFgyMMMHmpQqHqya7Eqt4lq9IkxWGISESpFDfbS5nmRYE92nyXHnFOrbWpbqCWhLbTWQkuEe051ZzhrOY2fp1AqsqI089LTDdbiNx2XZDypTydjHyNMocWrK64lRnlNKUpNSjSlKjKgtI0AYmwsWCakrZVBimSkQXoNKpso5cWHV23HqkqWpjbHKaZWSzNxTCfTBtmWVTlgE8VHWYxVVHK3NwzEpLtKoM1yn7nmplqqFYeiESp25VtLQywix5I2ZLhrWV1Hz2zTs8Y61NaqE+k0XD0ONDqc2jliCcddbkEmnRVWbRGVHZNtxUo31ElRqVlbIi5xWe7cW6Ocd1TBhYlpKqJU50uVVJlUw87DgvyoM5E47stvvtFlYWwpJKkJcNJoSZ2uRJUvd19dZomJ6Piqr02RLbnYZTRasVGiOy+V9QJ8pZ+gNreeOOpSUtJcI1pzErnjM0koM9I+uXieBR4hvUuFArh4nj4YknMZlLpUhL7EhxNQgml5l1Udam27KNx0kJJwueO2XvsdadcTYcpNTqteTQZqWtxMU9NKKbHQUmVIUwtVQXKcfJuM1nYXnbPMfPpsRmgzg/WlqtaxBh6JJqeHphxfNlFdiU6NClOVE6A0zKzSJ0ZtS3mXXmlLaMi2NlLSXO50KPtsFS6bCotZZwtgupkg1RpNRpVZhT2m6nFWvYSm4iai86l2Q3GJThR2yyqIiLItakJVRJeFdNmKIJTnq5T6fUabHo8mtMVagLUlha4zSnlU448qQ66t1xLa9nIQomzu0RkrMtTfNavesVi2qKo9TdhUabQqyt5DiaSt9U2ib6tgc11542nzRl2UlLbLakOX/F5SbXFGrfDlxq7V3MI0eqxMPqoTz6qZWW5MSG5iLMs2GYyZilLRnIm2nTZUaEJz5jSko9tPo1pqzxFQZWH8P1jD9SekK818Xc0uNQzYQizhejGcVzn9ocZUYkkrMayI1qzmEn4j1vMUyma1XaJCpKsPUKS9HNqbuk6hVW4KvVCRGdZc2DDZJI9hmbcO5GakrMjbL9OINb6v1Ot0em4Zbo6GKthljEqV1lmYt1s3X5LS46lQ5baCNBNNpMiQoiWTp7RRZSKLsOVGqYdw/X8GroVXlz5D1RYo0mHCckwZseqGpDb7kpPoUc4+0Nb6XVFkTl578LL5QdTeavEOHKbKKpx2YeAmoL9TpzkuOyxU0yZylMbuYJLasins2wWstqjIakWURAJGY19aqdHbkLiQG6nFxYzhKppLbOwVq2iUPyINn0OkRkotntlrJJkdycKxn0b2nrF8+vYhplHVhliNRZMeOg6o1UN0Ok/GS9c1MS0NnZWYrk2netvHYzOtsPRvUGMI0WkFR5yJ1Ixs0ifsYExe6W25Eh3lmStmvaRlN5EbpSo2CyJIlJJSEj9ekPRhRVYsxU/iTCuIKu2/Miqpz9Ph1Y2chRW0v2dhPR0OXWSSueexpOxlzxALMaSNYjEqq0eHaO3QW6jFozFUkuVNUrZzpDt0qjUxlp1pzZJWW+84tw0kqxpTlzKsPocxfMn0yJLn092lzXUHumC6aVKYdQtTarKSZkptzLtWzOyjbWjMSVXIqYa0VTgVN1hNdwrVVwl0uPNw/VqZFmrqsWU62lZwJqGDJyJIZWu5R5G0aNac1s6cybH6kLNaThelpr+35Zk28Tu6jzStiUh3cm6VXMze3LssxuGbtrbT0TaAJ0sEQYVxKHYFgAuFARAsC4CMAsoxNIzCMBiZDGwyMhiZCD0CMMgKEFCkF64MWcMR/AtMHTDmW/bBizhmP4Fpg6caAAABQGAAAAC4AgDuAIAB3CAQADGCxmMVgIx099CjcO0v5Tgk0ugIx09l7C8O0z5Tgk4i3iAZkC4RAAO4VwAAMBgAAAAAAAXCBcA7hAAAxvviMNWc/UVn9pqHhGWJPIt8Rfqy+wrP7TUPCUsBKKRkEgMAzIKwDMIAwXCuAAwrgAAAwgwAHYIAAMbPVR9suIuCaB8/WRq1DZ6p/tlxFwTh/5+siC3orRrxficOdtdE+fULLCtGvEXoWHO2ui/PqFFlyDIY3/ANQyAfPfRP8AgVHh/EPhucO5HDaJy5yo8P4h8Nzh3QAAEAwGRmEEAA7hAAQADCDIAABYABKIft0FF66m+Apn06IPwqMfv0E+2lvgOZ9OiAOy16/YymdsdE+lDg3+j3B3evYn1MpnbHRP6Srjg3uj+4hBhcFwAFAGAgAAAAAAFwgAGZgCAAB5Si5xf+BfyTHqQ85Jc6r/AAK+SYCdNTr2qYb4Dpn0NkVtj+zuK+G0eBqSLJanftTw3wHS/obIraz7O4r4bR4GpIDowBEC4BguEAAwgAAAYQYAAAAAMggAMAaNfbVRf2CtfFTxdAzFL9Gxeumi/sNa+KALoAKn8kC6GDO33D3xTBa5SrCqHJAj3sF9vuHv+sFr1EAiDE+t/heFIdiS65To8lhezeZckJSttZb5pUXuKK++XuDXc3HhDsjpXfSBX2hRiOZW7kXs5UPc/wDEgdAUVP5pdwQTFzceD+yKld9IAevHhDsipXfSBDxR09Iu4A2E/ml3CEgmMteHCHZHSe+2/rAevBhDsjpPfbf1iGzjJ6RdwY7lT+aXcFEyc3HhDsjpXfSAFrx4Q7I6V30gQ4UVP5pdwMoqfzS7hAJj5t7CHZHSe+2/rHY6NtPlErDjjVLqkKe6ygnHW4r6HVoQaspLUlJ3JOaxX6FzLpkK2bnSX+yXcIfn1cy9e8uxW9acbw1KAWd0laeqLRlNIqtThwFvpUtlMl5LZuJQZEtSSPokk1ERn0zHG83BhDsjpPfbf1iMNZVfrnp5HY/UKZ9PiDWE0npF3CDBMB68eEOyKld9IGKteHCHZFSe+kCIDip/NT3C+oG5U/ml3CFEv82/hDsipPfaA+bfwh2RUnvtAh7cyfzS7hBlHT+aXcIBMSNeDCHZHSe+2/rGXNwYQ7I6T3239Yhvc6fzS7hA2KekXcIBMnNv4Q7I6T3239Y/dQdcLC0p9mLGr1LekSHUMMMolNmt151RIbaQV+eW4syQlPRUoyIrmZEINNovzS7hDgdKqUk9h7nSL12Yb9wuuTQC92ONIEKmRlzKhKZhxWzQS35DhNtpNaiQgjUdt9SjJJF0TMxFxa8eD+yKld9IGm19Gy5Rs8OYf8MRBGyYafzS7gzBMha8WEOyOld9ICPXhwh2RUrvpAh7cyekXcBuZPSLuELBMRa8OEOyOld9IBzcOEOyOk99oEObnT0i7ge509Iu4EExlrw4Q7I6V322FzcOEOyOld9tiHtin80u4DYJ6RdwUTBzcGEOyOld9oBzcOEOyOld9IEP7nT+aXcGtxDDRsHudL8S97hfoliC6lDrbMllqRHdQ8w+02+y80oltutOpJbbja0maVIWgyUlRbxkZGP2GQijVIL1rYb4Ao/0BgSwYZgzAoABkUKa9sGLOGY/gamDp7DmW/bBizhmP4GpY6YbAAABABBgFACwAAAFgAAAAAAAwWMjGBiCMdPX9zcO0z5Tgk4j3hGGnw96jcO0v5Tgk73CFGaRlYYDK4gdgWAAxQAAQABcIMIAADAAVgWGQVwGNt8Rlqzl6is/tNQ8IyxJpdHuCMdWc/UVn9pqHhGWIJPIAEhihADAZAFYMiAGAQLAAAAABcABADEoxMxs9U72y4i4Jw/89WRrFGNpqnl65cRcE0D5+sgLe2FadeEvQsOdtVF+fULLEK1a75+hYc7a6L88oBZQgwgxR899FB85UuH8ReG5w7gcNop/BqXD+IfDc4dyAAWDDIBiAMAAsCwLgAAAAABhBhAMVj92gpPrpa4Dm/ToY/CobDQV7aWuA5v06GM5o7fXiT6m03tho30kxHz3R/cXxCRNd72NpvbBR/pBiPH+j+4viFHnYAAGKAADMIAAMMABB2AQYBWAGQQAHlJ/BX/gV8kx6jyk/gL/AMC/kmAnTU69qeG+A6Z9DaFb2fZ3FfDbfgWkCx+pz7U8N8B0z6G0K3s+zuK+G2/A1IAdCAgBgAAYACAAFxAAAAUIwEYDBYQAAwAFo09tNG/Ya18VPF0BS/Rp7aaN+wVr4qeLoiip2v8Ap3sGdvuH/imi14qjyQAt7Bfb9h7/AK0WuAUToP5XWuHKj8pA3w0FBP03WeHKj8pA34BADAARBgDAKwABGYAHhq5l69pfanG8NSx7XHnq5l69pfanG8NTAG21lk+uiBwFL8IRBrSG11lPbRA4CmeEIg1ZEIAMgEAUAAwAFYFgAAIyEf6VS9Gw/wBteG/CbQkEcBpU/HYf7bMN+E2QFgtfX2DY4cw/4YiCOWj3i94SNr6ewbHDuH/DEQRy10C94QZgsAFwBYAACgsAAQAH4MQ/iHv8l/5lY/eRj8GIfxD3+S98ysBYTVIL1rYb4Ao/g+OJXMRRqkF61sN8AUfwfHEsGIMgGGQRjIoU17YMW8Mx/A1LHT3HMN+2DFnDMfwNTB0xGNhgCuGAAAAAABAsIGAIAoAAAADILKMhiowEXafi3qLw9S/lLEoW3iEX6fi3qLw9SvlrEnkW8AyIgwg7CBhAAKAMKwYAAAAAAAIAwrgIIwC90v3CMNWUvURn9pqHhKWJOIt8RjqzewrP7TUPCUsBKCRkMSMZAAADMIA7gCAAAAAAYQYAAEYYBAjMbTVR9suIuCaB8/WRqzG01UPbLiHgmgfP1kPgt4QrRrxK9Cw5210X59QssQrRrxl6Dh3tron0gwwWWDIwB2FHz20UlzlS4fxD4bnDuRw2ir8GpcP4i8Nzh3VwAGEAAACAAYAgAGEAMAAAABgofv0En66W+A5n06GNesbHQT7aWuA5n06GIO215D9Tab2w0b6SYj9/o9z4h3+vN7G0ztiov0kxH7/R/cQDEIALCgDCDAAAAAFwBAAMFwgAC48pX4K/8C/kmPUebxc4v/Av5BgJz1OvaphvgOmfQ2hW5j2dxXw234GpAsjqcn608N8B0z6I0K3M+zuK+G2/A1JAdGAAABcBmEAAwgBgEGEAAwwgAAAAgBo0P11Ub9grfxU8XQFL9GheumjfsFb+KnC6ACp/JAjsnBnb9h74poteKockD6GDO37DvxTBa8yAUQoH5XWeHKj8tA35GNBQS9NVnhyo/LQN+RCB3DCIgwBcFwgCgMxiZhmQxAAw1cj9e0vtTjeGpg9LDy1c/bvL7U43hqWA3WsoXrogcAzPCEQa0bTWXL1z0/gKZ4QhjVgAjAYQADAEAABhAAMR/pTP0fD/AG2Ya8JsiQBH2lQvR8P9tmGvCTQgsLr5ewbHDuH/AAxEEcN9AhI+vh7BscO4e8MQxHDXQIBmYRAAQoYAg7AAxgoZDHKAEmPxYh/EPf5L3zKx+0fgxCfoD3+S98ysBYbVI9q2GuAKP4PYEsqET6pJ+tbDXAFH8HsCWDEGREEowAMZFCkF64MWcMR/AtMHTDmkH64MWcMx/AtLHTDWhWDuEQYoQYAAECwYLgAFgB3AIALgECGKxlYYqEEX6fuhReHqV8tYlAi3iEYae/7m4dpfynBKHuENBkQLB3DuAQAwrgAgAuAABBgAIFgwAFYBh3AZiDAuiIx1Zj9RWf2moeEpYk4uiIx1ZvYVn9pqHhGWKJOIxmPNIzEACwYBQrB2AAAABcFwAAFwAECwYACsNpqol65cQ8E0D5+sjWDaaqXtlxDwTQPn60ILdkK1a8H4nDvbVRPnzFlSFa9eA/QcO9tVE+fMBZMgwgxR899FZ87Uu2DEXhucO5HC6Kz52pdsGIvDc4dyAABgAIFgwXAAAwgAAMwjAAQAGAwWQ2GggvXS3wHM+nQx+BRDYaCfbS3wHM+nRBKO115fY2mdsNG+kmOAe6P7i+ISBryn6m0ztiov0kxwDx7/AO4viFHmCwLgAAABAGEGCwBWAGGAVgB3CAA83vwF/wCBfyDHoZjzkHzi/wDAv5BgJy1OfanhvgSmfRGhW9j2dxXw2jwNSRZDU6L1p4b4Dpn0NoVuY9ncV8Nt+BqSA6IFgwAAAA7gEAO4VwAAAACBYMFgCBYMAA0al66qN+wVv4qeLnil+jb21UX9grfxU8XQAVP5IH+Dgzt+w98UwWwFUOSBfg4M7fsO/wDWC14gojQvyus8OVD5SBvxz9A/K6zw5UPlIG/FACwYRmALAsGRguIMTIIZBBgCGGrn7dpnapG8NTBlceerkfr2mdqcbw1MFG81li9c1P4CmeEIY1I2+sqfrmp/AUzwhDGpMAgBgECDsHcFxQgBgAIR/pU/H4f7bMNeEmhIAj7Sn+Pw/wBtmGvCbQmYLC6+PsGxw7h7wxDEcNdAhI2vl7BscO4e8MRBHDPQL3iFGYxMhmEYgQyCIgXAMARmFcAjGuxH+Ie/yXvmVjYjX4iL0u9/kvfMrFFiNUn2rYa4Ao/g9gSwYibVJ9q2G+AKP4PYEsGIMrAMBAMZFCmz9cGLOGY/gamDpxzDZeuDFnDEfwLTB042AAQYABcAABcAQADuFcAAAAAYAMYmYFDFRiCMtPnQo3DtL+U4JOzbxCMNPvQo3DtL+UsSb7ndFGZKGVx5jMgBcAAWAAYQYADCBcAXBcIAB3GJmGEYgRdERfqzewrP7TUPCUsSfffIRjqyl6iM/tNQ8JSxRJ6SGRjFJjIQMFwBBgdwXAEKGEAAADAAAAMwBAGoxs9VE/XLiHgmgfSKyNWZjZ6qHtlxDwTQPn6yJot6QrVrwq9Bw721UT6QYsoQrVrxficO9tVE+kGAspcZDAhkRAPntop/BqXD+IfDc4d2OE0VdCpcP4i8Nzh3QBguAAoLguEAA7hAAAYRGHYBEAAACEGKhsNBHtpRwHL+nRRrVrGw0Dq9dLfAcv6dEAdxry+xtN7YqL9JEfv9H9xfEO/14/Y2m9sVF+lDgX+j+4viFHlcAZEAAiDAAAAAC4BgJQxAAdwrgIFgBceb/wCAv/Av5Ch6DF8ucX/gX8hQCcdTn2p4b4Dpn0NoVvj+zuK+G2/A1JFkdTr2p4b4Dpn0NoVuZ9ncV8Nt+BqQA6IFwrgIwDuC4QAAGEAAWDAAAABcAABcAAGOjU/XVRf2Ct/+nC6JmKXaNU+uqi8H1v8A9OF0DAVQ5IF+Dgzt+w9/1gthYVL5IGvewZ2+4e/6wWySoBRKgtmUutbxn6u1H3P/ABIG/Ij6R9wxK+LdSDC86XImyILxyZTpvyFtVWrRkuOmSUmvYxp7TKVGSSvkbTe1+iNV/Z8YS6hl8eV7ymAj7IfSPuGEaFdI+4YkH+z4wl1DL48rvlMH9nxhLqGXx5XfKYgj7IrpH3DBkV0j7hiQv7PjCXUMvjyu+Uwj5HzhLqGXx5XvKYCP8qukfcMI2z6R9wxIP9nxhLqGXx5XfKYf9nzhLqGXx5XvKYCPTZPpH3DH5NXW5Y2mXL/dON0eGpX1iTD5H5hLqGXx5XvKY7fRDqv0KhvvSaXEWzIkMpjuuuTZ8xZsoWbiWyObKkZE5zzGTeW59G9iAQxrJrM8T0+xdChTL73/ALwhjWEZ9I+4YnzS9qv0SuvMP1SK4+9GbcZZcamz4aktOqStaDOFJj50qUhKufzWMt6w4ZPI98J9Qy+PK95TAR/lV0j7hh5FdI+4YkH+z7wn1DL49r3lMP8As/cJ9QzOPa95TFEeZFdI+4YWVXSPuGJE/s/cJ9QzOPa95TB/Z+YT6hl8e17ymAjo79I+4YW/0j7hiRf7PrCfUMvj2veUwv7PnCfUMvjyveUwEd3PpH3DHBaT2lG/h+yT9teHD6HSqLaj/oRiwX9n1hPqGXx7XvKY2WGdRrC8SVGmMwHjkRHkSo6nqrV5SG32ju26TMme8ypbZ88k1tqyqsZWMiMQa/XyT6hscO4e8MQxHSWVEXQPuGLRaUtF1PrMNcCpMm/EcW06psnn46s7DiXmlJejOsvIUhxCVEaHE3tY7kZkIgLkf+E+oZnHte8piiPLH0j7hgsfSPuGJD/s/cJ9Qy+Pa95TB/Z+YT6hl8e17ymAjzf6R9wwWPpH3DEh/wBn3hPqGXx7XvKYZcj7wn1DL49r3lMBHRoPpH3DCyH+afcMSN/Z+YT6hmce17ymD+z8wn1DL49r3lMBHOU/zT7hj8WIUHud/ePeYfPof+xWJS/s+8J9Qy+Pa95TGDnI98JGRkcCUZGRkZHXK6ZGR7xkd6n0DLesIO21SvarhrgCj+D2BLBjXYeoLMRhmLGbSzHjMtx2GmyshpllBNtNoL3EoQlKSLpEQ2IodgGABkMihaC9cGLOGY/gWljphzCPbBizhljwLSx01xdBcMIMMAEGEFAGAAAAAAgAAAAxUYxUPQYLFEX6fuhReHaX8pYk0ugIz0+9CjcO0v5SxJpFvEKMiGRDEgyE0ZAIK4YBhAAKAIMABB2AHYArBGGMVCBJ6IjLVo9hWf2if4RliTS6IjLVpP1FZ/aJ/hGUKJNIMjGJBgMgAIMZAAACGgWAAAAAAK4BhBgAYqG11Ty9cuIuCsP/AD9ZGqG11UPbJiLgnD/z9aE0W8IVp14k+g4e7a6J9IMWWIVq14PxOHu2qifSDAWTIMgiGQD566K0c7UuH8ReG5w7gdk/qQZXpTkbEVYiNypkyecdtqkuNtOzZLkp5Lan6c67k2rq8pLWoyKxXMHMVyOyqt97UPyUA45Cg7jrlalEjsqrfe1E8ljzPUkkdlVb72onkwByhr94YqcHWFqRP9lVb73onksZlqSvdlNb73onkoQciSwZx2HMSPdlNc73onkoLmJn/cxTW+9qH5KFHIkoZZh1StSZ/sqrXe1E8ljDmJJHZVWu96J5MAcvmGKljq+YikdlVb73ovkweqNSaQX+9Vb73onksQcYpI2egZkyxQ2dujRJlu/oY6LmKJHZVW+96J5KHZaHdWPlVOVPdq0+pvblXCbKW3BbS0246h1Zp3HFjGpSlNo/DzWIt6w0NHrxJ9TaZ2xUX6UI/kFY/wBxfELC6dtDKK7CREXKkQjalxpzUiKTJutvRV7RoyJ9t5pSc3RSptRGIic1K5R9HFdb72onkwQcjnBmHV8xPJ7K613tRPJgwPUlkH/vVW+96L5MEo5e4Ljqi1JX/dxVW+96J/rSw+Yof7Ka53tRPJQ0OUuC46hWpU/2VVvvaieSx5lqVSPcxVW+9qL5LEo5k1ASodOnUpkn/vVWu9aL5MHoWpNI7Kq33rRPJYo5cBEOrTqUyeyqt960TyWPTmLZPZXWu9aH5KEHIkkeclREhf8AgX8hQ7BWpZJP/eutd7UTyWPNepLIMjI8VVqxkZH6WonQMrH/AHZ0jASLqeuetPDfAdL+hsitjK/V7FfDbfgaki5GjLR+3SqdBpjK1uNQIkeC245l2i0R2ktJUvISU51EkjVlSRXPeIhCuLtS8pFQn1CPXarAOoyEy348dqmuMk8mOzGzIOTCfdK7cdu5G4ZXv0LijgwyHXo1J5Bf71VvvaieSw1alUjsqrfe1E8lAOQuC46pzUpf7Kq33tRPJY8+YjkdlNb72ovkwQczmBmHTcw/I7Ka33vRfJgZakcjsprXe1E8mCjmbhGY6dOpW/2VVvpfk1E8ljPmK5HZVW+9aJ5LAcncI1jry1KZHZVWu9aJ5LCPUkkdlVa72onksByO0GSVjqeYgkdlVa72ovkwI9SOR2VVvvai+TBBzWjZReaqjdPldWz/AK00v9Rc6wr5oq1SCp1TZqj1ZqNRejxpMRluU3AbaQiWphTyi3JEjqNRnHbtmUZFY97fFgswoqfyQJrewZ+vHuHi7u7Ba5SRVPkgS97Bfb9h3/rBa8Tco+c8rR1Amz607Kiofd5czm9o4bhqyINBJSVllZKS3iIisQ9i0A0Xrcx3XfvR0dET6brXDlQ+UgbwyFHA8z9Ret7Hdd+9CPV8ovW9juu/eCQSGREAjvmeaL1uY7rv3oOZ6ovW9juu/eiRQAI5PV5ovW5juu/eBczrROt0f/i/eiRwgEau6tlDPo02Ofwv3g6TU+wTFp2MZ8eCwiMw5hmNIW03mJC3uW8lvaqI1KuvIkkX9wi/Wd+kNQ8NXP27y+1ON4aliD9OtzhmNMxHTmpbKX2k0WY4ltZryEvd0ROfKlSSNVrlc7mRGdrXO8dq0AUU/wC7o/8AxfvRK2syXrnp/AUz6fEGqIBHJ6udE62x/wDi/eA5nKidbY//ABfvBJJACiNeZyofW2P/AMX70eidXaidbmP+L96JGDAR0WrxRetzH/F+9CPV4onW2P8A8X70SLcAojo9XiidbY//ABfvRx+KdElNgT8OyocRuNJLFFAZJ5o3Cc2T09tt1u5uHzjiDNC0nvKSZke8J0Ee6VS9Hw9224b8JNAJ51/qclzD6GnCzNu1mgtOIMzsttdWipWg7GR2UkzI7GQr6jVyoh7/ACtj/wDE+8Fj9fIvUSPw7h/wvEEctFvF7wUR0WrnROtsbuOfeB8ztROt0f8A4v3gkcgCCOS1dqL1uY/4v3gyLV6ovW9juu/eCRACiOuZ4ovW5juu/eBHq80Xrcx3XfvRIwQCOD1daJ1uj/v2v3o1eJ9XOibnfPlbGMyYeMvxh2MmVmR77hlcjK4lsazE/wCTv/5D/wAy4AsZqoSFLwvhxa1GpaqFSFKUozUpSlQGDNSlHczMzO5mZ3MxKpiJtUgvWthvgCj+D44lkwGQRgAYyKFI9sGLOGY/galjphzSfbBizhmP4FpY6O4oyuGMSMMjDgYABAGEC4ACMwswZkMbCjIjDAkgxADFYyGCxRGOns96jcO0v5SxJvuCMdPX9zcO0v5Tgk4j3gDDSERDIAAAAZAGFYMXAXAAAABcIAoLjExkQSiAYke+Iy1afYVn9on+EZYk0i3xGWrQXqKz+01DwjLASaQdgkjKwBkGEQBA7hGYDCAO4ArBgAAdgCgIAAhNGJja6qB+uXEPBNA+frI1Rja6qPtlxDwTQPn6yGi3pGK1a8B+g4d7a6J9IMWUFateL8Th3tron0gwFlCMZDBIzsAAWAGKFYAAACwrHrw4cmyY9LaiGclvd6lzKK1UzpUysxkR3MzMOQhxpxbsVRplHHS4hLiUc8ospEdmxwOlrQlT62001PbWo47pSIzzLz0aVGetl2keTHW28yo086rIsiUm5GRkJooLp607srwphynUytz465Tk1RT6mZs1QjoTT6tyycuQlSV1E4kIkc8b6b/jLLUO4x3WW8UzMOurlzYLcvBVSrJrgz34i400jg5XFLZW2lw4ri3iInUqbUZHdNt4WmwLqtUSmyI8qJEyOxITlOYNb77yEMvP7pfXsnXFtqkyH/RHpaknIdPeU4Zbw5mtajOHZBMJdjPmiMmW0023OmMo3PNkqlyIjiGnkE7FW8s/S7mZom8qCTkSSQG91PcbyqnhmizpyjXLkQWlvOKIkqdUV0bZRJJKSN5KScPKkiureITGPwUKhtRmWo7DaGmGUJaaabSSENtoIkoQhKSJKUpSRESSIiIiGwIArB2BcFxQWAAFwBcIAADMVw16cPzpVKhsQHTzKq0NUqntzip8mswWydclUuJKNba0PvoTnIm1pUpLS98yulVjxxulTRFT61GTFqDG2bbeblMqS44y/HktX2UmM+ypD0d9vMokutLSoiUor2MwFHNCuIknU8FtQ59VdjprWKob8OpLcTKp5s0x13lPMu87urle4RbJ11bh2NNsuQiTDeJ8Wt3pa6m5WHoCJGP35CaZKlIkEUOelTDxqZfaPYxbEd1KNttBb6cpGQ+hZam1BKEzBRHkNExMeqbctmdMaqRTpJGmRLOooeKYp59B5HFKdPOgkpMrJSRbmgar9EinTjZhEnlVHnRIiTddWnZVIi3dt0rWopS5JlmcckbRalmpV7qMzD56VqVNcewzHq/L+oyXMEKkNtUGVKdkuTjnkmFKffhPE2sijqSl2W+tbOdSDcWozJQ/DrB1qdEcUisrqh1ZjB1EQ3Lg1FyDHgVqVMlRky57rUqNGyG4ptt55xLiDyK6F0rH0X0dasVIpT8aRCZeQ7DgvUqMbkqQ+TMF+VuxcdJPOLLKl62Q1XNtskoSZJIkj1xvq4UmovTn5kY311KnIo8slOuEhyG26t9tKUJMibdbeWbiH28riVZTJRGlJlBULHsiqPTcZQW6mTckl4KRsXqkuAzLW5EQUymwpRHaE7VDStCHI6UKcdWRHbMai4fEmIGuV1JgRSxO5lxm/Bn0ORUVs1SGpymvLRSY1QKQwb0JCibejvOy1bRBmZuGZi7kvVDobiZyXY7r3LFmnR5SnZUhbhlSmtlAdbc2hLZkMJ3ykNKQ6pZEo1GY1j2pDh9URuIbMuzc86tugqjPTOXPNo2N0uTkyClOLS0eROZ00pLoEQUVnxjo0Q5WINMN+u05mPg6qVdDKqzLOdEmlNacQciWzKc3Qtg3nEESnXmiTlIjMkptbzVQxvKqWG6JPmqNcqVTo7r7hpSk3XDRZTppQlKSN220slJJ57eIisOZruo9QZJRyfKpLVHjPQUunWKoT7kWQ8qQ9HkPplE9IaW4r8B1aiJKUJKyUJIpxoVCZisMxozTbEeO2hhhlpJIbaabSSG220FYkoQkiSSSKxEQD9tg7B2AKARprKOSuUNV3DOYp0s4bhR5sl1LDMdw7ESlvr51nNfIl0/xalJVvmREJLMaTGWDY1QivwpjKJEWS2bLzLhXQ4hXuH7u8ZEZGVjSoiMjIyIwHy7xep8qDW6VHfrtMqjtRwu0ukVGY5LOmyJ8hLW6oFWS6tyXFqCiUtRE4kkLSfOIz2HT0rS9UqxXsLzymONx2KfJoVQhNOLQ3y8boNSmVMnkJOy1MuJipSlZuEg20GWU7mq5VA1N6FHQpKWJLqly4E9T8mfMkyVO0xzawEHIfece3PGXzyI+bZXM7pO5jc4f1YqLFebfYh7Nxqpz62mzrxpOfU2FRZjy0KWaVk4ws20tKI2205cqU5U2Cj8XSPOisaNZDcuQbisM4omutm64spb8ehbZlT6DUaX1Nu3dSbxLspJ2sY7bVmqkCmS6DLfm1tE2r4VVWZ65Uh+TSqo8qOxNlSFLfkuJjyICSy5WWG0JaeQVyusl2c0eapdCpb65ESIvMbT0ZpuRJkSmIkeQo1Px4MeQ441DYeM+faYQhKk2SZWIiLkeYMoaWZLLKp7SZMVynJ9PPyCh06Q4hUuDT0SzfahR5aEGw7sEJcJpaiQtvnTTKK9YHoLlfn0imVOZUGoM3DkzGqiRNkRnHJ1XqbjjKVOsONGbVIiqZJtkl7NBON3QmxZ97CwKitVKPRqjX5VThUnCMaoRp0Ga7DTOmvy5DCqq4uLJVt1xkRGkt7R55CVm6asxuGLSaT9W+l1dMVMpt5tUNtTEZ6FKkQZDbDiUocjE9FcacOO4lCCWypRoVlSdrkRlpsVandBltQmVRno6IERdOjnBmS4Lm4XMu0huuRXmlvx3DQRqbdUojVmPeNSjOUUJw5rG1RqqYeqkqS87F8w8JdbQpThluaXVJlOVVdkkyb2seSuA8+7kzGxtTvYt7xwi47Om4cjyY2Ias0rAlNlnGo9SXFeKQqfNQuW8pc+Ehw1JIkGanFrVzu8ZJun6LSdWChLeW+cBsjXRPMubaVuJYKj5yc3GmOlZMoIlEWVxKCdSRERKIe2j/VvpFLkRpUOOtt6JS26GwpUh9wk09p5chtk0uOKSpSXXFntVEbtjsajLeFFG8cR1yam7TnJM5MV7SLGpy0szJLDu5Dw8lWxJ5p1LqEmss6iSorruro740FXxRLlbipLyqrVo1NxziLD7DUKeuNUpkCJTSfisOTlSo21diuOXU47IQa0MkRmavwrzYy1P6JO3Qb7UpK5FUTXFuMTZMZ1FQTF3Gl5p1hxC2rMc7kSok337X3x4VPU0oTkSFCJiSw1T5D0yM5FnTI0opUhJofkOS2nkyXXnkqUS3HHVKVc7mYoqdjDEbuHa9TnWzmRKPFw4w1XI1SmuSpUVmu1OazGdef2z6HHYdRW2lTxPLJpg1IQvKohpYui1idSdHEiS9UFPVd+NTqgpFTntFJjHFnSbLS3ISROm4RKN8iJwyIkmo0lYXbpmqpR20SGzakSClU1VFkKmTJUxb0FUiRK2bjkl1xxSkvSnjS4as6UmlJGSW20p2sPV6paGKLGSytLNAcbepiSecu0tplcdJuKMzN70JxZHtDVczv0bGA7nDeHW4kePFaNeyjMNRmzccW64bbLaW0bR1w1OOrypLM44pS1quZmZmZjZGQdwwFSuSBlvYM7fcPfFMFtEiqPJAy53Bnb9h34pgtfYBQ6gH6brXDlQ+U2N/YaDD6LS61w5UflIHQWAMBAIAgdwrgAKC4LgAYDAx5auft3l9qcbw1LHsQ8tXL27y+1ON4algN3rMe2an8BTPCEMakht9ZcvXNA4CmeEIg1ABkGEkMQALgAAAADFCEf6Vfx+Hu2zDXhJoSCI+0qH6Ph/tsw14SaEwWF18S9RGOHcP+F4gjhB7xCSde4vURjhygeFoojVst4gGVwZgjIFhRlcFwhkIEMbhmEAaTGuxIfpd/8AyH/mVjYDW4mV6Xf/AMh/5lwUWJ1SfathvgCj+D2BLJiJtUj2rYb4Ao/g9gSyZgMiCMBAMxkULR7YMWcMx/AtLHR2HOJ9n8WcMx/AtLHRkQ0AMggAMwg7AEgADFJjIAWBlAAUMggrgABjBQyMYqEEYae/7m4dpfyliTvcEaaev7m4dpfyliTfc7ooaRkMCDuAyAFcFxAyIAQYYAIAVwDDGIyAFgGC4xMwCL6hGerSXqKx+0T/AAjKEmF0RGerSfqKx+0T/CMoUSYQyIYEMiMQMALhEQUZEQLAuGYBAuAxgEGdwGMCGRChgsAADAxttVAvXJiHgmgfP1oakyG31UPbJiHgnD/z9aE3gt2QrTrxJ9Bw7210P6SLLEK2a75+g4e7aqJ9JAWRSMjGKRlcMEYaZdYCJRHITL7MyQ9UDklHahsbdR7lbQ68a+fQlBJQsjI1GV98ujYj4Tm1YnWmud5I8YHLa4bh8vMJl7hpxDf90CP9Y5xKCsW98YokwtdSL1prneTfjAObTi9aa53k34wI1NJdIv6/WCxdIv6/WAkrm04vWiud5N+MA5tKL1orneTfjIjWxdIu6f1h73SL+v1gJJLXSjdaK53k34yGeunF60VzvJvxgRpvdL+p/WDe6Xx/WIJJPXUi9aK53k34wFza0brRXO8m/GRHBGXSL+v1guXS+MUSPza0XrRXO8m/GAFrrRetFc7yb8YEbmRdL4/rASS6Rf1ASYnXSin/AHTXO8m/GBmnXUgktlL1Pq8dD8mNDS69EQltLst9uMznUT6jJKnXUJvlO1xF/wC74xxOlhZ7GHw3h7w5AAfQWZKJCFLVfKhKlnbfOySMzsXunYhXai68MCQy1IZptacZfbQ8y4mCnK404klIWm75HZSTIyvbeMT5iBfoD/8Aku/IUKC6AJXqDRSt0KVTy7kVov8AQBYdeuXGL+6a53k34wPFWupF601zvJvxgR2bl/cL+v1jAyLpF/X6wEjc2tF601zvJHjAfNrRetNc7yb8YEb2LpF/UFi6Xx/WJBJPNqRetNc7yb8YDLXRi9aa53k34wI1Ii6Xx/WArdL4/rASXzaEXrTXO8m/GAz10IvWmud5N+MCNLl0i/r9YN7pF/X6wgknm04vWmud5N+MBHrqxetFc7yb8YEb73SL+v1hERdIv6/WCJGPXYjdZ653m14yM29dOMf9z1zvNrxkRv8AuL+v1jJSyse98f1hFWd0RaVo9ahFOioebb28mKpuQ3s3W3oj6476FpJSiI0OtqTcjMjsOL0g608On1B6m7kqMuTHYjyXyiRkuIbblG6TF1rdbua9i5vER2ymNFqNK9RZHD2I/DU0RRpId9eFc4Jw/wDLq/1gJUc10Ypf3RXO8m/GR5c2vF60VzvJvxkRz0fcL+v1gyl0i/r9YokgtdSL1orneTXjID10o3Wiud5NeMiN7l0i/r9YLl0i7p/WJBI5a6UbrRXO8mvGQc2pG6z1zvJrxkRxmLpF/X6wZi6Rf1+sIJH5tWN1orneTfjIC11I3Wiud5NeMiOMxdIv6/WFvdIv6/WAkktdON1orneTfjIyLXRi9aa53k34yI0uXSL+v1guXSL+v1gJLPXRjdaK53k14yPNeurGL+5653k14yI4My6Rf1+sZJMukX/f7wEw6Oda+HUag1TUw6jFkPsvyGjlxktNrRGNonbLS6vfTtm94y3836hN5GKX6NUl5rKLYv7trnyqaLpAKo8kC6GDO37DvxTRa4VP5IGe9gzt9w9/1gtgYoohQj9N1rhyo/KQN7caDD2/LrXDlR+U2N/YBkAAdhnAAsGAaCsABhGIEPHVz9u8vtTjeGpY9jMeOrl7d5fanG8NSxRvNZb2zQOApf0+INQNvrLe2aBwFL8IRBqDIAyMMhiQYgysCwZAAIADCMNAI/0pl6Ph/tsw14TaEgDgNKf4/D/bZhrwm0GCw2vb7CMcOUDwtFEbNFvfuEk693sJH4doHhaKI3bLeIAxiMgiMMAQyGAyIw0CjGNwzCMUA1uJfyd//If+ZWNgNfiP8nf/AMh/5lYCxOqR7VsN8AUfwewJZMRNqk+1bDfAFH8HsCWTAZEEGQShkULR7YMWcMx/AtLHRjm0H64MWcMx/A1MHREY0MhnYYBkoAzCuAzCAALgAALguAABAIMAADMggGAjHT30KNw7S/lLEmX3iEa6ei3qNw7S/lOCSS6AAuMrjEZEAZDIYpIZGJoxuMiGJEMiMUCggGEALhkYxARgMwjMK4Qgaej3BGWrV7Cs/tE/wjLEmpLf7gjbVsR6isftE/wjLFEkkQyIYkHcQO4VwgXFBcMjCCIBkZhAMAAMMggAGAIBAEY3Gqj7ZMQ8E4f+kVoaUxutVD2yYh4Jw/8ASK0JvBbojFbNd8/QcPdtVE+kGLJkK267v4nD3bVRPpBiiyJDIYkQyAVN1wi9XMJ/4cQ/QYw55I6PXC9nMKf4cQ/QY45wgDBcAAAAIMgBYALgABGAFgAFYIzGQDAYGOK0rl6DD4bw94cgDtRxulb8RD4bw74dp4C+eJC9LyP8l75tQoBq/J9QqNwVA+itj6A4l/JpH+Q78hQoDq/l6hUXgqn/AEVoTR3xGHcOwCChWBYZACjHKAZBGFGILgMIUMAZB2EGJmPN7odz4x6WGDvQ/wC+mKJO1Gi9RpHD2I/DUwRRpHL14V3gvD/yqsJY1GvYaRw9iPw1METaRfbhXuC8P/Kqwg/aHcIIUO4VwBkAZEGAgDIRgDUERih2AFcK4ABcBBCg0Zn67KNwbXPlUwXSFLdGftso3Btc+VTBdMBU/kgKd7Bnb9h3/rRa+wqlyQL8HBnb9h34potaZAPnLL0pwINRrceU8pl7l1OcyKjyjuhZtmhSVIYUhSVF0DSoy6JdEjIfp8/2kdWf8vL8XFsa7rcYdivvRnqi2l6O4ph9BMyF7N1NsyFKbZUnMVyuV/dLpj8HNr4Y65p72meLgKtnp/pHVn/LzPFwHrA0fqz/AJeZ4uLR82xhjrmnvaZ4uHza+GOuie9pni4CrR6wVI6s/wCXmeLg5oGkdWf8tM8XFpubVwx10R3tM8XBzaeGOuiO9pni4Cq56wVH6tLveX4uAtYKj9Wl3vL8XFqebTwx10R3tM8XC5tbDHXRHe0zxcBVotP9I6s/5aZ4uOr1SsQszcYTZMVSnY6MMR4yndk82gniq0l027utt3UTa0qsV94/1HaeebWwx10R3tN8WAeuvhjrojvaZ4sAiPW5xTHhYip70pammlUWW0lZMvuJNe7oyshmy25lVlIzIlWuRH0jEcr0/Ugv/wA7/wAvML/pxaItdjC/XRHe03xYHNr4X66I72meLAKsnrBUfq0u95fi4R6wdH6tLveX4uLTc2vhjronvaZ4uHza2GOuie9pviwCrHNB0jqz/l5fi4fNBUjqz/lpni4tNzamGOuiO9pniwfNqYY66J72meLgKslp/pHVn/LTPFwHrAUjqz/lpni4tMeuthjronvWb4sFza+GOuie9ZviwCrfNA0jqz/lpfi456t6SIVRnYfjw3lPveaahPmhEeUVm481LzrilLZShKEJRmUpSiIiFxubWwx10R3tM8XGJ66uF+uiO9pviwDndfaQaaChwyUaWqzQnnDSlSzS01VYy3FmlCVKNKEJNR2I94hXvmg6QXRl29+NML444tKnXVwv10R3tN8WDLXUwv10R3tM8XAVZPWDo/Vpd7y/FwuaCpHVhd7zPFxag9dbDHXRPe03xYPm1cMddE97TPFgFV+aBpHVpd7y/FwFrA0jq0u95fi4tPza2GOuie9ZniwfNq4Y65p71m+LAKr80FSOrS73l+LjE9YSj+7NLveX4uLVc2thjrmnvWb4sDm1cMdc096zfFgFVS1hKP1anveX4uPzVnTxSFsPpTMzKNl4iIo0wzMzaWREXpfomZkRe+LY82rhjrmnvWb4sPNzXdwuRGZ1RJERGZmcWbYiIrmZ+lugRb5iDpNV6mLZw1h9l1C23GqHSWnG1pNK0LRBYStC0nvpUlRGRpPfIyMhJ6h+DD9eZlMMyY6ydYkNNyGXE/guNOoJba03IjstCiUVyvYx+9RAGAwEQDAfPmbiGO1iLFiHZDDSzq8ZRJcebbUaTo1NIlElakmaTMjK9rXI+kN4WMYfVkTvlj7wW+rWiKkyXVPyaXTpDy7Z3n4UZ11WUiSnM4ttS1WSREVzOxERe4PwHoEoXWWk8XQ/uQFUvNhE6ri98sfeDHzaQurInfUf7wWv84ShdZaTxdD+5D84ah9ZaVxdD+5AVP8ANnD6sid9MfeB+bGH1XF75Y+8FrvOFoXWWk8XQ/uQy0C0LrLSeLof3ICqBYxh9Vxe+WPvAebGH1XF75Y+8Fr/ADhaH1lpPF0P7kHnCUPrLSeLof3ICqB4yh9VxO+WPvAebKH1ZE75Y+8Fr/OHofWWk8XQ/uQecNQustJ4uh/ciiqHmzh9WRO+mPvAjxtC6sid9MfeC2HnD0PrLSeLof3IfnEUPrLSuLof3ICppY2h9WRO+o/3gPNpD6ri98sfeC2XnEUPrNSuLof3IXnDUPrLSeLof3IChemzE8ZfKfLKjHlrdNUq0hkySRG4Zmdl7xEXRM94SN5rofVkTvpj7wWwToJoZf3NSi/8uh/cgVoMonWalcXxPuQFTTxlC6sh99R/vAebWF1bD77j/eC0R6J8Olc+VlFsmxq9JwOduZEV/Q97fMi37b5l0x6P6HKAn8Kk0dNjIjzQIRb6jskt9r/aPeLpn0BBVksbwurInfUf7wHm3hdWQ++o/wB4LVHoWoBKSk6RSCUq+VJwIRKVYrnlI2bnYt87XsQylaFaCgrrpNIQVyK6oEJJXPoFc2iK/wCoBVHzcwurIffUf7wHm6hdWw++o/3otgrQhQsuY6RSMts2blfCy5eje+yta2/foDwkaG8PoSS1UqjJSq2VSoMFKVXK5WUbREdy394BVY8cwurYnfUf7wHm5hdWRO+o/wB6LWnoRoV7cp6TmMsxFyvh3NPTItje36+gPNWhmgERK5U0ciNWQjODCIs17ZSPZWzX3rdG4UVW83ELqyJ31H+8GRY1hdWQ++o/3gtM/ocoCN5VKo6TsR2VBhEZEo7Ee+0XRPeLpnvBHokw8R5TpdGJRXuk4UElFbfO5G1crFvnvbwUVc82MLqyH31H+8C82ULqyH30x94LWI0NUE7WpNIO6doVoMLfR+eXoX4P/i6H6wz0NUK5FyppN1FdJbgh3URdE0lsrqIujcrkAqj5solytLifuksfeCNtW/GUZNGYJcmMk9vO3jfaI/ZCVbeNd98rH7xi/XnG0M/7mpXF0P7kYK0CULrLSeLof3ICqBYzh9Vxe+WPvAebaH1ZE76Y+8Fr06BKF1lpXF0P7kZecNQ+stK4uh/chRU4sawurInfUf7wHm1hdWRO+mPvBbLziaH1mpXF0P7kHnE0PrNSuLof3IlFTvNnC6sid9MfeA82kLqyJ30x94LZHoKonWalcXRPuQj0E0PrNSuLof3IUVN820LqyH31H+8D820LqyH31H+8FsfOJofWalcXQ/uQecXROs1K4uh/ciipp45g9Ww++o/3gCxvC6th99R/vBbPzi6J1mpXF0T7kLziqJ1mpXF0T7kBU7zawurIffUf7wI8awurYffUf7wWz84qidZqVxdE+5CLQTQ+s1K4uifcgKlljSH1ZE76Y+8HV6olRbcxHiBTTjbqeVNALM2tK0kZSK1vGaDMr2Mjte9jLpixB6B6H1mpXF0T7kb7DOBYUIllDhxYhOWNwosdqOSzTfKayaQjMabnY1Xtc+mYaN6kVs13vxOHu2qifSDFkyFa9eD8Rh7tqon0gwFkiGRjFIyFFTtcL2cwn/hxB9BjjnU9AdHrhF6t4U/w4g+gxxziegAYAAAAAyAALABcMhAWAZBhCDEyAGoghoYmQ4zSv+Ih8OYd8OQB2ZjjNK5egQ+HMPeHIAC+uJfyaR/kO/NqFAdX72CovBVP+itC/uJj9LSP8h75tQoHq/ewVF4Kp/0VoTR34YRAEDAAgAFcK4YQYGFYMgGAAXCCFDGD/QP/AL90ZXGL3Q7nxiiTdRn2GkcPYj8NTBE2kT2417gvD/x1US1qNew0jh7EfhqYIn0i+3Cu8F4f+VVgH6yDAGAQYAXAZWAAAyAwrAAKAIyGQAGAZBmEQBaNPbXRuDa58dMF0hSzRr7bKLwbXPjpgumKKo8kBPewZ2/Yd+KaLXCqOv8AlvYM7fcPfFNFriAUQoJnuutlc/Z2oe7/AOJH+o321Ppn3RoaGfputcOVD42xvRIMtqfTPumAnT6Z90wrACDInT6Z90xkTh9M+6Y8yGQsGe0Ppn3RjnPpn3TCAJAGs+mfdMI1n0z7oZmCwDHOfTMI1n0z7phqIIwgeY+mfdMBLPpn3QB2APaH0z7pgzn0z7phWDIShGs+mfdMLOfTPumGZjEaDNZ9M+6YNofTPuhAsAec+mfdP6xkSj6Z90wiIMQPOfTPumDMfTPumEAgDzq6Z90wjcPpn3TAEYQM3D6Z90wtqfTPumMTAEDNw+mfdMazEij3NI3z348guj/7BwbIa7En5O//AJD/AMy4AsdqrPZsMYdV+dQ6SruwGDEpmIn1SfathvgCj+D44lgxQ7hkEATAwADFCDAAAACAAYQAWAAAAAAABgEGAABDW4iP0B636Jz5Chshg6ySiNJlclEZGR9AyPeMj/UZbwD4vU3Rg61oxmzDw9T2drAZNNeYlE5UZaDxNCd2MiIUUlttoaQeZw5ThJTFbPKklWbsZrMLbVU6+sloUlLOjtRqJSVJK9fevcyMyLnTJXR/BMvcMXvh6MKc3AOlIhRk002lxzgkyjcpsuGo3G9jlyZFmpRqK2+ajPojk6Pqr4cjxJMBmi09EOYppUqOUdBokGwvaM7a5GpwmV882SlGSFXNJFcwEI6w8xvzf6P150ZCRiZJrzJyko6YRERqvYjMztbo3MbLkj7JO0GI2bTEgl1+iJ2MheSO8S5ZFsn3CSvIy4R5HFklWVClHY+gcnytT3Cy2GoyqDTFMMLedZaOMjI24+TRPLQXuKcJlolGXR2aOkOsrmhalSYLVMkQIr9OYJlDMJ1pK4zaY5ZWUpaPnSJpO8gugRCUfNLC9KaJmLQ5xNsUxWkoo06mMSFvUllt2AcqHTmJKlkcmE9JTtlMuIYTt73YSpJKPr5mCKY/NjUUmmH6DG0iyIceGZk5Eabdw+5KlxW98yJtuorkHsiVZpzMkiTlyletjVwoKKe7SkUinopr7m2ehIitJYce5yzy0kkszydm2SXTPaJJCCJRElJF+aXqv4ecgM0tdHgKp8d05DMM2E7FD5pUlTxJK13VJWsjcUZqMlHcwooklcun4bZrNHWS10TEFdw5SVOPLdQ7RKpNcpsZgn1LeN1mJN3E+wtW0PLGJKTQla72j0sau5RcCO0WAkzkUumMyYakJIluVGmZJrbxJLnTdflsZzI7oUtwyMjSZkJte0SUxUFqmHBilT2TZU1DS0lEdtTDqXmTQ2jKlJtvJS6Rl/tlm3zMzHVuNkZGRkRkZGRkZXIyPokZdAyP3Qo+W2OMQprdGxBiss6mapWsKUyES05SRDpsmCb5NkoicIl1B+SleciJRsJMisd1SRoa0SMTsTYpeepNHko80VQjHUZMtbdUj7WmspNqLEKKtD7Sje3zXKa/Gvc6ZoLNclrQZR009FKTTYiaah0n0QkspTHS6l7dBOE2mxEon/RC/wDF3Bry1bKDyw5a8qYJ1Lbbq3bsEbp3R0dttLXz3933Ao+RFTxnPbjOPJaW8tulPaI2mkpSSlySLaJfNSl2JDpLcQls+eSZFv2LesXpt0cQYFYnS5BQ6vDiS8MxHlMyXIuIcLLbTFap6YKVZmlxJLpk+bbJNKUS3TPMpBuFfdzQDRDJRHS4Rkqo8ulXYRv1Tf8AT5735Tvn6KXPb59MeeJtXihzZ7dUl0qDIqDRtm3LdjtreSbRkbKjUZc8pqxbNSyUaLJsZZSsokJKBmERB2DAwAAKAIFwAAFwgwAAFgAEGAMAAAEAAGAAAFateE/QMP8AbVQ/pIspYVs14E+gYf7aqH9JAWSQQdwkjIBVDXB9m8Ke9iD6DHHNpMdLrgezeFfer/0GOOaT0AGQQAAC4LAIhlYSgAAAigACIMEIwhkMDIUYqHF6V/xEPhzD3hyAO0UOL0r/AIiHw3h7w7AFF9cT/k0j/Ie+bUKA6v8A7BUbgqn/AEVoX+xKXpaR/kPfNqFAtX/2Co3BVP8AorQCQCAAyCGQwGYAjMUO4dhgMiAAAGATAAACwujAYvdA/wB3xjMhg8W93PjFEn6jXsNI4exH4amCKNIpevCu8F4f+VVhLGo0XqNI4dxH4amCJtIntwr3BeH/AI6sA/aGQxGSTE0BjEZGQxFDIMIgxlQGAgBiAFwBGNAMIjDGIgx0aF67KLwbXPlUwXUuKV6Mz9dlF4MrvyqWLqEKKpa/rdywaX/x7h4+4mcf+gtYKqa/h72DO33D39UzhawBQ+g/lda4cqHymxvxoaCXpus8OVD5SBviGQ7AsAjAKAiBcAAoLgGJmGRgGABBgEYxGRgsAxIxlcYmEAzCMwiUHYAjCGVgiFAQaQgXAZhGYxIwGYkDJQyuMAXFDMIAAAAFgAAa7En5O/8A5D/zKxsRrcTH6Xf/AMh/5lwZFitUr2rYb4Ao/g9gSwYibVJ9q2G+AKP4PjiWTFDAQAxAEAADGgACsAA7gAQLgGAK4DAAYxuFcBmEFcLMAyAMcweYAwBZgZgDsCwVwZgDsCwWYGYA7ACuC4BmQArgzCQOwLBXAZgHYAVwZgDsGMbguKMggrgIwDBYK4LgGALMC4DIAxuDMAyAMTMFwDAFmARgHYAWYLMAzFateH8Rh/tqof0kxZQhWvXh/EYf7aqH9JAWTSYZhEYAFUdcI/VvCn+HEH0GOOZIdPrgJ9W8K/4cQfQow5lHue8AZEGGQCMAJIZBAGNAAK4LjUDDGAZKCBmMTAZgFCMhxWlf8RD4cw74cgDtTMcZpW/EQ+HMO+HIAC+mJfyaR/kO/NqFANX8/UKi8FU/6K0PoBiT8mkf5DvyFD5/6v3sFRuCoH0VoQSBcAVwChmEC4CAOwYYBKEZAIBhXAZEAwDEwAPN/oH+74xncYO9A/3fGKJP1GvYaRw7iPw1METaRPbjXuC8P/HVhLOo17DSOHsR+GpgifSL7cK7wXh/46sA/WMyIYjMhABGQdwGAxsAZXCMAZgEYxDCB3AEGQAMYkGZgFHnozP120Xguu/LpQusKVaM/bbRuC678ulC6oCqev10MGdvmH/kzhasxVXX46GDb9nlA7uSfb+thakBRGg/ldZ4cqPykDemY0NAP01WuHKj8tA3+UQIMjCDIBlYAAGYmhZQ7BZgZgDBcK4BQAAQYgwMFgwDQA7jG4eYAzAYxAAAAsAAAsGQDAKwdghkJoMoCIO4AAYxMxkGcdWXPY8pqy39zMRXt3AHmNdif8nf/wAh/wCZcGxGtxH+Tv8A+Q/8y4H0WI1SPathvgCj+D44lozETapPtWw3wBR/B8cSwoBkQYRBmYCrdW1xZ20lS4dBenYfgVE6TKqMeTnnKebfKLIeiUpDC3ZMaPJWltSidS4pBOOJQaEXM0ia402O/WV0+guVCl4cc2VZmnOYjPJU2wiTKKBFWlRydxx1k47tXY+axkjPvGfK4KwRjGhFMolIp9PciSKtJnw69JlEbUOHNlHJkNyqYWWRIkskpbLezfQhwzJRmgk2V+TFeiPE8NzFdNp1OjTIeKZT0hiprnNsFTd3wm4UxUqK42p102SSbjSWTcJwiTexmaSCe9GesSxVKpLgR2szDFMpVXYmE5mTKYqqHXGrNZCyZUNkrNnVmz9BNt+M8d66sqO9V3oVBen0fD7xx6tUUzY7LpOoabdkFCiLSZySiIcI3s7rHu5cw57CmiWu4ZqbrlKpCa1EPD9DorLjlSjQF7WktSG1KdS424dnc6DM0osnfsSugWnruhzE8eJieiQqXGkRMSyJU2NOcqDTSKYurMoKotTGTaW87sJCnnGVME8TpKIucKyUh2mk7XZlw5U1MChLqkCm0qJXps5uoRo5ogS0OOpcaYeSRuqS0y8vIhZmomz6BqQSrH6P8bMVOBDqMY1HHnRmJjOdOVezfbS4jMk+gokqIjL3DuKO6WOR4PzeWTTKnG9zYbodKob+7FNsvyaYiQl5mbHJSkutOpJhu8lpxCScWpO+SjF3NGTbqadBQ/FRBeREjodhtrQ43FWhtKVMNrb5xTbZllQpPRQRbxdAqOmIIzBcOwCuWnSQoqgZEpRegNbxGZfn+5cR8ctf56/4j+sd7p3L1QP/ACGv/wDYj0kgMzkL/PX/ABH9Ye6F/nr/AIj+sYgAPdC/0i/4j+sPdK/z1/xH9YxCAehyV/nr/iP6wt0r/PX/ABH9YwAAz3Uv9Iv+I/rBulf56/4j+sYWAAzKSv8APX/Ef1h7pX+ev+I/rHmAB6HJX+kX/Ef1gKSv89f8R/WPMAD13Sv9Iv8AiP6wt1L/AD1/xH9Y8wAPTdS/z1/xH9YW6l/nr/iP6x5gsA9N0r/SL/iP6wbpX+ev+I/rHmGAzOSv9Iv+I/rBuhf6Rf8AEf1jCwAHoUlf56/4j+sG6V/nr/iP6x53AA9d0L/SL/iP6wt1L/SL/iP6x5gAZ7qX+ev+I/rBulf56/4j+seRmGA9d1L/AD1/xH9YN0L/AEi/4j+sedgWAehyF/nr/iP6wFIX+ev+I/rHncMB6G+v89f8R/WFuhf56/4j+sYGYQD126/0i/4j+sbrA8he7YvPqP0wyW+o/wA8v1jQXG8wN+Wxf2hn5aQFtSFbNeAvQMP9tVD+kiyZEK267xegYf7aqH9JAWRSMhgkt4hmAqjrgezWFfer/wBBYHNI6BDpdcE/VrCv/n/0FgcukB6AGNw7gMswLjEAADCuHcABEC4dwAEZhhKMBjccbpWP0CHw5h3w5AHYmOK0rK9BhcOYd8OQAF+cSH6Xkf5LvyFCgOr8XqFRuCoH0VoX+xH+TyP8l35ChQHV+9gaNwXA+itAO9Ig7BgAIFwzCAMjBcIIAzMADAAAAsAgCsMHT3j/AHfGPQeb6d4/+/dASfqMew0jh7EXhmYIp0je3Cu8F4f+VVxK2ox7CyOHsReGpgifSOfrwrvBeH/lVYQftGQwIwyMNGQAAuALhGGYRgFYMiCDzAAyCuGYQoArgAQBaMfbbRuDK78ulC6gpbovT67KPwbXPlUsXSsAqtr7IuWDe3ygH3G55i09hVnXzK/mN7fKB83PFqLAKH0D8rrXDlR+UgdANDQS9N1rhyofG2N8JoQCIMFxKAxiagGYQoABh5RQhkRhWCEDuAzCARhwALgsCwoQYYZCDEADCFGVgACEGREGYRAMQIyAYCAYoRmGkwrD9tIppOqym4hv9aztf9Re4Z/vIUeEdg1KJKSupR2Ii90xIb2Fi3LsStmLnyP3Dc3z7h3NPvD9dDw22wV088sy31n0f3F0El73R6ZjaiCGXWjSZpMrGRmRkfuGXRIanE35NI/yH/mHBMddww29zx84si/DLpf+IugZdw/1iKMcU8m2ZCSWhz0B/fQdy/Eubx9I/eMwE/apHtWw3wBR/B8cSyoRNqk+1bDfAFH8HxxLCgDDGJGBRCCntS185cdubUZNAWVCp9XkUaXUmagw46ypiaUHdBw1ttuKbN1TdyQpaiJfQMiMxIlP1t4rmK3cLkw4Sm4+Yp5naOuZsGpZwUXQRKdKG6T5mlarERkaSsdog0R6jEVwqrLrkCW5JVXqpU48M6o4UKWwcxUqAtyIzKOGec8hmmQlJ3L0VNiMhw0fVcxaUKNXDePlyjEhYmeoKUU3NtXX0xHmU1bdKEKaKkESTaW4aVknKWVRkRBbzQPp9TW3K22mOqPymrU2hKNThL26oeUlPkRJLIlZnvIM1GRW3xG2hPW0q1dQiTFoLBQlvTI+2XV2ieJUQ3W7nGOOS8q3W0ouSt5KzVvkmx8TofYxRRqrXUN4VclQKzimTUt3HWKZHSxBkmhlUjc+1ekOKSlG6SZNLa1JPLZCiMhxWqDoIqVDqEdMnBLe2TOn5sTct6eTqIkpb5trOC2t11dmlIZ2ZqzElRnzppyhRLuCdbiuzavNo5YZbRIpiofLBXLdlSI6JzanWXEHudJvJJKTzEjnkn7hj2wBrRYim1iTR14chtO0/cK6k4mtE4UdmcTim3GSOCjdCkpaWakXbMjsVzuOi0Q6L50fF2K6m/G2cGos0VEJ/asK26ojDyZFmkOKeb2alpT6M23m6Kcxb4/fou0ZzY+LMUVJ5g0QqhGojcN/aMq2y4jUopBbNLhuo2anEJu42glX53NYzIOX1Xtaqr4kZgzk0SLGpktT6VP8t0OyWtgp1pR7j3I2pZG81kI9onnFEq3+yLSEPnXqDaDa1QXadHn4HYjvoOW3KxMVYprkhLL6nnkJVDYU664kvQotkuqsREvnbGkfRQzFFctOxeqB/wCQ18axHgkbThCcVPM0tuKLYNb6W1KK/P33yIyv+ocAmlPfoXvgl/ZFHgAx+nlS9+hd+Cc+yDlS9+hd+CX9kB+UA/Vype/Qu/BOfZD5VPfoXvgnPsgPyAH6uVT36F34Jf2QjpD36F74Jz7ID84B+nlQ9+he+CX9kHKp79C98Ev7ID81gh+rlW7+hd+CX9kHKp79C78Ev7ID8wQ/Vype/Qu/BL+yDlS9+hd+Cc+yA/KAfq5UvfoXvgnPsg5VPfoXvgnPsgPy2BYfq5VPfoXfgl/ZByqe/QvfBL+yA/NYA/Vyqe/QvfBL+yFyqe/QvfBOfZAfmAP08qnv0L3wTn2QuVL36F74Jz7ID8wB+rlQ9+he+Cc+yHyoe/QvfBOfZAfkAP18qHv0L3wTn2Qcqnv0LvwS/sgPyWARD9XKl79C98Ev7IOVT36F34Jz7ID8wB+nlU9+he+CX9kLlU9+he+Cc+yA/NYA/Tyqe/Qu/BOfZAdJe/Qu/BOfZAfmAP1cqXv0L3wTn2Q+VD36F74Jz7ID8g3uBfy2L+0NfLSNbyqe/QvfBOfZG4wTTnSmRTNp0iKQ0ZmbayIizp3zM02Iv1gLXkK3a7Reg4f7aaIfckGLHpMVv12z9Bw/200Qu7IMv9RBZBIyMYl7gyAVM11zcaqOG5hRZsiPGVWUPKhQpM5TSpERlDOduI064klqJRErJbePfIRMjSu1b8grv8vVvxEfQuwLAPnt56zXUFd/l2t+Ih+eq11BXv5drfiI+hFgEQD58FpVa6gr38u1vxELz1muoK7/AC7W/ER9CLBAPnx56zXUFd/l2t+Iheeu11BXf5drfiI+hBAsA+e3nstdQV3+Xq34iF57jXUNd/l6t+Ii4GnTTYzRGI61R5M2VOlt0+BAhpSqRLlOJUskJU4pDTSENocdcdeWhCEIPfMzSlUf4I1x4c1+mRdwzo0uoVKoUZ6NIJlLlOnU2Ocp5uVlcUlSXGMrjS2DcJaXGzPLc7KIBLSy11BXf5erfiIZ6VmuoK7/AC7W/EBYLTFrgRqRNkwk0+o1A6fCRU6s/CQybNMhrNeVx83nmjcVkQt3ZMEtezSoyI8pkWkx1r8U6HLkx2YNRqDFPZpkipzoaGdhBaqxNqhKU2663JkZm3W3XNzMuE2hdjPMlxCAhfz1WuoK9/Ltb8RGixPiVU44MaPT60biqzQ3fRaHVmG0tsVeG+84489DQ02htpta1KWsiIknvi1dC1pnJdTlU+HQqrKZhVJNKl1FtcBMRhwyZWt1SXZaJJtNMvodVlYUrLciJSudEgaR9LbNMkUmO6064qr1AqYypvJladNh6RndzKI8mRhRc4SlZjLetcyDqMQoM2HyIjMzZdIiLomZoVYiL3TM94fNbRFjo4lKpsV+nV5D8aBEjvI5QVhWV1phCFpzJhmlREpJldJmR+4LRVXXljEtlmNSKnOkSKtV6KzHjbj2q36Mfpl30aS0gmlpzKbM1koyTYySakkfaU7WggvYdlYjaZlHHhMy3ZMRaEtzGXYJrTKirQpezJ9paFJ3nDQqxGSjIyMTMgq0Wl1rrfXv5erXiIzLS611BXv5erXiIlqpa/8ACj02pzplLqkN+lMU+Y9T30x90PQqnIajRZcZxD64zrRuO2WRupWg0KI03Ir7nE+ttLhU6TU5WFa4wxFLaPJU5TDWlgmluKk87NUk2kZSSoiUbhKWmzZlcyog3z2meoK7/L1b8QCPS211BXf5erfiImTFuvZFplFi1uq0upQGZk1mHGjuHFekOsvxt1pnJKO+4jcxNZ8xGonSUgyyXUgldnpY1rYlIlSYj0aS8qNQpeI1OMm1s1xobiG3GkZ3Eq26jcSabkTZl0VkFFZz0st9QV3+Xa34iF57TXUFd/l6t+Ii0ukbWaj0+n0uZuWVJerTsWNToLJsJfekS2TfQ0p151qM1lQR5lreJN95OczIj6HQnplZrcRUppiTFWzIfhSYstBIkRpUZeR5lzKam15TsZLbWtCiMrHcjIm6KclpZa6grv8ALtb8RD89lrqCu/y7W/ER9CCIFgHz489lrqCu/wAu1vxEPz2WuoK7/Ltb8QH0GIgGQD59p0rtdQV3+Xa34gMj0qMmVtw13+Xa54gPoERAMBAepFBcRRFqcZkR9tV65KbblR3or2xkVWW8ytTD6G3UE40pKyJaEnlMt4hCGnKeuHiurPuw6m4zKptFQw9DpVQnNLXHVUtsg3IkZ5CVI2zZmlRkfP8A6jF7A7Cj57npVZ6hrv8ALtb8QHn57rPUFd/l6teIj6GWESabNZGn0KVRokzObtanJp8fIaCJs1ZUm+7nUk9kla2mzNBKVmcTvCCpxaX2eoK7/L1a8RGXnuM9Q13+Xq14iJ/0w65EWkzpUIqfUZ6aZHjzaxKhoaWzS40nMbbj5OOIcdPIg3lIYQtSWiUrfNJpGvxzrwQoUqQ2iBUZkGAuC1U6rGQ1uKnrqBNLY2iXXW33SQ08288phpZNIWV7qJSUyiED0tt9b69/L1b8RAWlpvrfXv5erfiIsFQtbvdVQmw41Eqr8enVBdMm1NCoJQo62iQt15ZLlJkmy20tLpmlhS8u8SVK50anC+vpTXiU7Jh1GBDcp06sU+ZJbaU1UoFOLNKejoYddebUls0uJakNtOKQtO8R86LRCXnuN9b69/L1a8RC89tvrfXf5erXiIm2ha8cNUeZJnUyrUtuLTY9Za3U0y6U2HKcJqPuZyI++1uh11baCjOrbcu4R2MkuGj89a17osODWJNQpVUgyqM3BkyKa+UU5TsSoSERo8phxuQuMtvaLMnE7UltmhRGRnluohk9LbfUFd/l6t+Ig89prqCvfy9WvERObGvNCJElMinVGJPhVSmUiZTX9zbojrq5kUKQa2n3GHI7hHmNTbqlkRfg76M37MKa46Jkialui1VMCnTahT5tXWcIoMddNznJcURSjkm2SUEaTSwZnnSViPNZRARaWWfdg10v/wCPVvxEehaW2Ooq7/L1b8QFitB+tnHrUtuLyvqFPVLg8tqY7MS0bVSp5LQ2qQwthx0mjQbrRqYfNt0kuoPL+ESZ7yhRR7QLW1TMUU51qHU22Y9Nq5POy6XPgtJU+unbJO0lx2UqWvZuWSk1HZB3tvXvGMbhgKp6+7tvMb290D+qJ5C1WfeFWNfNi/mN7e6D/RuoGLUkkB89qli7cNQrDL8KrmpdYmvpUxRqpKZW06aDbW2/HiONLJRF/srOwy895jqGu/y9W/ER9BgAPnyel1nqGu/y9W/ERj57rHUNd/l6teIj6EWBYB89z0usdQ13+Xq14iDz3WOoa7/L1a8RH0IIg7APnt57zPUNd/l6teIgLS6z1DXv5erXiI+hNgiIB8+PPdZ6gr38vVrxEI9LbXUFe/l6teIj6EhAPnx57LXW+vfy7WvEQvPXa631/wDl2teJC1Gs/rMQ8K0w6nNbdeQb7UZthg0E86t0zMyb2ikoM0NpW4ZGZc6gx+HS/rRN0xyHFi0+bWJ02K5UW4kDZEtEBnJtZbjj622ySRrShCCUa3FnYi6JgKy+ew11vr/8u1rxEYq0ut9b6/8Ay9Wf9YQmmqa/EJTMZ2m0yq1Y3aSnEElqGiOlyDTjWpvO8T77SXH9o26hMeMby1bJR7xKbNf6E667UmYUWk0Wq1kjgU+qG/D3I0hMapINyOpaJkiO6lWUjzJymaTI72sAgzz3m+t9e/l6s+JDLz3Wut9f/l6s+JCfaTrmw36imG3TqmqEqqPUEqwTbJweWcdtS3WDQTxzEtpNCm90LjpaNZXI8nog12ANeynznmz3BUo1Nkpqa4FYeaaVBmJpG0OYfoLrr0ayGXVtbqbZ2pIMiss0oMIULS611vr/APL1Z8SGXnttdb6//Lta8SEyYU18I7zW2k0mpwGn6TMrtKVJOKfLWFCaS+9sNi+4TL2zW2tLcg0EpC0nm3yGuovJEYSo8l+VSarBU1RE4miNPlGVywpSlIST0Zxp9bSV8+gzaeU2oiV+o7BFh6W2ut9f/l6teJDA9LzPUFe/l6s+JCfS1xFPVN+lwaDVag5Fapj8p+OuClmO3VGEyGFL20ptwySk1kvKg7G0u1yymr9OE9cBqZU0Q26VUygPTZVKjVk0IVCenQ1OIeayIUp9pvOy6hL7qEIUpHuEZKCivJaX2eoK7/L1a8RDPS+z1DXf5erXiI+hRJBlAfPUtLzPUNd/l6teIjLz3Geoa7/L1a8RH0IsCwD57ee6x1DXf5erXiIC0usdQ13+Xq14iPoTYIgFFsO6w7bJklUKvKa90jw9WzNP60+ke6XQP9RiYHcctEg3DYn5SSaztTppnlIs28kmMxnb/ZIrme9a+8LFEABRDEOsGh9RkUKupbI95PmerZXLpq9I75n0ugX9T5ur6UmlsuoTBrhqU06lJeZ6t75qbUki/Ibb5mW+di94fRKwAEaastFdjYcoEd5Cm3mKLS2HW1pNK23WoLCFoWlREpKkqI0mSiIyMt8iElKIMCgAQRhhGIESgwgxAAuAAoLhjGwyAACAQdxQiMO4LguAVw7guC4AuC4LguAAZgXBcAXBcGYFwAAjBcFwBcFwEYLgC4LguC4AuC4LguFBcFwXBcKC4LguAjCgAAjBcKC4LgzAuAVwZg7guARmC4dwXAFwEYLgIwBcFwXBcAZgjMO4LgEK9a5WH5EhihFHYffNrE1FecJhlx422W5JKcecJtKjbZbTc1uqshBb5mQsKYLCBIMZDGwYYMgBXAKGAK4LgMhjYFwGYAAYAAK+a1GCZrknD1XhRHagqhVNyW/BjraTIkR5MR2MtUcn1ttLeZUtC8i3W7o2ljMySlUSYymYnlTMPVqThx9RQK1VpSYEJUTdzVNdp6ocRU7bTExt2OuuLWpLL60EylFzSu6BdwyBYQUL0oYRrqpGKHYuH576MZ0GHCaLaQULpU1qPNiONVI1SiShtKJJPbRhUhJ2ypuajtoNM+gLELEqGuj0daKvBh0iHTsQ0+cy3HeabRHbqMbEEWQ42bkdvZuGxsWnzUgmT3jSbZfRIGUBQ/RtoZlx8UVSXOodYdXLrq5kKqRai21S47Lkdpk5D0Ld7ZvGhZOLI1w3XMhNlv5SIux0uaEqpT2aJLZlVfEy6TXmqtIakuQ1TzjbkkRVtwkpaiNLyqeS5snHMx8/Ze8SRb7IQMgg+duGNV2uS3qG+4ioUdLuIcVVqW9Ffht1CmR6nc4aFmo5LW1esSVobbfyJUZKyHvpsnpK1fG4eDqzRKMy885Ip9RJpLrxuyJcyYlxbjjrzyizPPvLNRqUpKSvYiSkiIrAZA7Bmj5u6W9AeIa1Sq3JKjSIj7mH8O4diQHn4SpcpVPqzUydISbb7kdtomjWTe0eJxeQzyJ50jmEtHUp7CGJKZFo9ciSZMN9qMzWam3UZMt56Ls07F458tLLZGhKTbU60glGZ5SuoxcGwLC0UY0v6t9eraqFT2mosSHTsLuR5L9QbVIZOfUIaKa/HZajSGnUyo8VLvpjPskE9zpOKIsvJVbQpiWfEJyXTHkzU6P6xh570SOra1PdbLUVKTS6RHuxhjdKVWJCCXZRpMrD6KWBYBSTG9OqFTw5CpszBUyUinHTGpcabIhNSnWUR3I78yiPxZzmWfFMiUSX1R87TqkkasyiKZtTOh1ePRjaq+6yWmbLKAiouNO1Fqlk7aCic6ypxtyTsius9osyuRGresU65SDsAZGGMSIMUMFgrgzAGCwxIw7gGALMC4Biiutbq34ixBWKo9CWzEixMPIpsBUtond2TH5W731QXG5CHIT6HI0NndriFZLESW1c+pN6RiZAKNUlnFNMqFYqsWgvSpuJqVQjQS3Iu56ZVKfGejSWqmlUtle5szxukuKp3OgrJO++OgchYlo9RrTcCjJnqrtUplQanbRg6bFaOPCiVJEtp2UzLSplLD62dkh5KiW0dzMlNlcTIDIMih+jTRJUIWI65JeoVWcem12fMptRRPSijIYkMbFtyfBbqLe3bNeY1Z4brhNqRaxpIk67QtorxHEffZj0IqdBcpNQRUKTOksO4fkVdwvQVUZDb0mZEhy1Gsn2TNtpLS99vMkjH0CsCwo+ZFG1dsTvU6rwotPlUulHDp0yJRKnPZl5K7AqESY5HpTyXntlS3Wo7jKTkOo9FcbPIRZsm/1gdEWIMSRcS1FqiyYb0ukUahU+mynoiZcjclWROmyVGiQuO20hK1k0anyU4SDPKXOkr6L5AZBPR8+a7qw1dpysslDlVB5zFOGqq1Wn32HJNTpkRTJradPaN5V0rK63lJlgloMsqXDLMr9Og/Q9VaZVa+47Qak5LmVnEMqmTnai2dA3JNSpUXdsFE/MZPOpMnFphKeJt1u5lksi/pJDIhaKTam2jyrQKmrJSZ9CpK6es6hTZMtmRTeXC30uJeobaZEpxiMZKkbQjW0gyNkiQZp527CTDygANJBhEAWituurh6TJPCe5o0iRubGdFlyNgy49sIzbc5Lkh7ZpVsmGzWglvLytozJzKK4skShjkDIhmjK4LBXDIxoAYxuHcA7ACBcAwWCuC4BgCMACqOtToWrFerdHZibGNTqdEqMx2VMjlLhPTpbaYLUdUduXGkG8zGckvIcI0toUZXNZnlKKtGeBcUURyiVWTRn6nJg0CfhSRGiPxjeLYVBt2nT7vvNJcjSWGGyWolbVGa6kXuQ+gOUAgpaqj4qp1TRiBdDZqcqoYZj0uVCp0hhlMKqMyXpKUuImPoQuGonkoU4zIdWS0uc4ZZVq5ep6O6w3iZyrz6BVpZuUuiJIsO1NEOGidESbkppbblSgqlRW3FpbQ3IQ4hREsstlmZ35MGQFUMh6PsRs4malU+ju0t16tOOViXGlNeZyqUJw1K3Q/CVIcfTW8hNtmtqO2aniWZqyuZk85hjQBXn5k6G1SV0GHVodci4j2cppyhTn5Ed6PTp9Jik+/IjyXVm049dplKWs5KIzSkj+iuQPZkIPnrK0RYiqcamIkUV+G5h3C1ZpR7SRCWVVqM6AxDaTAJqQ5ZlRx9obkk2CLaJT7hmXKUrVHrkanVKKqnypz07AtPgRJL8pl1ymz2ybKbQWSU+SW463C3QhaEm0nIlG2UVko+m2UFhUUCpOh2oQ8UyqlIoVbmNOR8Nohv02osxY7bsKClqZu5jlhHOS204pKSbcZfL0N7KVl3XssE6Oa9HxMy/DpMikJXVpz9ckR5aTw/Vae4atk81AVKdWiqupSwpbyWGDJ0nDM1JOwvXYLKIMkKGRGMCIO40MgXCIABkAK4LgHYARmC4BhWCIMwCuMVmMrjEwGSgknvDEAqBRgIwABTMwjMAABcBGAAmjK4VwgCod+gGGARQfQGNwgCguHcIAB3DDAASgr74QADuAjCAAdwGYQBEO4ZGGAGgQVwwCoxIwEYQATWSjAGARWJGAj3wgCjK4AwCDG4ZmMQCjMzCuMQAMwGAAAMK4YAGNxkAADFRgIwgAGZhmfQDACMTMBBAA1lcBGGAArhXCACYyuFcIANHcK4ACAMxiR/8AfdAABkowrhgECuAjDAALhXCAGgMwXAATBkRhIUGAaDuGYYBQkmAwwAERhkYAAEGAABBGYQABcYmoAAGRmERhAAZEYRGGAQJRhgAJinf/AL7gYYBUIwlBAFAZhIVvhgEAkxlcYgAZJMIzCALiaajCuAADK+8FcIAmqyIwXDAKjG//AH3AjMABAXCIwwCqRGGZgAJoRGDMGANCMwXDAAdw7hgFZ0rgMwwAYVxiRgADRkYZGGABjcMjGIARlffHmswABX//2Q==\",\"type\":\"image/jpeg\",\"originalSize\":53965,\"dimensions\":{\"originalWidth\":1024,\"originalHeight\":434,\"displayWidth\":1024,\"displayHeight\":434}}},\"sourceToolAssistantUUID\":\"44fa9808-1d1c-4e0c-9789-a544f884adfd\"}\n{\"parentUuid\":\"d2ee9f40-0f2e-4d83-8934-c773fcdbda97\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01X4YxDXedrprynSwMBYyFEt\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"Good, I can see the character sheet template image. Now I need to upload it to Supabase storage. I'll use a curl command to upload it to the storage bucket at the path `templates/system/character-sheets/charactersheet-v3.jpg`.\\n\\nLooking at the CLAUDE.md file, I have access to Supabase credentials in .env.local. I need to use the Supabase Storage API to upload this file.\\n\\nActually, let me first check what credentials are available in .env.local:\",\"signature\":\"EuQECkYICxgCKkCRPpuVipyLccBH7moAIy3G+xixRrjHlSWeRD1wBU3ll5JluMRCDdjZwv014UcDqyt3wJIqnKN07iHCU7WewWTpEgyEdP5DMLcEADRixAQaDJdDKEmGGnY/VFw4SiIwVa44wJiYkxA2FpI2QZdMsJIR2cbsxsNH/Sqlxa6vYEK1vsta7MmKRXdXH2H/5xdGKssDBawNNX2dThxT+9xu0jUXGDcEtsLwjzGkepAPxPWjA8oGIOkFVn3+MVh/XFXakJIYEUhC4Zi2dJqLgRVxOi2AP/qt7sU5+pf2LRnfkjtesG/7HDIvSk9dvfmauwcK/GXUeLfeqF25FeUBX7p2tuDXzHPepednzu06CRVKE2S8b6c7KGB1MBIfvoI5dcPyCR3gblwf34bg5RoAagcCFWIHWniyPr+9D/GcRV3P6GSGentb/1YE0/u4Ul5MikFSGHlkhAPhloRc7Ef/0A43JexhSU3rKagfPU18HxnOLq6ZLDKgHEo7iorjIwyKjvISiPZB7bpst7zkCGpGG27aK+ojbr2uMtRUt6T5ztYa6my5YNNpaMJIIStiis3dj64USErLWXnLKuSORLxwpKU5Ps11wUSD4G7Re7O3oVzwfPRl8FZu8zDfACWA8xFewyWf1fDCC0+MjzrkNKVuORjbbCJIztOC12e7okJI5uHy9N9GtYWSHKfz5hvOi8T3Lq2gv5hU4EbhRh5WcDyfsI9LyqFqPVKK+HK/A41uZ8Q6Ro1ZUCDQGZwuDb77Zs0psjnNozCfGj8pwpWYoZCi1XWz5UwNFTDaOpHF7UVdV+T8GAE=\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":14,\"cache_creation_input_tokens\":1459,\"cache_read_input_tokens\":42914,\"cache_creation\":{\"ephemeral_5m_input_tokens\":1459,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":1,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwDfotxx1EAuawoaRai\",\"type\":\"assistant\",\"uuid\":\"d0a8dc69-fe9b-4327-8304-d0d72bb7ebe0\",\"timestamp\":\"2026-01-18T00:57:55.342Z\"}\n{\"parentUuid\":\"d0a8dc69-fe9b-4327-8304-d0d72bb7ebe0\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01X4YxDXedrprynSwMBYyFEt\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_01WEs4PBMVpchxvx4HbH8F6C\",\"name\":\"Bash\",\"input\":{\"command\":\"grep -E \\\"SUPABASE_URL|SUPABASE_SERVICE_ROLE_KEY\\\" D:\\\\git\\\\directors-palette-v2\\\\.env.local\",\"description\":\"Get Supabase credentials for file upload\"}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":14,\"cache_creation_input_tokens\":1459,\"cache_read_input_tokens\":42914,\"cache_creation\":{\"ephemeral_5m_input_tokens\":1459,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":236,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwDfotxx1EAuawoaRai\",\"type\":\"assistant\",\"uuid\":\"cf0be28a-f7cd-4017-9d3b-3335332b5744\",\"timestamp\":\"2026-01-18T00:57:56.487Z\"}\n{\"parentUuid\":\"cf0be28a-f7cd-4017-9d3b-3335332b5744\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"Exit code 2\\ngrep: D:gitdirectors-palette-v2.env.local: No such file or directory\",\"is_error\":true,\"tool_use_id\":\"toolu_01WEs4PBMVpchxvx4HbH8F6C\"}]},\"uuid\":\"703d9be4-3f77-4c46-95c1-a7d77461d712\",\"timestamp\":\"2026-01-18T00:57:57.961Z\",\"toolUseResult\":\"Error: Exit code 2\\ngrep: D:gitdirectors-palette-v2.env.local: No such file or directory\",\"sourceToolAssistantUUID\":\"cf0be28a-f7cd-4017-9d3b-3335332b5744\"}\n{\"parentUuid\":\"703d9be4-3f77-4c46-95c1-a7d77461d712\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01VYtZfLCjxDUBzSK1fE6UBC\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"The grep command failed because Windows paths need to be escaped differently. Let me try with proper Windows path format:\",\"signature\":\"EqICCkYICxgCKkCnlTnq+ySCLiV5L2VE1HhZupE5H5CLZorKqy6N5SeaPCWXrW/cLtR+jZBOFEsfC4Tyt5GUHPXR7RFKfAhybBwNEgzJHCqkmHACOUTEpH4aDHOAyizqLPoSJW+z2iIw4rYP1vVOehUasQHIqdX2G6rYhkXLkKByHJPLcl+i5mhnS/6zL6KGEkvigoTbKSpJKokBbp6/Rk0M5o7/J64iSnfcFHW+Dcxa1B989dZ/hqAn+7VXuCKJxqmkr5a0b5XDd6Ewn5otZOT5Ynbi5ljokUsI4jID9FKfpw2SqSN2ZD1AdLAhRk3/3bFmNwzzNXE42kFBAM0y96SRflzI062F70sxLAi4uWNgcj8hPvOKL2eI0vM0ra4Nkg6VljkYAQ==\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":14,\"cache_creation_input_tokens\":289,\"cache_read_input_tokens\":44373,\"cache_creation\":{\"ephemeral_5m_input_tokens\":289,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":1,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwEFfrvHAT7tN6CCCWp\",\"type\":\"assistant\",\"uuid\":\"e7126d27-1e24-4612-8f67-d99fd5f2a499\",\"timestamp\":\"2026-01-18T00:58:01.102Z\"}\n{\"parentUuid\":\"e7126d27-1e24-4612-8f67-d99fd5f2a499\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01VYtZfLCjxDUBzSK1fE6UBC\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_01WhnumNryEWpoGTS9zNseiP\",\"name\":\"Bash\",\"input\":{\"command\":\"cat .env.local | grep -E \\\"SUPABASE_URL|SUPABASE_SERVICE_ROLE_KEY\\\"\",\"description\":\"Get Supabase credentials from env file\"}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":14,\"cache_creation_input_tokens\":289,\"cache_read_input_tokens\":44373,\"cache_creation\":{\"ephemeral_5m_input_tokens\":289,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":135,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwEFfrvHAT7tN6CCCWp\",\"type\":\"assistant\",\"uuid\":\"0d4059d6-c89c-42b8-b021-18e2343201fa\",\"timestamp\":\"2026-01-18T00:58:01.854Z\"}\n{\"parentUuid\":\"0d4059d6-c89c-42b8-b021-18e2343201fa\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"tool_use_id\":\"toolu_01WhnumNryEWpoGTS9zNseiP\",\"type\":\"tool_result\",\"content\":\"NEXT_PUBLIC_SUPABASE_URL=https://tarohelkwuurakbxjyxm.supabase.co\\nSUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRhcm9oZWxrd3V1cmFrYnhqeXhtIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NTg5NDMwNiwiZXhwIjoyMDcxNDcwMzA2fQ.NgWYtUBiy9Sc3XJL4gY0hfDeN9jVLT2fahYpgOv3u4M\",\"is_error\":false}]},\"uuid\":\"6fbe0c50-a9b5-4251-afc9-0d12763d9b3f\",\"timestamp\":\"2026-01-18T00:58:03.570Z\",\"toolUseResult\":{\"stdout\":\"NEXT_PUBLIC_SUPABASE_URL=https://tarohelkwuurakbxjyxm.supabase.co\\nSUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRhcm9oZWxrd3V1cmFrYnhqeXhtIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NTg5NDMwNiwiZXhwIjoyMDcxNDcwMzA2fQ.NgWYtUBiy9Sc3XJL4gY0hfDeN9jVLT2fahYpgOv3u4M\\r\",\"stderr\":\"\",\"interrupted\":false,\"isImage\":false},\"sourceToolAssistantUUID\":\"0d4059d6-c89c-42b8-b021-18e2343201fa\"}\n{\"parentUuid\":\"6fbe0c50-a9b5-4251-afc9-0d12763d9b3f\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01Nd4VxXpBLVArg4hej7PoNa\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"Perfect, I have the credentials. Now I need to upload the charactersheet-v3.jpg file to Supabase Storage. The Supabase Storage API uses a POST request to upload files.The path should be: `templates/system/character-sheets/charactersheet-v3.jpg`\\nThe bucket is likely called `project-storage` or similar. Let me upload the file:\",\"signature\":\"Eu4DCkYICxgCKkA1/YIb7xJZUfP7BZx+MUlaL3O9zL0IfPEW+sqKrsajyRk0XlL8ANBJD6wl17Swx5w14y17Jf4Lla29IGZfxt24EgzigM03RmpxJxhN7ywaDBxwVZTR3D/q8B5ImCIw66I7LYvKgNxducktyfl781ii1LsOLOvpn7LdwhEHsGofEXkTkPrYn3nbOTzAPhdjKtUCh0Htk5OEzvcCGqli6K26Bi0g+H6yTPkC/z+6CbWA6guXsksqEfJhVXj5ryps0agsM+8Lnqg7GpogQu3UzikK1nYo3ToLXHmQiDyHYSOWTWrt8jgdzSIawqnkM6m3/LxRTPi9grvmGEdpKK/OjKdFzvGLi0rmBO6p1LrhFbEhahI2Z0K5mygN5mmRT2r63qdgCVHf3UVUt7Dets2iFqDFAc+xLCASPp+mLRZIp3vddfvBPpSBTaL3aPOpBpHmjniQr8pMm3tDmWRqcEt0twFKE1+E5ucENBAoqgYAQ+HAg6EFk4orT9k4qjVEskSIgdKTvDHKsAF8iIF+aLIL0c+n5nwSbVMRyuDo5FsbcFRfKVAQZSCd3srTNXUwPRU22lEj8zvBq6CbTnN0BcXsH7KtfgpWi563GxsU474LhTx2NDIhOXRFLlocfYqawKsbU5rwG+tQh5UYAQ==\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":13,\"cache_creation_input_tokens\":391,\"cache_read_input_tokens\":44662,\"cache_creation\":{\"ephemeral_5m_input_tokens\":391,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":8,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwEgHSpxHABNNm118be\",\"type\":\"assistant\",\"uuid\":\"2b244d71-b7b2-4fb7-933e-a352b17a50c3\",\"timestamp\":\"2026-01-18T00:58:07.843Z\"}\n{\"parentUuid\":\"2b244d71-b7b2-4fb7-933e-a352b17a50c3\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01Nd4VxXpBLVArg4hej7PoNa\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_01Qcy7bzF2Tp5e5NDQP6Cj8G\",\"name\":\"Bash\",\"input\":{\"command\":\"curl -X POST \\\"https://tarohelkwuurakbxjyxm.supabase.co/storage/v1/object/project-storage/templates/system/character-sheets/charactersheet-v3.jpg\\\" -H \\\"Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRhcm9oZWxrd3V1cmFrYnhqeXhtIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NTg5NDMwNiwiZXhwIjoyMDcxNDcwMzA2fQ.NgWYtUBiy9Sc3XJL4gY0hfDeN9jVLT2fahYpgOv3u4M\\\" -H \\\"Content-Type: image/jpeg\\\" --data-binary \\\"@public/charactersheet-v3.jpg\\\"\",\"description\":\"Upload character sheet template to Supabase storage\"}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":13,\"cache_creation_input_tokens\":391,\"cache_read_input_tokens\":44662,\"cache_creation\":{\"ephemeral_5m_input_tokens\":391,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":447,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwEgHSpxHABNNm118be\",\"type\":\"assistant\",\"uuid\":\"3438cc1f-270c-40a4-b027-bf2829c81d4b\",\"timestamp\":\"2026-01-18T00:58:11.026Z\"}\n{\"parentUuid\":\"3438cc1f-270c-40a4-b027-bf2829c81d4b\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"tool_use_id\":\"toolu_01Qcy7bzF2Tp5e5NDQP6Cj8G\",\"type\":\"tool_result\",\"content\":\"{\\\"statusCode\\\":\\\"404\\\",\\\"error\\\":\\\"Bucket not found\\\",\\\"message\\\":\\\"Bucket not found\\\"}\\r\\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\\r\\n                                 Dload  Upload   Total   Spent    Left  Speed\\r\\n\\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\\r100 54041  100    76  100 53965    317   220k --:--:-- --:--:-- --:--:--  222k\",\"is_error\":false}]},\"uuid\":\"95b26a60-5afc-4839-8876-6bb055dfff32\",\"timestamp\":\"2026-01-18T00:58:13.069Z\",\"toolUseResult\":{\"stdout\":\"{\\\"statusCode\\\":\\\"404\\\",\\\"error\\\":\\\"Bucket not found\\\",\\\"message\\\":\\\"Bucket not found\\\"}\\r\\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\\r\\n                                 Dload  Upload   Total   Spent    Left  Speed\\r\\n\\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\\r100 54041  100    76  100 53965    317   220k --:--:-- --:--:-- --:--:--  222k\\r\",\"stderr\":\"\",\"interrupted\":false,\"isImage\":false},\"sourceToolAssistantUUID\":\"3438cc1f-270c-40a4-b027-bf2829c81d4b\"}\n{\"parentUuid\":\"95b26a60-5afc-4839-8876-6bb055dfff32\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01NmpQBVhNsQJN7n9BPYskBs\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"The bucket name is wrong. Let me check what storage buckets exist by querying the Supabase API:\",\"signature\":\"EocCCkYICxgCKkAMGbapOgYzWoWJ4V/spJdktlSw3PFG4z4buUg4Ht2ZbuTXY5CzKBukrCBP+uqjp3SYUcbWx6xqNyGSbG0ubWUtEgxD5rne+fmrIp/ONEMaDD4KA3/Ns3/EnqemriIwqJh596pUhvu8y7UycsgUMSt2sZlCaofUpTMAx46GGp1nskmP7x8ymGchic9+LtB1Km8jzG61oT/xMgTLd6Rt4rEtqjuT3naQS1vNlrsRszNTS2ZTVZq2XnQ83P/8B8i6S9cGradPR5F16PN4uchtjGYpOEPsZ3WxfpU6/RKDUyaiQrw5QTi4WNmzmSD94Yzj59T3KaE4lbyZ/vylaW/c0xcYAQ==\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":13,\"cache_creation_input_tokens\":598,\"cache_read_input_tokens\":45053,\"cache_creation\":{\"ephemeral_5m_input_tokens\":598,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":2,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwFPCKgNdKxXg7nRPi8\",\"type\":\"assistant\",\"uuid\":\"39fa506e-454c-45d3-911b-08fa5ca4a10e\",\"timestamp\":\"2026-01-18T00:58:16.280Z\"}\n{\"parentUuid\":\"39fa506e-454c-45d3-911b-08fa5ca4a10e\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01NmpQBVhNsQJN7n9BPYskBs\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_01DMUuntjEmT1FbGe9QduRac\",\"name\":\"Bash\",\"input\":{\"command\":\"curl -s \\\"https://tarohelkwuurakbxjyxm.supabase.co/storage/v1/bucket\\\" -H \\\"Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRhcm9oZWxrd3V1cmFrYnhqeXhtIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NTg5NDMwNiwiZXhwIjoyMDcxNDcwMzA2fQ.NgWYtUBiy9Sc3XJL4gY0hfDeN9jVLT2fahYpgOv3u4M\\\"\",\"description\":\"List Supabase storage buckets\"}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":13,\"cache_creation_input_tokens\":598,\"cache_read_input_tokens\":45053,\"cache_creation\":{\"ephemeral_5m_input_tokens\":598,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":337,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwFPCKgNdKxXg7nRPi8\",\"type\":\"assistant\",\"uuid\":\"02527270-9efb-4c09-b6f0-b400fa51d8a9\",\"timestamp\":\"2026-01-18T00:58:18.558Z\"}\n{\"parentUuid\":\"02527270-9efb-4c09-b6f0-b400fa51d8a9\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"tool_use_id\":\"toolu_01DMUuntjEmT1FbGe9QduRac\",\"type\":\"tool_result\",\"content\":\"[{\\\"id\\\":\\\"images\\\",\\\"name\\\":\\\"images\\\",\\\"owner\\\":\\\"\\\",\\\"public\\\":true,\\\"type\\\":\\\"STANDARD\\\",\\\"file_size_limit\\\":null,\\\"allowed_mime_types\\\":null,\\\"created_at\\\":\\\"2025-08-23T17:30:33.387Z\\\",\\\"updated_at\\\":\\\"2025-08-23T17:30:33.387Z\\\"},{\\\"id\\\":\\\"user-assets\\\",\\\"name\\\":\\\"user-assets\\\",\\\"owner\\\":\\\"\\\",\\\"public\\\":true,\\\"type\\\":\\\"STANDARD\\\",\\\"file_size_limit\\\":null,\\\"allowed_mime_types\\\":null,\\\"created_at\\\":\\\"2025-08-23T17:30:48.125Z\\\",\\\"updated_at\\\":\\\"2025-08-23T17:30:48.125Z\\\"},{\\\"id\\\":\\\"user-gallery-images\\\",\\\"name\\\":\\\"user-gallery-images\\\",\\\"owner\\\":\\\"\\\",\\\"public\\\":true,\\\"type\\\":\\\"STANDARD\\\",\\\"file_size_limit\\\":10485760,\\\"allowed_mime_types\\\":[\\\"image/jpeg\\\",\\\"image/png\\\",\\\"image/webp\\\",\\\"image/gif\\\"],\\\"created_at\\\":\\\"2025-09-14T17:11:03.980Z\\\",\\\"updated_at\\\":\\\"2025-09-14T17:11:03.980Z\\\"},{\\\"id\\\":\\\"templates\\\",\\\"name\\\":\\\"templates\\\",\\\"owner\\\":\\\"\\\",\\\"public\\\":true,\\\"type\\\":\\\"STANDARD\\\",\\\"file_size_limit\\\":null,\\\"allowed_mime_types\\\":[\\\"image/png\\\",\\\"image/webp\\\",\\\"image/jpeg\\\"],\\\"created_at\\\":\\\"2025-12-18T21:07:16.368Z\\\",\\\"updated_at\\\":\\\"2025-12-18T21:07:16.368Z\\\"},{\\\"id\\\":\\\"directors-palette\\\",\\\"name\\\":\\\"directors-palette\\\",\\\"owner\\\":\\\"\\\",\\\"public\\\":true,\\\"type\\\":\\\"STANDARD\\\",\\\"file_size_limit\\\":null,\\\"allowed_mime_types\\\":null,\\\"created_at\\\":\\\"2025-10-06T16:27:28.240Z\\\",\\\"updated_at\\\":\\\"2025-10-06T16:27:28.240Z\\\"}]\",\"is_error\":false}]},\"uuid\":\"2699b7a6-bfb5-4efb-a387-859d3ae5cb02\",\"timestamp\":\"2026-01-18T00:58:20.176Z\",\"toolUseResult\":{\"stdout\":\"[{\\\"id\\\":\\\"images\\\",\\\"name\\\":\\\"images\\\",\\\"owner\\\":\\\"\\\",\\\"public\\\":true,\\\"type\\\":\\\"STANDARD\\\",\\\"file_size_limit\\\":null,\\\"allowed_mime_types\\\":null,\\\"created_at\\\":\\\"2025-08-23T17:30:33.387Z\\\",\\\"updated_at\\\":\\\"2025-08-23T17:30:33.387Z\\\"},{\\\"id\\\":\\\"user-assets\\\",\\\"name\\\":\\\"user-assets\\\",\\\"owner\\\":\\\"\\\",\\\"public\\\":true,\\\"type\\\":\\\"STANDARD\\\",\\\"file_size_limit\\\":null,\\\"allowed_mime_types\\\":null,\\\"created_at\\\":\\\"2025-08-23T17:30:48.125Z\\\",\\\"updated_at\\\":\\\"2025-08-23T17:30:48.125Z\\\"},{\\\"id\\\":\\\"user-gallery-images\\\",\\\"name\\\":\\\"user-gallery-images\\\",\\\"owner\\\":\\\"\\\",\\\"public\\\":true,\\\"type\\\":\\\"STANDARD\\\",\\\"file_size_limit\\\":10485760,\\\"allowed_mime_types\\\":[\\\"image/jpeg\\\",\\\"image/png\\\",\\\"image/webp\\\",\\\"image/gif\\\"],\\\"created_at\\\":\\\"2025-09-14T17:11:03.980Z\\\",\\\"updated_at\\\":\\\"2025-09-14T17:11:03.980Z\\\"},{\\\"id\\\":\\\"templates\\\",\\\"name\\\":\\\"templates\\\",\\\"owner\\\":\\\"\\\",\\\"public\\\":true,\\\"type\\\":\\\"STANDARD\\\",\\\"file_size_limit\\\":null,\\\"allowed_mime_types\\\":[\\\"image/png\\\",\\\"image/webp\\\",\\\"image/jpeg\\\"],\\\"created_at\\\":\\\"2025-12-18T21:07:16.368Z\\\",\\\"updated_at\\\":\\\"2025-12-18T21:07:16.368Z\\\"},{\\\"id\\\":\\\"directors-palette\\\",\\\"name\\\":\\\"directors-palette\\\",\\\"owner\\\":\\\"\\\",\\\"public\\\":true,\\\"type\\\":\\\"STANDARD\\\",\\\"file_size_limit\\\":null,\\\"allowed_mime_types\\\":null,\\\"created_at\\\":\\\"2025-10-06T16:27:28.240Z\\\",\\\"updated_at\\\":\\\"2025-10-06T16:27:28.240Z\\\"}]\\r\",\"stderr\":\"\",\"interrupted\":false,\"isImage\":false},\"sourceToolAssistantUUID\":\"02527270-9efb-4c09-b6f0-b400fa51d8a9\"}\n{\"parentUuid\":\"2699b7a6-bfb5-4efb-a387-859d3ae5cb02\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01BC4bCfw6JjgZ1cqLVVcYNP\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"Great! The bucket is called `templates`, not `project-storage`. Let me upload the file to that bucket:\",\"signature\":\"Eo4CCkYICxgCKkBhcZnQ0uk28ue+BCTSzsyYa+PX8aEV9YUYt5DV+yE2XQvH2DbBXCRC4DstEm9q5OAp5dSnR2irUk5NetER96FREgxFFLtvL669Ov/2vqgaDJfL3ELk6DzHqAJW9SIwkpV+b9ZHJsniPwlWYBjZ5VTrtnB3F0t/YLHyuRbpGzAJTecC0V1gU9gLzdTMGfbDKnbJhiG804TYja1NR2k1AQ92ssMhN0mCUKvonjBqBn+e0URNBOQyXznqudCIG/t+1/LIYHvbr9+mCMwy5qmKp/JvbcOQxNZh5FgurOWxafhvafDz7qKveofuZbkA4oh/bULl/pO5CvCVS5umqFGr7D3Tfe1AHEL7GAE=\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":13,\"cache_creation_input_tokens\":790,\"cache_read_input_tokens\":45651,\"cache_creation\":{\"ephemeral_5m_input_tokens\":790,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":1,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwFuxzkgXS2Ki4kfMsP\",\"type\":\"assistant\",\"uuid\":\"f76f55b3-20a4-4a5f-a281-60dd8298541f\",\"timestamp\":\"2026-01-18T00:58:23.461Z\"}\n{\"parentUuid\":\"f76f55b3-20a4-4a5f-a281-60dd8298541f\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01BC4bCfw6JjgZ1cqLVVcYNP\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_01NLs8ytT6TgDC9dGNDXe6pP\",\"name\":\"Bash\",\"input\":{\"command\":\"curl -X POST \\\"https://tarohelkwuurakbxjyxm.supabase.co/storage/v1/object/templates/system/character-sheets/charactersheet-v3.jpg\\\" -H \\\"Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRhcm9oZWxrd3V1cmFrYnhqeXhtIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NTg5NDMwNiwiZXhwIjoyMDcxNDcwMzA2fQ.NgWYtUBiy9Sc3XJL4gY0hfDeN9jVLT2fahYpgOv3u4M\\\" -H \\\"Content-Type: image/jpeg\\\" --data-binary \\\"@public/charactersheet-v3.jpg\\\"\",\"description\":\"Upload character sheet template to templates bucket\"}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":13,\"cache_creation_input_tokens\":790,\"cache_read_input_tokens\":45651,\"cache_creation\":{\"ephemeral_5m_input_tokens\":790,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":379,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwFuxzkgXS2Ki4kfMsP\",\"type\":\"assistant\",\"uuid\":\"7a930320-01a4-44eb-8a38-250a03139580\",\"timestamp\":\"2026-01-18T00:58:26.834Z\"}\n{\"parentUuid\":\"7a930320-01a4-44eb-8a38-250a03139580\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"tool_use_id\":\"toolu_01NLs8ytT6TgDC9dGNDXe6pP\",\"type\":\"tool_result\",\"content\":\"{\\\"Key\\\":\\\"templates/system/character-sheets/charactersheet-v3.jpg\\\",\\\"Id\\\":\\\"854d3f29-a6f6-454b-acd0-5766838d7a59\\\"}\\r\\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\\r\\n                                 Dload  Upload   Total   Spent    Left  Speed\\r\\n\\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\\r100 54074  100   109  100 53965    524   253k --:--:-- --:--:-- --:--:--  255k\\r100 54074  100   109  100 53965    524   253k --:--:-- --:--:-- --:--:--  255k\",\"is_error\":false}]},\"uuid\":\"c4d37d5f-765f-4d08-9bc5-19035db87867\",\"timestamp\":\"2026-01-18T00:58:28.593Z\",\"toolUseResult\":{\"stdout\":\"{\\\"Key\\\":\\\"templates/system/character-sheets/charactersheet-v3.jpg\\\",\\\"Id\\\":\\\"854d3f29-a6f6-454b-acd0-5766838d7a59\\\"}\\r\\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\\r\\n                                 Dload  Upload   Total   Spent    Left  Speed\\r\\n\\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\\r100 54074  100   109  100 53965    524   253k --:--:-- --:--:-- --:--:--  255k\\r100 54074  100   109  100 53965    524   253k --:--:-- --:--:-- --:--:--  255k\\r\",\"stderr\":\"\",\"interrupted\":false,\"isImage\":false},\"sourceToolAssistantUUID\":\"7a930320-01a4-44eb-8a38-250a03139580\"}\n{\"parentUuid\":\"c4d37d5f-765f-4d08-9bc5-19035db87867\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01Lyneus9mcnKjCA57MRfjod\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"Perfect! The file was uploaded successfully. The response shows:\\n- Key: templates/system/character-sheets/charactersheet-v3.jpg\\n- Id: 854d3f29-a6f6-454b-acd0-5766838d7a59\\n\\nNow I need to update the recipe.types.ts file to use this new template URL in the SYSTEM_TEMPLATE_URLS constant and in the CHARACTER_SHEET_FROM_DESCRIPTION recipe.\\n\\nLet me first check where SYSTEM_TEMPLATE_URLS is defined:\",\"signature\":\"ErIECkYICxgCKkBktsWFVsvVnRmgBagWD/Pl05jfhykeB4iWqQ3E8+qeapce6TeeiKOiyXbTChbcRVAFYVDAVtj7c9dmMbqEClXYEgwXc9RZ1Ulq767SQkgaDHezKNyK7XDm2k+d+yIwKCksO7tTNC0emi6zY6+MTKchTpx9Dyvcwqe8GV5r9gm4igE3LblkMQKhm5z/vahFKpkDF2iZMPTqGoumnrOjMZ0FLp2kxxGddQfF2dVZQQGsQvAXgh/CPndz8uQL9c67K67V0LzR+RsYYiQeGaFbW5F1gIZf5SYuLo1btQ7pPqdUCUk8yT2YrBwBl5iTj0QNJDccwTx4puirYl/BKQclqD6RuVu97FCJSHQUAePYKIk4VCpWDTsYgb7hHNluLHoN9GHCkhhf8c8KUa3LIV/QSEaAzq3c3F8+YdbcA6UShxXZRcFMf3h0riIan+a6GZfpEJi5lk5YsQfOqMHDILDUNG0Da6ycdFrNzOCQOuFWuwkB6cWM7XfaEq/EyebBTqpG1KOCiBWNF1/VvseJxEVMvCs+xW3GQHcx2JanmpIQDDHGgiiQL0mZ42gXBeYMqK/qcFz47GTCcwKYjEdoxc+d5HgUXuHo2NKa6430zaCsZ2Gr1az+v4r1QwJRCDGGbo5FdRwLltXXnhGy8gUX52KWYQv5YuvOlStytHcEVygTblKQNwvnO2Wgo7nRLwYW5X3HHEfr/vb9r6OX3tFT1u/l7X6n6rn8Qjm5QzdZ4xgB\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":13,\"cache_creation_input_tokens\":594,\"cache_read_input_tokens\":46441,\"cache_creation\":{\"ephemeral_5m_input_tokens\":594,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":5,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwGWjH6RCXRkXPyKqyb\",\"type\":\"assistant\",\"uuid\":\"8abcee82-ebeb-452e-97f4-6d1c6c3055d8\",\"timestamp\":\"2026-01-18T00:58:33.188Z\"}\n{\"parentUuid\":\"8abcee82-ebeb-452e-97f4-6d1c6c3055d8\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01Lyneus9mcnKjCA57MRfjod\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_01Sk9xxSyKWuzsBCEeKiHjXQ\",\"name\":\"Grep\",\"input\":{\"pattern\":\"SYSTEM_TEMPLATE_URLS\",\"path\":\"src/features/shot-creator/types\",\"output_mode\":\"content\"}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":13,\"cache_creation_input_tokens\":594,\"cache_read_input_tokens\":46441,\"cache_creation\":{\"ephemeral_5m_input_tokens\":594,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":5,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwGWjH6RCXRkXPyKqyb\",\"type\":\"assistant\",\"uuid\":\"a05827e8-d708-4010-b9d6-ef3241a03ff1\",\"timestamp\":\"2026-01-18T00:58:34.362Z\"}\n{\"parentUuid\":\"a05827e8-d708-4010-b9d6-ef3241a03ff1\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"tool_use_id\":\"toolu_01Sk9xxSyKWuzsBCEeKiHjXQ\",\"type\":\"tool_result\",\"content\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts:493:const SYSTEM_TEMPLATE_URLS = {\\r\\nD:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts:604:          url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\r\\nD:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts:692:            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\r\\nD:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts:1421:          url: SYSTEM_TEMPLATE_URLS.wardrobeGrid,\\r\\nD:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts:2129:            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\r\\nD:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts:2301:            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\"}]},\"uuid\":\"e79a547d-6cd7-4365-a498-f63064f4c35b\",\"timestamp\":\"2026-01-18T00:58:37.801Z\",\"toolUseResult\":{\"mode\":\"content\",\"numFiles\":0,\"filenames\":[],\"content\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts:493:const SYSTEM_TEMPLATE_URLS = {\\r\\nD:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts:604:          url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\r\\nD:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts:692:            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\r\\nD:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts:1421:          url: SYSTEM_TEMPLATE_URLS.wardrobeGrid,\\r\\nD:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts:2129:            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\r\\nD:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts:2301:            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\",\"numLines\":6},\"sourceToolAssistantUUID\":\"a05827e8-d708-4010-b9d6-ef3241a03ff1\"}\n{\"parentUuid\":\"e79a547d-6cd7-4365-a498-f63064f4c35b\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01HJB158MCRGuFFNytjgnbCk\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"Good, SYSTEM_TEMPLATE_URLS is defined at line 493. Let me read that section to see what needs to be updated:\",\"signature\":\"EpQCCkYICxgCKkApR34fTV0rLlSeAFQAOH4RmIK6VpFhv5u23lZMjWgNWj0DLhPnouwhlIdsxKWAZik8r+/l9IhyLyBjcbYCpCGxEgyjshDMA5Tc4AmZnfEaDG6AHhA5e1mQyPzr2SIw4G7Dsk/mLrmKRDKFGgSDdILL27Tz+E6BHy7exKxjmEfigCOjNjbjKsDt7omLMIOKKnzv10MlHMT1Z7HvcZ1t5b8On+o6iNEEbvMr16VrK6FP0Gcchn6EMC7d0MYX/LKh0U4G6TgsZAndobozloxtutIjAwGf5TCzG+ObJQixt46ip3+bp7u1kDjx3JpBJqTsQdn04huS+5W70JjyhyzIFz7dRuXW4AuTJvyNzvVnGAE=\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":13,\"cache_creation_input_tokens\":533,\"cache_read_input_tokens\":47035,\"cache_creation\":{\"ephemeral_5m_input_tokens\":533,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":2,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwHD7QK1ytro5CUNs1e\",\"type\":\"assistant\",\"uuid\":\"5b58ac1f-857a-468d-a701-71179766bba8\",\"timestamp\":\"2026-01-18T00:58:41.110Z\"}\n{\"parentUuid\":\"5b58ac1f-857a-468d-a701-71179766bba8\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01HJB158MCRGuFFNytjgnbCk\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_01Ffmbb9QfydzRqYXiSVoCTQ\",\"name\":\"Read\",\"input\":{\"file_path\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts\",\"offset\":490,\"limit\":20}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":13,\"cache_creation_input_tokens\":533,\"cache_read_input_tokens\":47035,\"cache_creation\":{\"ephemeral_5m_input_tokens\":533,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":150,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwHD7QK1ytro5CUNs1e\",\"type\":\"assistant\",\"uuid\":\"0e3af698-9772-4fea-b31e-1ee8959220c7\",\"timestamp\":\"2026-01-18T00:58:41.881Z\"}\n{\"parentUuid\":\"0e3af698-9772-4fea-b31e-1ee8959220c7\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"tool_use_id\":\"toolu_01Ffmbb9QfydzRqYXiSVoCTQ\",\"type\":\"tool_result\",\"content\":\"   490→ */\\n   491→const SUPABASE_URL = 'https://tarohelkwuurakbxjyxm.supabase.co'\\n   492→\\n   493→const SYSTEM_TEMPLATE_URLS = {\\n   494→  characterSheetBasic: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-basic.png`,\\n   495→  characterSheetAdvanced: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-advanced.webp`,\\n   496→  wardrobeGrid: `${SUPABASE_URL}/storage/v1/object/public/templates/system/grids/wardrobe-2x3.png`,\\n   497→}\\n   498→\\n   499→/**\\n   500→ * Sample recipes for initial setup\\n   501→ */\\n   502→export const SAMPLE_RECIPES: Omit<Recipe, 'id' | 'createdAt' | 'updatedAt'>[] = [\\n   503→  // Style Guide Grid - 6 tile visual style guide (matches user's proven prompt)\\n   504→  {\\n   505→    name: 'Style Guide Grid',\\n   506→    description: 'Create a 2x3 visual style guide with 6 example tiles demonstrating the full visual language of a style',\\n   507→    recipeNote: 'Attach a style reference image. Name your style. The model generates 6 tiles showing how the style handles characters, action, environments, and diversity.',\\n   508→    stages: [{\\n   509→      id: 'stage_0',\\n\\n<system-reminder>\\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\\n</system-reminder>\\n\"}]},\"uuid\":\"aeeb1430-86bb-4ae0-ae52-f644336ee4bb\",\"timestamp\":\"2026-01-18T00:58:43.408Z\",\"toolUseResult\":{\"type\":\"text\",\"file\":{\"filePath\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts\",\"content\":\" */\\nconst SUPABASE_URL = 'https://tarohelkwuurakbxjyxm.supabase.co'\\n\\nconst SYSTEM_TEMPLATE_URLS = {\\n  characterSheetBasic: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-basic.png`,\\n  characterSheetAdvanced: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-advanced.webp`,\\n  wardrobeGrid: `${SUPABASE_URL}/storage/v1/object/public/templates/system/grids/wardrobe-2x3.png`,\\n}\\n\\n/**\\n * Sample recipes for initial setup\\n */\\nexport const SAMPLE_RECIPES: Omit<Recipe, 'id' | 'createdAt' | 'updatedAt'>[] = [\\n  // Style Guide Grid - 6 tile visual style guide (matches user's proven prompt)\\n  {\\n    name: 'Style Guide Grid',\\n    description: 'Create a 2x3 visual style guide with 6 example tiles demonstrating the full visual language of a style',\\n    recipeNote: 'Attach a style reference image. Name your style. The model generates 6 tiles showing how the style handles characters, action, environments, and diversity.',\\n    stages: [{\\n      id: 'stage_0',\",\"numLines\":20,\"startLine\":490,\"totalLines\":3177}},\"sourceToolAssistantUUID\":\"0e3af698-9772-4fea-b31e-1ee8959220c7\"}\n{\"parentUuid\":\"aeeb1430-86bb-4ae0-ae52-f644336ee4bb\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01NV5BBuQuLibpMjb5EXp2vG\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"Good, I can see the SYSTEM_TEMPLATE_URLS. Now I need to add a new entry for characterSheetV3. Let me update it:\",\"signature\":\"EpcCCkYICxgCKkAkJfrwvwA+B81PBKgBolU0Y4zfuqnBUmkdt6mO4YrT+MLYVlFuYKRC7rdOYP7k8ZjL7PdbgHsxjIsn2a0qf2QqEgyjvhWzMv4quR5gVN4aDM/Iy6jX+U46lpdxkyIwNoZOPRPBW7llKyQ0P5xNZCV0/u62QfWSUSTbZnqPBd9ERFHe/yKAntNiDaf+ydIoKn+xmZmqCL8TAyL02kMu7Qi1os3dqddM5I+28m6cbJJ1jD4v+XmwcYbytN4rRsTFxuGwzQgeFXc++VWx3FCcrYVmFD9AF4CD/Hio2RpU5KO/T5b7I6Z4ULHIYRysYuWredCF09t7sFx6poRjE4bxLCg/A4Oju6ymd1GrnSmYkkkzGAE=\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":13,\"cache_creation_input_tokens\":655,\"cache_read_input_tokens\":47568,\"cache_creation\":{\"ephemeral_5m_input_tokens\":655,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":3,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwHczbV8ejVM9brnhhB\",\"type\":\"assistant\",\"uuid\":\"c3543602-2031-4bcf-9ee5-291f2021addc\",\"timestamp\":\"2026-01-18T00:58:46.729Z\"}\n{\"parentUuid\":\"c3543602-2031-4bcf-9ee5-291f2021addc\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01NV5BBuQuLibpMjb5EXp2vG\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_01SrpCJrFKVnjqYcjEj3weoR\",\"name\":\"Edit\",\"input\":{\"replace_all\":false,\"file_path\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts\",\"old_string\":\"const SYSTEM_TEMPLATE_URLS = {\\n  characterSheetBasic: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-basic.png`,\\n  characterSheetAdvanced: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-advanced.webp`,\\n  wardrobeGrid: `${SUPABASE_URL}/storage/v1/object/public/templates/system/grids/wardrobe-2x3.png`,\\n}\",\"new_string\":\"const SYSTEM_TEMPLATE_URLS = {\\n  characterSheetBasic: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-basic.png`,\\n  characterSheetAdvanced: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-advanced.webp`,\\n  characterSheetV3: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-v3.jpg`,\\n  wardrobeGrid: `${SUPABASE_URL}/storage/v1/object/public/templates/system/grids/wardrobe-2x3.png`,\\n}\"}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":13,\"cache_creation_input_tokens\":655,\"cache_read_input_tokens\":47568,\"cache_creation\":{\"ephemeral_5m_input_tokens\":655,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":473,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwHczbV8ejVM9brnhhB\",\"type\":\"assistant\",\"uuid\":\"32774a37-d5c3-4cb2-9e04-37d63f2e99cb\",\"timestamp\":\"2026-01-18T00:58:49.936Z\"}\n{\"parentUuid\":\"32774a37-d5c3-4cb2-9e04-37d63f2e99cb\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"tool_use_id\":\"toolu_01SrpCJrFKVnjqYcjEj3weoR\",\"type\":\"tool_result\",\"content\":\"The file D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts has been updated. Here's the result of running `cat -n` on a snippet of the edited file:\\n   489→ * These are used as layout reference images for recipes\\n   490→ */\\n   491→const SUPABASE_URL = 'https://tarohelkwuurakbxjyxm.supabase.co'\\n   492→\\n   493→const SYSTEM_TEMPLATE_URLS = {\\n   494→  characterSheetBasic: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-basic.png`,\\n   495→  characterSheetAdvanced: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-advanced.webp`,\\n   496→  characterSheetV3: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-v3.jpg`,\\n   497→  wardrobeGrid: `${SUPABASE_URL}/storage/v1/object/public/templates/system/grids/wardrobe-2x3.png`,\\n   498→}\\n   499→\\n   500→/**\\n   501→ * Sample recipes for initial setup\\n   502→ */\"}]},\"uuid\":\"0d0212dc-3e81-4b2c-806c-a78f1246fced\",\"timestamp\":\"2026-01-18T00:58:51.138Z\",\"toolUseResult\":{\"filePath\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts\",\"oldString\":\"const SYSTEM_TEMPLATE_URLS = {\\n  characterSheetBasic: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-basic.png`,\\n  characterSheetAdvanced: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-advanced.webp`,\\n  wardrobeGrid: `${SUPABASE_URL}/storage/v1/object/public/templates/system/grids/wardrobe-2x3.png`,\\n}\",\"newString\":\"const SYSTEM_TEMPLATE_URLS = {\\n  characterSheetBasic: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-basic.png`,\\n  characterSheetAdvanced: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-advanced.webp`,\\n  characterSheetV3: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-v3.jpg`,\\n  wardrobeGrid: `${SUPABASE_URL}/storage/v1/object/public/templates/system/grids/wardrobe-2x3.png`,\\n}\",\"originalFile\":\"/**\\n * Recipe Types - Fill-in-the-blank prompt templates with multi-stage pipe support\\n *\\n * Field Syntax: <<FIELD_NAME:type!>>\\n * - FIELD_NAME: Variable name (used in placeholder)\\n * - type: name, text, or select(opt1,opt2,opt3)\\n * - ! at end = required field\\n *\\n * Examples:\\n * - <<CHARACTER_NAME:name!>> - Required name field (small input)\\n * - <<DESCRIPTION:text>> - Optional text field (larger input)\\n * - <<SHOT_TYPE:select(CU,MS,WS)!>> - Required dropdown\\n *\\n * Pipe Syntax:\\n * - Use | to separate stages\\n * - Each stage can have its own reference images\\n * - Previous stage output becomes reference for next stage\\n */\\n\\n// Server-safe UUID generator (crypto.randomUUID() is not available on server during SSR)\\nlet uuidCounter = 0;\\nfunction generateStageId(): string {\\n  // Use crypto.randomUUID if available (client-side), otherwise use a counter-based ID\\n  if (typeof crypto !== 'undefined' && typeof crypto.randomUUID === 'function') {\\n    return crypto.randomUUID();\\n  }\\n  return `stage-${Date.now()}-${++uuidCounter}`;\\n}\\n\\n// Field types for recipe forms\\nexport type RecipeFieldType = 'name' | 'text' | 'select'\\n\\n// A single field definition parsed from the recipe template\\nexport interface RecipeField {\\n  id: string                    // Unique field ID\\n  name: string                  // Field name from template (e.g., \\\"CHARACTER_NAME\\\")\\n  label: string                 // Display label (e.g., \\\"Character Name\\\")\\n  type: RecipeFieldType         // Field type\\n  required: boolean             // Whether field must be filled (marked with !)\\n  options?: string[]            // For 'select' type - dropdown options\\n  placeholder: string           // Placeholder text (includes ! if required)\\n}\\n\\n// Reference image attached to a recipe stage\\nexport interface RecipeReferenceImage {\\n  id: string\\n  url: string                   // Image URL (can be data URL or public URL)\\n  name?: string                 // Display name\\n  aspectRatio?: string          // Detected aspect ratio\\n  isStatic?: boolean            // Static reference images are always included\\n}\\n\\n// Stage type - generation (default) or tool\\nexport type RecipeStageType = 'generation' | 'tool'\\n\\n// Tool output type\\nexport type RecipeToolOutputType = 'single' | 'multi'\\n\\n// Available tools that can be used in recipe stages\\nexport const RECIPE_TOOLS = {\\n  'remove-background': {\\n    id: 'remove-background',\\n    name: 'Remove Background',\\n    description: 'Removes background from image, outputs PNG with transparency',\\n    icon: '✂️',\\n    cost: 3,  // points\\n    endpoint: '/api/tools/remove-background',\\n    outputType: 'single' as RecipeToolOutputType,\\n  },\\n  'cinematic-grid': {\\n    id: 'cinematic-grid',\\n    name: 'Cinematic Grid',\\n    description: 'Generates 3x3 grid with 9 cinematic camera angles from reference image',\\n    icon: '🎬',\\n    cost: 20,  // Same as nano-banana-pro (uses it internally)\\n    endpoint: '/api/tools/cinematic-grid',\\n    outputType: 'single' as RecipeToolOutputType,\\n  },\\n  'grid-split': {\\n    id: 'grid-split',\\n    name: 'Grid Split (3x3)',\\n    description: 'Splits a 3x3 grid image into 9 separate images',\\n    icon: '🔲',\\n    cost: 0,  // Server-side processing only, no API cost\\n    endpoint: '/api/tools/grid-split',\\n    outputType: 'multi' as RecipeToolOutputType,\\n    outputCount: 9,\\n  },\\n  'before-after-grid': {\\n    id: 'before-after-grid',\\n    name: 'Before/After Grid',\\n    description: 'Generates 3x3 grid showing same location in 9 different states/time periods',\\n    icon: '🔄',\\n    cost: 20,  // Same as nano-banana-pro (uses it internally)\\n    endpoint: '/api/tools/before-after-grid',\\n    outputType: 'single' as RecipeToolOutputType,\\n  },\\n} as const\\n\\nexport type RecipeToolId = keyof typeof RECIPE_TOOLS\\n\\n// A single stage in a multi-pipe recipe\\nexport interface RecipeStage {\\n  id: string\\n  order: number                 // Stage order (0, 1, 2...)\\n  type?: RecipeStageType        // 'generation' (default) or 'tool'\\n  template: string              // The prompt template for this stage (empty for tool stages)\\n  toolId?: RecipeToolId         // For tool stages: which tool to use\\n  fields: RecipeField[]         // Parsed fields from this stage's template\\n  referenceImages: RecipeReferenceImage[]  // Fixed reference images for this stage\\n}\\n\\n// User's filled-in values for a recipe\\nexport interface RecipeFieldValues {\\n  [fieldId: string]: string\\n}\\n\\n// A recipe template\\nexport interface Recipe {\\n  id: string\\n  name: string                  // Recipe name (e.g., \\\"Character Sheet Generator\\\")\\n  description?: string          // Optional description\\n  recipeNote?: string           // Instructions shown when recipe is activated\\n                                // e.g., \\\"Please provide an image with a character\\\"\\n  stages: RecipeStage[]         // Multi-stage support (separated by |)\\n  suggestedAspectRatio?: string // Suggested aspect ratio (user can change)\\n  suggestedResolution?: string  // Suggested resolution\\n  suggestedModel?: string       // Suggested model (auto-selects when recipe applied)\\n  quickAccessLabel?: string     // 1-word label for quick access bar\\n  isQuickAccess: boolean        // Whether it's in quick access\\n  categoryId?: string           // Optional category\\n  isSystem?: boolean            // System recipes are read-only, must be duplicated to edit\\n  isSystemOnly?: boolean        // If true, only visible to admin users (hidden from regular users)\\n  createdAt: number\\n  updatedAt: number\\n}\\n\\n// Quick access item - recipes only now\\nexport interface QuickAccessItem {\\n  id: string\\n  type: 'recipe'\\n  label: string                 // 1-word display label\\n  recipeId: string              // Recipe ID\\n  order: number                 // Display order (0-8)\\n}\\n\\n// Validation result for a recipe\\nexport interface RecipeValidation {\\n  isValid: boolean\\n  missingFields: string[]       // Names of required fields not filled\\n  errors: string[]              // Error messages\\n}\\n\\n// Recipe categories\\nexport interface RecipeCategory {\\n  id: string\\n  name: string\\n  icon: string\\n  isDefault?: boolean           // Built-in categories can't be deleted\\n  isSystemOnly?: boolean        // If true, only visible to admin users\\n}\\n\\n// Default recipe categories\\nexport const DEFAULT_RECIPE_CATEGORIES: RecipeCategory[] = [\\n  { id: 'characters', name: 'Characters', icon: '👤', isDefault: true },\\n  { id: 'scenes', name: 'Scenes', icon: '🎬', isDefault: true },\\n  { id: 'environments', name: 'Environments', icon: '🏛️', isDefault: true },\\n  { id: 'narrative', name: 'Narrative', icon: '📚', isDefault: true },\\n  { id: 'styles', name: 'Style Transfers', icon: '🎨', isDefault: true },\\n  { id: 'products', name: 'Products', icon: '📦', isDefault: true },\\n  { id: 'custom', name: 'Custom', icon: '✨', isDefault: true },\\n  // System-only categories (visible only to admin users)\\n  { id: 'storybook', name: 'Storybook', icon: '📖', isDefault: true, isSystemOnly: true },\\n]\\n\\n// Common select options for convenience\\nexport const COMMON_SELECT_OPTIONS = {\\n  shotType: ['ECU', 'BCU', 'CU', 'MCU', 'MS', 'MCS', 'MWS', 'WS', 'EWS', 'EST'],\\n  cameraAngle: ['eye-level', 'low-angle', 'high-angle', 'dutch', 'birds-eye', 'worms-eye', 'POV', 'OTS'],\\n  lighting: ['natural', 'golden-hour', 'dramatic', 'soft', 'rim', 'silhouette', 'high-key', 'low-key'],\\n  mood: ['dramatic', 'peaceful', 'tense', 'joyful', 'mysterious', 'romantic', 'energetic'],\\n}\\n\\n/**\\n * Parse a single stage template and extract fields\\n *\\n * Syntax: <<FIELD_NAME:type!>>\\n * - ! at end means required\\n * - type can be: name, text, select(opt1,opt2)\\n */\\nexport function parseStageTemplate(template: string, stageIndex: number): RecipeField[] {\\n  const fieldRegex = /<<([A-Z_0-9]+):([^>]+)>>/g\\n  const fields: RecipeField[] = []\\n  let match\\n  let fieldIndex = 0\\n\\n  while ((match = fieldRegex.exec(template)) !== null) {\\n    const [, name, typeSpec] = match\\n\\n    // Check if required (ends with !)\\n    const required = typeSpec.endsWith('!')\\n    const cleanTypeSpec = required ? typeSpec.slice(0, -1) : typeSpec\\n\\n    let type: RecipeFieldType = 'text'\\n    let options: string[] | undefined\\n\\n    // Parse type\\n    if (cleanTypeSpec === 'name') {\\n      type = 'name'\\n    } else if (cleanTypeSpec === 'text') {\\n      type = 'text'\\n    } else if (cleanTypeSpec.startsWith('select(')) {\\n      type = 'select'\\n      const optionsMatch = cleanTypeSpec.match(/select\\\\(([^)]+)\\\\)/)\\n      if (optionsMatch) {\\n        options = optionsMatch[1].split(',').map(o => o.trim())\\n      }\\n    }\\n\\n    // Convert FIELD_NAME to \\\"Field Name\\\" label\\n    const label = name\\n      .split('_')\\n      .map(word => word.charAt(0) + word.slice(1).toLowerCase())\\n      .join(' ')\\n\\n    // Create placeholder with ! if required\\n    const placeholder = required ? `${label}!` : label\\n\\n    fields.push({\\n      id: `stage${stageIndex}_field${fieldIndex}_${name.toLowerCase()}`,\\n      name,\\n      label,\\n      type,\\n      required,\\n      options,\\n      placeholder,\\n    })\\n\\n    fieldIndex++\\n  }\\n\\n  return fields\\n}\\n\\n/**\\n * Parse a full recipe template (may contain pipes) into stages\\n */\\nexport function parseRecipeTemplate(fullTemplate: string): RecipeStage[] {\\n  // Split by pipe\\n  const stageParts = fullTemplate.split('|').map(s => s.trim())\\n\\n  return stageParts.map((template, index) => ({\\n    id: `stage_${index}`,\\n    order: index,\\n    template,\\n    fields: parseStageTemplate(template, index),\\n    referenceImages: [],\\n  }))\\n}\\n\\n/**\\n * Get all fields from all stages, deduplicated by name\\n * If the same field name appears multiple times, only return it once\\n * (first occurrence wins, keeps required status if any instance is required)\\n */\\nexport function getAllFields(stages: RecipeStage[]): RecipeField[] {\\n  const allFields = stages.flatMap(stage => stage.fields)\\n  const uniqueByName = new Map<string, RecipeField>()\\n\\n  for (const field of allFields) {\\n    const existing = uniqueByName.get(field.name)\\n    if (existing) {\\n      // If this instance is required, update the existing to be required\\n      if (field.required && !existing.required) {\\n        uniqueByName.set(field.name, { ...existing, required: true })\\n      }\\n    } else {\\n      uniqueByName.set(field.name, field)\\n    }\\n  }\\n\\n  return Array.from(uniqueByName.values())\\n}\\n\\n/**\\n * Get deduplicated fields for the form (user only fills each unique field once)\\n */\\nexport function getUniqueFieldsForForm(stages: RecipeStage[]): RecipeField[] {\\n  return getAllFields(stages)\\n}\\n\\n/**\\n * Build a prompt from a stage template and field values\\n * - Looks up values by field NAME (for variable reuse)\\n * - Optional fields with empty values are omitted entirely\\n * - Cleans up orphaned punctuation and extra spaces\\n */\\nexport function buildStagePrompt(\\n  template: string,\\n  fields: RecipeField[],\\n  values: RecipeFieldValues,\\n  allUniqueFields?: RecipeField[]\\n): string {\\n  let result = template\\n\\n  // Build a map of field name -> value (using unique fields for lookup)\\n  const fieldsToUse = allUniqueFields || fields\\n  const valueByName = new Map<string, { value: string; required: boolean }>()\\n\\n  for (const field of fieldsToUse) {\\n    // Try to find value by field ID first, then by name-based lookup\\n    let value = values[field.id] || ''\\n\\n    // Also check if any field with this name has a value set\\n    if (!value) {\\n      for (const [id, val] of Object.entries(values)) {\\n        if (id.toLowerCase().includes(field.name.toLowerCase()) && val) {\\n          value = val\\n          break\\n        }\\n      }\\n    }\\n\\n    valueByName.set(field.name, { value, required: field.required })\\n  }\\n\\n  // Replace each field placeholder\\n  const fieldRegex = /<<([A-Z_0-9]+):([^>]+)>>/g\\n  result = result.replace(fieldRegex, (_match, name, typeSpec) => {\\n    const fieldData = valueByName.get(name)\\n    const value = fieldData?.value || ''\\n    const isRequired = typeSpec.endsWith('!')\\n\\n    // If optional and empty, return empty string to remove placeholder\\n    if (!value && !isRequired) {\\n      return ''\\n    }\\n\\n    return value\\n  })\\n\\n  // Clean up orphaned punctuation and extra spaces\\n  // Remove \\\", ,\\\" patterns\\n  result = result.replace(/,\\\\s*,/g, ',')\\n  // Remove \\\", .\\\" or \\\". ,\\\" patterns\\n  result = result.replace(/[,\\\\s]+\\\\./g, '.')\\n  result = result.replace(/\\\\.\\\\s*,/g, '.')\\n  // Remove leading/trailing commas in sentences\\n  result = result.replace(/,\\\\s*$/g, '')\\n  result = result.replace(/^\\\\s*,\\\\s*/g, '')\\n  // Remove multiple spaces\\n  result = result.replace(/\\\\s+/g, ' ')\\n  // Clean up spaces around punctuation\\n  result = result.replace(/\\\\s+,/g, ',')\\n  result = result.replace(/\\\\s+\\\\./g, '.')\\n\\n  return result.trim()\\n}\\n\\n/**\\n * Result of building recipe prompts - includes both prompts and reference images\\n */\\nexport interface RecipePromptResult {\\n  prompts: string[]\\n  referenceImages: string[]           // All refs flattened (backward compat)\\n  stageReferenceImages: string[][]    // Per-stage refs indexed by stage order\\n}\\n\\n/**\\n * Build all stage prompts from a recipe\\n * Uses deduplicated fields so same field name = same value across stages\\n * Also collects all reference images from all stages\\n */\\nexport function buildRecipePrompts(\\n  stages: RecipeStage[],\\n  values: RecipeFieldValues\\n): RecipePromptResult {\\n  const uniqueFields = getAllFields(stages)\\n  const prompts = stages.map(stage => buildStagePrompt(stage.template, stage.fields, values, uniqueFields))\\n\\n  // Collect all reference images from all stages (deduplicated) for backward compatibility\\n  const referenceImages: string[] = []\\n  for (const stage of stages) {\\n    for (const ref of stage.referenceImages || []) {\\n      if (ref.url && !referenceImages.includes(ref.url)) {\\n        referenceImages.push(ref.url)\\n      }\\n    }\\n  }\\n\\n  // Collect reference images per stage (indexed by stage order) for pipe chaining\\n  const stageReferenceImages: string[][] = stages.map(stage =>\\n    (stage.referenceImages || [])\\n      .map(ref => ref.url)\\n      .filter((url): url is string => Boolean(url))\\n  )\\n\\n  return { prompts, referenceImages, stageReferenceImages }\\n}\\n\\n/**\\n * Calculate the total cost of a recipe based on its tool stages\\n * Returns 0 if no tool stages (cost determined by selected model)\\n */\\nexport function calculateRecipeCost(stages: RecipeStage[]): number {\\n  return stages.reduce((total, stage) => {\\n    if (stage.type === 'tool' && stage.toolId) {\\n      const tool = RECIPE_TOOLS[stage.toolId as RecipeToolId]\\n      if (tool) return total + tool.cost\\n    }\\n    return total\\n  }, 0)\\n}\\n\\n/**\\n * Validate that all required fields are filled\\n * Uses deduplicated fields so same field name = validated once\\n */\\nexport function validateRecipe(\\n  stages: RecipeStage[],\\n  values: RecipeFieldValues\\n): RecipeValidation {\\n  const missingFields: string[] = []\\n  const errors: string[] = []\\n\\n  // Use deduplicated fields for validation\\n  const uniqueFields = getAllFields(stages)\\n\\n  for (const field of uniqueFields) {\\n    if (field.required) {\\n      // Check by field ID first\\n      let value = values[field.id]\\n\\n      // Also check by field name pattern\\n      if (!value) {\\n        for (const [id, val] of Object.entries(values)) {\\n          if (id.includes(field.name.toLowerCase()) && val) {\\n            value = val\\n            break\\n          }\\n        }\\n      }\\n\\n      if (!value || value.trim() === '') {\\n        missingFields.push(field.label)\\n        errors.push(`${field.label} is required`)\\n      }\\n    }\\n  }\\n\\n  return {\\n    isValid: missingFields.length === 0,\\n    missingFields,\\n    errors,\\n  }\\n}\\n\\n/**\\n * Frame type options for cinematic grids\\n */\\nexport const FRAME_TYPE_OPTIONS = {\\n  row1: ['Extreme Wide Shot', 'Wide Shot', 'Full Body Shot', 'Establishing Shot', 'Environmental Shot'],\\n  row2: ['Medium Wide Shot', 'Medium Shot', 'Waist-Up Shot', 'Cowboy Shot', 'American Shot'],\\n  row3: ['Medium Close-Up', 'Close-Up Shot', 'Chest-Up Shot', 'Tight Shot', 'Portrait Frame'],\\n  row4: ['Extreme Close-Up', 'Big Close-Up', 'Detail Shot', 'Macro Shot', 'Insert Shot'],\\n  angles: ['Eye-Level', 'Low Angle', 'High Angle', 'Dutch Angle', 'Birds Eye', 'Worms Eye', 'Over-the-Shoulder', 'POV'],\\n}\\n\\n/**\\n * Holiday options\\n */\\nexport const HOLIDAY_OPTIONS = [\\n  'Christmas',\\n  'Valentines Day',\\n  'Halloween',\\n  'Easter',\\n  'Thanksgiving',\\n  'New Years Eve',\\n  'Fourth of July',\\n  'St Patricks Day',\\n  'Lunar New Year',\\n  'Diwali',\\n  'Hanukkah',\\n  'Cinco de Mayo',\\n]\\n\\n/**\\n * System template URLs from Supabase Storage\\n * These are used as layout reference images for recipes\\n */\\nconst SUPABASE_URL = 'https://tarohelkwuurakbxjyxm.supabase.co'\\n\\nconst SYSTEM_TEMPLATE_URLS = {\\n  characterSheetBasic: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-basic.png`,\\n  characterSheetAdvanced: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-advanced.webp`,\\n  wardrobeGrid: `${SUPABASE_URL}/storage/v1/object/public/templates/system/grids/wardrobe-2x3.png`,\\n}\\n\\n/**\\n * Sample recipes for initial setup\\n */\\nexport const SAMPLE_RECIPES: Omit<Recipe, 'id' | 'createdAt' | 'updatedAt'>[] = [\\n  // Style Guide Grid - 6 tile visual style guide (matches user's proven prompt)\\n  {\\n    name: 'Style Guide Grid',\\n    description: 'Create a 2x3 visual style guide with 6 example tiles demonstrating the full visual language of a style',\\n    recipeNote: 'Attach a style reference image. Name your style. The model generates 6 tiles showing how the style handles characters, action, environments, and diversity.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Create a visual style guide as a 6-image grid (2 rows × 3 columns) titled \\\"<<STYLE_NAME:text!>> – Style Guide\\\".\\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\\n\\nThe guide must generate its own characters and should NOT rely on any user-provided characters.\\n\\nGLOBAL STYLE RULES (match the reference image exactly):\\n- Color & Contrast: Match the reference image's color palette, contrast, and saturation\\n- Rendering Style: Maintain identical rendering style across all 6 tiles (painterly, illustrative, photoreal, 3D, claymation, etc.)\\n- Line & Detail: Match line quality, edge sharpness/softness, and detail level\\n- Lighting & Mood: Match lighting style, time of day, shadow softness, and mood\\n- Camera Language: Match depth of field, framing, focal length feel, and sense of motion\\n- World Cohesion: Every tile must look like it comes from the same production, using the same design language, textures, and atmosphere\\n\\nSHARED CAST (for consistency demonstration):\\n- Character A: A Black man in his early 30s, medium build, short natural hair, expressive eyes\\n- Character B: A White man in his early 30s, average build, short hair, clean shave\\nThese characters are generated by the model to test how the style handles racial diversity consistently.\\n\\nTHE 6 TILES:\\n\\nTILE 1 - CHARACTER CLOSE-UP:\\nDramatic close-up portrait (shoulders-up) of a newly generated character with expressive lighting and shallow depth of field. Must clearly demonstrate how the style handles skin texture, emotion, materials, and color behavior.\\n\\nTILE 2 - ACTION SCENE:\\nDynamic action scene showing a character or small group in motion. Must maintain the same lighting behavior, color palette, and rendering fidelity as the reference style.\\n\\nTILE 3 - ENVIRONMENT DETAIL:\\nRichly detailed environment element (street corner, room interior, forest clearing, rooftop, etc.) showing materials, lighting, and atmospheric depth consistent with the style.\\n\\nTILE 4 - MULTI-RACIAL CHARACTER INTERACTION:\\nThe Black man and White man (from the shared cast) performing a simple activity together — walking, talking, collaborating. Their skin tones, facial structures, and materials must be rendered consistently without drifting between tiles.\\n\\nTILE 5 - DYNAMIC POSE:\\nFull-body or 3/4-body shot of a character in a dramatic action-oriented pose demonstrating how anatomy, silhouette, and gesture are depicted in this style.\\n\\nTILE 6 - SET / LOCATION DESIGN:\\nWide shot highlighting set or location design (city street, throne room, industrial hangar, temple ruins, etc.). Must match environment lighting, atmosphere, and lens behavior of the reference style.\\n\\nCRITICAL: This guide functions as a style bible for future scenes — a unified blueprint demonstrating humans, environments, action, and design language in one consistent art style.\\n\\nNo style drift. No new color schemes, lighting models, render methods, or camera styles.\\nBlack grid lines between all cells. No text labels in the images.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '3:2',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'StyleGuide',\\n    categoryId: 'styles',\\n  },\\n\\n  // Character Sheet - Professional reference sheet matching action figure style\\n  {\\n    name: 'Character Sheet',\\n    description: 'Professional character reference sheet with full-body views, expressions, and accessories',\\n    recipeNote: 'Attach a reference image of your character. The sheet will include turnarounds, expressions, talking views, and accessory slots.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `CHARACTER @<<CHARACTER_NAME:name!>>\\n\\nCreate a professional character reference sheet on a clean white/light gray background.\\n\\nLAYOUT (Left to Right):\\n\\nSECTION 1 - FULL BODY VIEWS:\\n- Large front view with proportion grid lines\\n- Side profile view\\n- Back view\\n- All views on same baseline for height reference\\n- Below: COLOR PALETTE strip showing skin, hair, eye colors, and main clothing colors\\n\\nSECTION 2 - EXPRESSIONS & DETAILS:\\n- Header: \\\"CHARACTER @<<CHARACTER_NAME:name!>>\\\" with description box\\n- EXPRESSION GRID (2 rows × 3 columns):\\n  Row 1: Talking-Neutral, Talking-Happy, Talking-Angry\\n  Row 2: Sad, Surprised, Smug/Confident\\n- Below: CLOSE-UP DETAILS box for distinctive features\\n- ACCESSORIES boxes for props/items\\n\\nSECTION 3 - TALKING VIEWS:\\n- Profile head shots showing speaking poses\\n- Additional ACCESSORIES boxes\\n\\nSTYLE: <<STYLE:select(claymation,anime,3D render,cartoon,realistic,watercolor,oil painting,illustrated,Pixar-style,Disney-style)>>\\n\\nClean, production-ready layout. No busy backgrounds.\\nConsistent lighting and rendering across all views.\\nProfessional character sheet suitable for animation/illustration reference.`,\\n      fields: [],\\n      referenceImages: [\\n        {\\n          id: 'template_charsheet_advanced',\\n          url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\n          name: 'Character Sheet Layout Template',\\n          aspectRatio: '21:9',\\n        },\\n      ],\\n    }],\\n    suggestedAspectRatio: '21:9',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'CharSheet',\\n    categoryId: 'characters',\\n  },\\n\\n  // Character Sheet from Description - No photo required\\n  {\\n    name: 'Character Sheet (From Description)',\\n    description: 'Generate a character sheet from text description only - no reference photo needed',\\n    recipeNote: 'Perfect for creating consistent characters when you only have a written description. Stage 1 generates the character appearance, Stage 2 creates the full character sheet.',\\n    stages: [\\n      // STAGE 0: Generate character appearance from description\\n      {\\n        id: 'stage_desc_char_0',\\n        order: 0,\\n        type: 'generation',\\n        template: `Generate a character based on this description:\\n\\nCHARACTER NAME: @<<CHARACTER_NAME:name!>>\\nVISUAL DESCRIPTION: <<CHARACTER_DESCRIPTION:text!>>\\n\\nCreate a full-body character portrait:\\n- Standing pose, facing forward (slight 3/4 angle is acceptable)\\n- Clean WHITE or light gray background\\n- Neutral expression, relaxed posture\\n- Soft, even studio lighting\\n- Show full body from head to feet\\n- High detail on face and distinctive features\\n\\nSTYLE: <<STYLE:select(realistic,cinematic,anime,3D render,cartoon,illustrated,concept art,oil painting,watercolor,Pixar-style,Disney-style)>>\\n\\nThe character should match the description EXACTLY - pay attention to:\\n- Age, gender, ethnicity\\n- Hair color, style, length\\n- Eye color\\n- Build/body type\\n- Clothing and accessories\\n- Any distinctive features (scars, tattoos, glasses, etc.)\\n\\nOutput: High-quality full-body character portrait suitable for reference.`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n      // STAGE 1: Generate character sheet with expressions\\n      {\\n        id: 'stage_desc_char_1',\\n        order: 1,\\n        type: 'generation',\\n        template: `CHARACTER: @<<CHARACTER_NAME:name!>>\\n\\nCreate a professional character reference sheet using the previous image as the definitive reference.\\n\\nCRITICAL: Every view and expression must clearly be the SAME PERSON.\\nFacial structure, proportions, and distinctive features must remain IDENTICAL across all views.\\n\\nCHARACTER SHEET LAYOUT (21:9 aspect ratio):\\n\\nLEFT SECTION - FULL BODY VIEWS:\\n- Large front view with proportion reference\\n- Side profile view\\n- Back view\\n- All views on same baseline for height reference\\n- Below: COLOR PALETTE strip (skin, hair, eye colors, main clothing colors)\\n\\nRIGHT SECTION - EXPRESSIONS (2 rows × 5 columns):\\nRow 1: Neutral, Happy, Sad, Angry, Surprised\\nRow 2: Speaking, Shouting, Whispering, Confident, Scared\\n\\nTOP: Character name \\\"@<<CHARACTER_NAME:name!>>\\\" prominently displayed\\n\\nSTYLE: Match the style from Stage 1 exactly\\n\\nCRITICAL REQUIREMENTS:\\n- SOLID BLACK LINES (4-6 pixels) separating each expression cell\\n- All expressions maintain the SAME face structure\\n- Clean white/light gray background throughout\\n- Production-ready layout for animation/illustration reference`,\\n        fields: [],\\n        referenceImages: [\\n          {\\n            id: 'template_charsheet_advanced',\\n            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\n            name: 'Character Sheet Layout Template',\\n            aspectRatio: '21:9',\\n          }\\n        ],\\n      },\\n    ],\\n    suggestedAspectRatio: '21:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'DescSheet',\\n    categoryId: 'characters',\\n  },\\n\\n  // 9-Frame Cinematic Contact Sheet\\n  {\\n    name: '9-Frame Cinematic',\\n    description: '3x3 cinematic contact sheet covering full shot range',\\n    recipeNote: 'Attach a reference image. The model will create 9 different framings of the same subject with black grid lines for extraction.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Analyze the entire composition of the input image. Identify all key subjects present (single person, group, vehicle, or object) and their spatial relationship.\\n\\nGenerate a cohesive 3x3 cinematic contact sheet featuring 9 distinct camera shots of exactly these subjects in the same environment.\\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\\n\\nROW 1 - ENVIRONMENTAL CONTEXT:\\n1. <<FRAME_1:select(Extreme Wide Shot,Wide Shot,Establishing Shot,Environmental Shot,Vista Shot)!>>\\n2. <<FRAME_2:select(Wide Shot,Full Body Shot,Long Shot,Master Shot)!>>\\n3. <<FRAME_3:select(Medium Wide Shot,Medium Long Shot,Cowboy Shot,American Shot)!>>\\n\\nROW 2 - CORE SUBJECT:\\n4. <<FRAME_4:select(Medium Shot,Waist-Up Shot,Mid-Shot,Two-Shot)!>>\\n5. <<FRAME_5:select(Medium Close-Up,Chest-Up Shot,Bust Shot)!>>\\n6. <<FRAME_6:select(Close-Up Shot,Tight Shot,Head Shot)!>>\\n\\nROW 3 - INTIMATE DETAILS & ANGLES:\\n7. <<FRAME_7:select(Extreme Close-Up,Macro Detail,Insert Shot,Detail Shot)!>>\\n8. <<FRAME_8:select(Low Angle Upward,Worms Eye View,Hero Shot,Power Shot)!>>\\n9. <<FRAME_9:select(High Angle Downward,Birds Eye,Overhead Shot,God Shot)!>>\\n\\nSTRICT REQUIREMENTS:\\n- Identical subjects, outfits, environment, lighting across all 9 frames\\n- Coherent scene continuity\\n- Depth of field becomes increasingly shallow as framing gets tighter\\n- Black grid lines separating all 9 cells\\n- No labels, text, overlays, icons, or shot-type captions\\n- Only clean cinematic imagery\\n- Professional photorealistic textures and cinematic color grading<<STYLE:select(,maintain claymation style,maintain anime style,maintain watercolor style,maintain oil painting style,maintain 3D render style)>>`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: '9-Frame',\\n    categoryId: 'scenes',\\n  },\\n\\n  // 9-Frame Before/After Location Grid\\n  {\\n    name: 'Before/After Location',\\n    description: '3x3 grid showing same location in 9 different states/time periods',\\n    recipeNote: 'Attach a reference image of a location. The model will show the same camera angle with 9 different states (time of day, seasons, decades, or custom transformations).',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Analyze the location shown in the reference image. Identify the exact camera angle, composition, and key architectural/environmental features.\\n\\nGenerate a 3x3 grid showing this EXACT SAME location from the EXACT SAME camera angle in 9 different <<TRANSFORMATION:select(time periods throughout a single day,seasons throughout a year,decades from past to future,states before and after an event,construction phases from empty lot to completion)!>>.\\n\\n<<LOCATION_DESCRIPTION:text>> - Brief description of the location (optional, helps with accuracy)\\n\\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\\n\\nROW 1 - BEGINNING STATES:\\n1. <<STATE_1:select(Pre-dawn/6AM,Early Spring,1920s Era,Pristine Before,Empty Lot)!>>\\n2. <<STATE_2:select(Sunrise/7AM,Late Spring,1950s Era,Warning Signs,Groundbreaking)!>>\\n3. <<STATE_3:select(Morning/9AM,Early Summer,1970s Era,Event Beginning,Foundation)!>>\\n\\nROW 2 - MIDDLE STATES:\\n4. <<STATE_4:select(Midday/12PM,Mid Summer,1980s Era,Event Peak,Framing Complete)!>>\\n5. <<STATE_5:select(Afternoon/3PM,Late Summer,1990s Era,Maximum Impact,Exterior Done)!>>\\n6. <<STATE_6:select(Golden Hour/5PM,Early Autumn,2000s Era,Event Subsiding,Interior Work)!>>\\n\\nROW 3 - END STATES:\\n7. <<STATE_7:select(Sunset/7PM,Peak Autumn,2010s Era,Immediate Aftermath,Landscaping)!>>\\n8. <<STATE_8:select(Dusk/8PM,Late Autumn,2020s Present,Recovery Phase,Final Touches)!>>\\n9. <<STATE_9:select(Night/10PM,Winter,2040s Future,Fully Transformed,Completed/Occupied)!>>\\n\\nSTRICT REQUIREMENTS:\\n- IDENTICAL camera angle and position in EVERY cell\\n- IDENTICAL composition and framing\\n- Only the state/time/condition of the location changes\\n- Black grid lines separating all 9 cells\\n- No labels, text, overlays, icons, or captions\\n- Photorealistic rendering with attention to lighting changes\\n- Consistent architectural details across all frames<<STYLE:select(,maintain illustrated style,maintain painterly style,maintain cinematic style,maintain documentary style)>>`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'Before/After',\\n    categoryId: 'scenes',\\n  },\\n\\n  // Holiday Vibe - Add holiday elements\\n  {\\n    name: 'Holiday Vibe',\\n    description: 'Add holiday decorations and atmosphere without changing the character',\\n    recipeNote: 'Attach the image you want to add holiday vibes to. The character and location will stay the same.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `DO NOT change the character or the location in this image.\\nDO NOT alter the person's face, body, clothing, or pose.\\nDO NOT change the environment structure or layout.\\n\\nONLY ADD elements that give this image a <<HOLIDAY:select(Christmas,Valentines Day,Halloween,Easter,Thanksgiving,New Years Eve,Fourth of July,St Patricks Day,Lunar New Year,Diwali,Hanukkah,Cinco de Mayo)!>> vibe.\\n\\nYou may add:\\n- Holiday-specific decorations (lights, ornaments, banners, etc.)\\n- Seasonal atmospheric effects (snow, confetti, sparkles, etc.)\\n- Holiday-themed props in the environment\\n- Appropriate color grading/lighting that matches the holiday mood\\n- Festive background elements\\n\\nKeep the subject looking natural and not like they're wearing a costume (unless it makes sense for the holiday).\\nThe additions should feel organic and integrated, not pasted on.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'Holiday',\\n    categoryId: 'scenes',\\n  },\\n\\n  // Story to 9 Frames - Complete visual narrative\\n  {\\n    name: 'Story to 9 Frames',\\n    description: 'Tell an entire story in 9 cinematic frames. Attach character sheet and style guide for consistency.',\\n    recipeNote: 'Attach: 1) Character sheet, 2) Style guide. Enter your story. The AI will identify 9 key moments and visualize them.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `MAIN CHARACTER: @<<CHARACTER_NAME:name!>>\\nUse the attached character sheet for ABSOLUTE consistency - same face, same body, same proportions in every frame.\\n\\nSTYLE: Match the attached style guide EXACTLY across all 9 frames.\\n\\nSTORY:\\n<<STORY:text!>>\\n\\nGenerate a 3x3 grid telling this COMPLETE STORY in 9 cinematic frames.\\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\\n\\nCRITICAL - ABSOLUTE CONSISTENCY:\\n- Character looks IDENTICAL in every frame (same face, same features, same body)\\n- Clothing only changes if the story explicitly describes it\\n- Art style remains PERFECTLY consistent (same rendering, same colors, same lighting approach)\\n- The 9 frames together tell a COMPLETE, COHERENT story\\n\\nANALYZE THE STORY AND CREATE:\\n\\nROW 1 - ACT 1 (Setup):\\n1. THE WORLD: Establish the setting, show where the story takes place\\n2. THE CHARACTER: Introduce the protagonist in their normal world\\n3. THE INCITING INCIDENT: Something changes, disrupts the normal\\n\\nROW 2 - ACT 2 (Conflict):\\n4. THE JOURNEY BEGINS: Character responds to the change, takes action\\n5. THE CHALLENGE: Obstacles, conflict, struggle - show the difficulty\\n6. THE LOW POINT: Moment of doubt, failure, or greatest challenge\\n\\nROW 3 - ACT 3 (Resolution):\\n7. THE TURNING POINT: Character finds strength, solution, or revelation\\n8. THE CLIMAX: Peak action, confrontation, the decisive moment\\n9. THE NEW NORMAL: Resolution, aftermath, how things have changed\\n\\nCINEMATOGRAPHY:\\n- Vary shot types: wide establishing, medium, close-up, etc.\\n- Use camera angles to enhance emotion (low angle = power, high angle = vulnerability)\\n- Lighting should reflect emotional tone (warm = comfort, cool = tension, dramatic = conflict)\\n- Each frame should be INSTANTLY UNDERSTANDABLE without text\\n\\n<<GENRE:select(adventure,fantasy,slice of life,mystery,comedy,drama,action,heartwarming)>>\\n\\nBlack grid lines between all cells. No text, labels, or dialogue in frames.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'StoryFrames',\\n    categoryId: 'scenes',\\n  },\\n\\n  // Talking Heads / Multi-Angle - Same scene from different camera angles\\n  {\\n    name: 'Talking Heads Multi-Angle',\\n    description: 'Same scene from 9 different camera angles - perfect for podcasts, interviews, TV shows, behind-the-scenes',\\n    recipeNote: 'Attach your character/scene reference. Get 9 angles: front, side, close-up, over-shoulder, wide, behind-the-scenes, and more.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Analyze the reference image. This is the PRIMARY SHOT of a <<SCENE_TYPE:select(podcast recording,interview,TV show scene,livestream setup,meeting,presentation,conversation,news broadcast)!>>.\\n\\nGenerate a 3x3 grid showing the EXACT SAME SCENE from 9 different camera angles.\\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\\n\\nCRITICAL - ABSOLUTE CONSISTENCY:\\n- SAME person(s), SAME clothing, SAME environment, SAME lighting setup\\n- SAME props, equipment, and background elements\\n- SAME moment in time - nothing has moved or changed\\n- Only the CAMERA POSITION changes\\n\\nTHE 9 ANGLES:\\n\\nROW 1 - PRIMARY COVERAGE:\\n1. FRONT MEDIUM: Classic talking head, shoulders-up, direct to camera\\n2. FRONT CLOSE-UP: Tighter frame, face fills more of the shot, emotional intimacy\\n3. FRONT WIDE: Pull back to show full setup, desk/table, environment context\\n\\nROW 2 - SIDE ANGLES:\\n4. PROFILE LEFT: 90° side view from the left, clean silhouette\\n5. 3/4 ANGLE: 45° angle showing depth and dimension\\n6. PROFILE RIGHT: 90° side view from the right, clean silhouette\\n\\nROW 3 - PRODUCTION ANGLES:\\n7. OVER-THE-SHOULDER: From behind, showing what they're looking at (screen, guest, etc.)\\n8. HIGH ANGLE: Looking down at the setup, shows spatial layout\\n9. BEHIND-THE-SCENES: Wide shot showing production equipment - cameras, lights, monitors, crew silhouettes\\n\\n<<PRODUCTION_STYLE:select(professional studio,home office,podcast booth,news desk,outdoor location,casual living room)>>\\n<<EQUIPMENT_VISIBLE:select(show microphones and monitors,minimal visible equipment,full production setup visible)>>\\n\\nMaintain the attached style guide's visual language throughout.\\nBlack grid lines between all cells. No text labels.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'TalkHead',\\n    categoryId: 'scenes',\\n  },\\n\\n  // Time of Day Series\\n  {\\n    name: 'Time of Day',\\n    description: 'Same location across 6 different times of day',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Analyze the location in the reference image. Create a 2x3 grid showing this EXACT same location at 6 different times of day.\\n\\nSTRICT REQUIREMENTS:\\n- The location, architecture, and composition must remain IDENTICAL across all 6 frames\\n- Only the lighting, sky, and atmospheric conditions should change\\n- Maintain consistent camera angle and framing\\n- No people or moving objects should change position\\n\\nTHE 6 TIME PERIODS:\\n1. DAWN (5-6 AM) - Pre-sunrise, deep blue sky with hints of orange on horizon, soft diffused light, quiet atmosphere\\n2. GOLDEN HOUR MORNING (7-8 AM) - Warm golden sunlight, long soft shadows, gentle glow on surfaces\\n3. MIDDAY (12 PM) - Harsh overhead sun, minimal shadows, bright and washed out colors, high contrast\\n4. GOLDEN HOUR EVENING (5-6 PM) - Rich warm orange/amber light, long dramatic shadows, romantic atmosphere\\n5. BLUE HOUR (7-8 PM) - Post-sunset, deep blue sky with warm artificial lights beginning to glow, twilight mood\\n6. NIGHT (10 PM+) - Dark sky, <<NIGHT_LIGHTING:select(moonlit with silver highlights,city lights and neon glow,streetlamp pools of light,dramatic noir lighting,starlit with minimal ambient)!>>\\n\\nArrange as a 2 row × 3 column grid. No labels or text overlays.<<STYLE:select(,Maintain photorealistic style,Maintain cinematic film style,Maintain painterly style,Maintain anime style)>>`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '3:2',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'TimeOfDay',\\n    categoryId: 'scenes',\\n  },\\n\\n  // Photo to Character Sheet (Isolation) - 3-stage pipeline for storybook\\n  {\\n    name: 'Photo to Character Sheet (Isolation)',\\n    description: 'Multi-stage: Extract character from photo → Apply art style → Generate character sheet. Best for single-photo input.',\\n    recipeNote: 'Attach: 1) Full-body photo of person, 2) Style guide for target art style. This version isolates the character first - use \\\"Multi-Ref\\\" version if you have multiple reference angles.',\\n    stages: [\\n      // STAGE 1: Isolate character from photo\\n      {\\n        id: 'stage_0',\\n        order: 0,\\n        template: `Analyze the attached photo and extract the person as an isolated character.\\n\\nCRITICAL LIKENESS PRESERVATION:\\n- Exact facial structure: bone structure, jaw shape, cheekbones, nose shape, eye shape and spacing\\n- Exact skin tone and undertones\\n- Exact hair: color, texture, style, length, hairline shape\\n- Exact body proportions: height, build, posture\\n- Exact distinguishing features: moles, freckles, scars, dimples, facial hair\\n\\nCreate a clean, full-body portrait on a simple neutral background.\\nRemove busy background elements while keeping the person COMPLETELY intact.\\nDo NOT alter, enhance, or \\\"improve\\\" any facial features.\\nThe isolated character must be IDENTICAL to the input photo.`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n      // STAGE 2: Stylize the isolated character\\n      {\\n        id: 'stage_1',\\n        order: 1,\\n        template: `Transform this character into <<STYLE_NAME:text!>> style.\\n\\nCRITICAL - ABSOLUTE LIKENESS PRESERVATION:\\nEven in stylized form, the character MUST be recognizable as the same person:\\n- Maintain exact facial proportions and structure\\n- Keep distinctive features (nose shape, eye spacing, jawline)\\n- Preserve exact skin tone relationships\\n- Keep exact hair style, texture, and color\\n- Maintain body proportions and posture\\n\\nSTYLE TRANSFER (use attached style guide reference image):\\n- Follow the style guide reference EXACTLY - it is the definitive visual\\n- Match the style guide's color palette and saturation\\n- Match line quality and rendering approach\\n- Match level of stylization (how simplified features become)\\n- Match lighting and shadow style\\n- Match edge treatment (sharp vs soft)\\n\\nThe result should look like THIS SPECIFIC PERSON drawn in the target art style.\\nNOT a generic character that vaguely resembles them.`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n      // STAGE 3: Generate character sheet\\n      {\\n        id: 'stage_2',\\n        order: 2,\\n        template: `Name/Tag: @<<CHARACTER_NAME:name!>>\\n\\nCreate a professional character reference sheet maintaining PERFECT LIKENESS.\\n\\nCRITICAL: Every view and expression must clearly be the SAME PERSON from previous stages.\\nFacial structure, proportions, and distinctive features must remain IDENTICAL across all views.\\n\\nCHARACTER SHEET LAYOUT (21:9 aspect ratio):\\n\\nLEFT SECTION - FULL BODY:\\n- Large neutral standing pose, front view (primary)\\n- Smaller side profile view\\n- Smaller back view (if space permits)\\n- Color palette strip: skin tone, hair color, eye color, main clothing colors\\n\\nRIGHT SECTION - EXPRESSIONS (2 rows × 5 columns):\\nRow 1: Neutral, Happy, Sad, Angry, Surprised\\nRow 2: Speaking, Shouting, Whispering, Smug/Confident, Scared\\n\\nTOP: Character name \\\"@<<CHARACTER_NAME:name!>>\\\" prominently displayed\\n\\nAll expressions must maintain the SAME face - only the expression changes, not the underlying structure.\\nWhite/light gray background. Clean, production-ready layout.\\nMaintain exact art style consistency from Stage 2.`,\\n        fields: [],\\n        referenceImages: [],\\n      }\\n    ],\\n    suggestedAspectRatio: '21:9',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'PhotoChar',\\n    categoryId: 'characters',\\n    isSystemOnly: true,  // Hidden from users, used internally by storybook\\n  },\\n\\n  // Photo to Character Sheet (Multi-Reference) - For multiple reference angles\\n  {\\n    name: 'Photo to Character Sheet (Multi-Ref)',\\n    description: 'Generate character sheet from multiple reference photos. Better likeness from multiple angles.',\\n    recipeNote: 'Attach: Multiple photos of the same person from different angles + style guide. More references = better likeness.',\\n    stages: [\\n      // STAGE 1: Analyze all references and stylize\\n      {\\n        id: 'stage_0',\\n        order: 0,\\n        template: `You have multiple reference photos of the SAME person from different angles.\\n\\nCRITICAL: Analyze ALL attached reference images to build a complete understanding of this person:\\n- Study facial structure from every available angle\\n- Note how features look from front, side, 3/4 view\\n- Identify consistent skin tone, hair texture, body proportions\\n- Catalog distinguishing features: moles, freckles, facial hair, scars\\n\\nNow transform this person into <<ART_STYLE:select(claymation,watercolor,cartoon,anime,3D animated,illustrated,storybook,Disney-style,Pixar-style)!>> style.\\n\\nABSOLUTE LIKENESS PRESERVATION:\\nEven in stylized form, someone who knows this person should recognize them instantly.\\nMaintain ALL distinctive features in stylized form.\\nUse the multiple angles to ensure 3D-consistent stylization.\\n\\nSTYLE TRANSFER (use attached style guide):\\n- Match style guide's color palette and saturation\\n- Match line quality and rendering approach\\n- Match level of stylization\\n- Match lighting and shadow style\\n\\nOutput: The character in stylized form, full body, clean background.`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n      // STAGE 2: Generate character sheet\\n      {\\n        id: 'stage_1',\\n        order: 1,\\n        template: `Name/Tag: @<<CHARACTER_NAME:name!>>\\n\\nCreate a professional character reference sheet.\\n\\nCRITICAL: Maintain PERFECT LIKENESS across all views - this must clearly be the same person from every angle.\\nUse your understanding from the multiple reference photos.\\n\\nCHARACTER SHEET LAYOUT (21:9 aspect ratio):\\n\\nLEFT SECTION - FULL BODY:\\n- Large neutral standing pose, front view (primary)\\n- Smaller side profile view\\n- Smaller back view (if space permits)\\n- Color palette strip: skin tone, hair color, eye color, main clothing colors\\n\\nRIGHT SECTION - EXPRESSIONS (2 rows × 5 columns):\\nRow 1: Neutral, Happy, Sad, Angry, Surprised\\nRow 2: Speaking, Shouting, Whispering, Smug/Confident, Scared\\n\\nTOP: Character name \\\"@<<CHARACTER_NAME:name!>>\\\" prominently displayed\\n\\nCONSISTENCY CHECK: All 10 expressions + all body views = SAME recognizable person.\\nWhite/light gray background. Clean, production-ready layout.`,\\n        fields: [],\\n        referenceImages: [],\\n      }\\n    ],\\n    suggestedAspectRatio: '21:9',\\n    isQuickAccess: false,\\n    quickAccessLabel: 'MultiRef',\\n    categoryId: 'characters',\\n  },\\n\\n  // Book Cover Generator - 2-stage pipeline for storybook\\n  {\\n    name: 'Book Cover Generator',\\n    description: 'Generate 9 book cover variations, select one, upscale to final quality',\\n    recipeNote: 'Attach: 1) Style guide, 2) Main character sheet. Enter book title.',\\n    stages: [\\n      // STAGE 1: Generate 9 cover variations in grid\\n      {\\n        id: 'stage_0',\\n        order: 0,\\n        template: `Create a 3x3 grid of 9 children's book cover variations.\\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\\n\\nBOOK TITLE: \\\"<<BOOK_TITLE:text!>>\\\"\\n\\nCRITICAL - MAINTAIN EXACT ART STYLE:\\nUse the attached style guide as your ABSOLUTE visual reference:\\n- Match color palette EXACTLY (same saturation, same hues)\\n- Match rendering style (painterly, flat, textured, 3D, etc.)\\n- Match line quality (thick outlines, thin lines, no outlines)\\n- Match lighting approach (soft, dramatic, flat)\\n- Match level of detail and stylization\\n\\nCRITICAL - MAINTAIN CHARACTER LIKENESS:\\nUse the attached character sheet for the main character:\\n- Same facial structure and proportions\\n- Same clothing/outfit style\\n- Same color scheme for character\\n- Character must be RECOGNIZABLE across all 9 covers\\n\\nCHILDREN'S BOOK COVER BEST PRACTICES:\\n- Title should be LARGE, READABLE, and positioned strategically\\n- Title font should match the book's tone (playful, adventurous, cozy)\\n- Character should be the FOCAL POINT and emotionally engaging\\n- Use bright, appealing colors that attract children\\n- Create visual hierarchy: Title → Character → Background\\n- Leave breathing room around the title\\n- Background should support the story mood without overwhelming\\n\\n9 VARIATION APPROACHES:\\n1. Character close-up with expressive face, title above\\n2. Character in action pose, title integrated into scene\\n3. Character with story-relevant props/elements\\n4. Dramatic silhouette with glowing/magical elements\\n5. Character in their world/environment\\n6. Whimsical/playful composition with fun angles\\n7. Classic centered composition with decorative border\\n8. Modern bold design with strong shapes\\n9. Adventure/journey feel with dynamic perspective\\n\\nAll 9 in <<ASPECT_RATIO:select(2:3,3:4,1:1,4:5)!>> aspect ratio.\\nNO mockup frames - just the cover art with BLACK GRID LINES separating cells.`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n      // STAGE 2: Upscale selected cover\\n      {\\n        id: 'stage_1',\\n        order: 1,\\n        template: `Take this book cover and enhance it to publication quality.\\n\\nMAINTAIN EXACTLY:\\n- The exact composition - do not crop or reframe\\n- The exact art style from the style guide\\n- The exact character likeness\\n- The title text and positioning\\n- All visual elements and their relationships\\n\\nENHANCE:\\n- Resolution and fine detail\\n- Color vibrancy and contrast\\n- Title text clarity and readability\\n- Edge definition and sharpness\\n- Texture detail in character and environment\\n\\nOutput a single high-quality children's book cover ready for print (300 DPI equivalent quality).`,\\n        fields: [],\\n        referenceImages: [],\\n      }\\n    ],\\n    suggestedAspectRatio: '2:3',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'BookCover',\\n    categoryId: 'scenes',\\n  },\\n\\n  // Story Page Variations - for storybook page-by-page generation\\n  {\\n    name: 'Story Page Variations',\\n    description: 'Generate 9 image variations for a single story page. Attach character sheet(s) and style guide.',\\n    recipeNote: 'Attach: 1) Character sheet(s), 2) Style guide. The 9 variations will be in a 3x3 grid with black separator lines for easy extraction.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `STORY MOMENT:\\n<<PAGE_TEXT:text!>>\\n\\nCreate a 3x3 grid (9 variations) illustrating this story moment for a children's book.\\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\\n\\nCRITICAL - ABSOLUTE STYLE CONSISTENCY:\\nMatch the attached style guide EXACTLY across all 9 cells:\\n- Same color palette and saturation\\n- Same rendering approach (painterly, flat, 3D, etc.)\\n- Same line quality and edge treatment\\n- Same lighting style and mood\\n- Same level of detail and stylization\\n\\nCRITICAL - ABSOLUTE CHARACTER CONSISTENCY:\\nMatch the attached character sheet(s) EXACTLY:\\n- Same facial structure and proportions\\n- Same body type and posture style\\n- Same clothing and color scheme\\n- Same hair style and color\\n- Character must be INSTANTLY RECOGNIZABLE in all 9 cells\\n\\n<<STYLE_NOTES:text>>\\n<<CHARACTER_NOTES:text>>\\n\\nTHE 9 COMPOSITION VARIATIONS:\\n1. WIDE ESTABLISHING - Full environment, characters smaller in scene\\n2. MEDIUM SCENE - Characters at medium distance, context visible\\n3. CHARACTER FOCUS - Close on character(s), emotion clear\\n4. ACTION MOMENT - Peak of action, dynamic energy\\n5. REACTION SHOT - Character's emotional response\\n6. ENVIRONMENT DETAIL - Focus on setting/props that matter to story\\n7. LOW ANGLE - Looking up, adds drama or wonder\\n8. HIGH ANGLE - Looking down, shows spatial relationship\\n9. CLASSIC STORYBOOK - Centered, balanced, traditional composition\\n\\nEach cell shows the SAME story moment, just framed differently.\\nNO text overlays in the images.\\nBlack grid lines between all cells.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'PageVar',\\n    categoryId: 'scenes',\\n  },\\n\\n  // Character Through Ages - Same character at different life stages\\n  {\\n    name: 'Character Through Ages',\\n    description: 'Show the same character at 9 different ages - from baby to elderly',\\n    recipeNote: 'Attach your character reference. The character will be shown at 9 life stages while maintaining their core identity and distinguishing features.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Analyze the reference character. This is @<<CHARACTER_NAME:name!>>.\\n\\nGenerate a 3x3 grid showing this SAME CHARACTER at 9 different life stages.\\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\\n\\nCRITICAL - IDENTITY PRESERVATION:\\nThroughout ALL ages, maintain the character's:\\n- Core facial structure proportions (adjusted for age appropriately)\\n- Distinctive features (birthmarks, dimples, nose shape, ear shape)\\n- Eye color and shape\\n- Ethnicity and skin tone\\n- Overall \\\"essence\\\" - they must be recognizably the SAME PERSON\\n\\nTHE 9 AGES (in order):\\n\\nROW 1 - CHILDHOOD:\\n1. BABY (0-1): Infant version, soft features, same distinctive markers\\n2. TODDLER (2-4): Playful, curious expression, developing features\\n3. CHILD (6-8): School age, personality emerging, same core features\\n\\nROW 2 - YOUTH TO ADULT:\\n4. PRETEEN (10-12): Transitioning features, recognizable identity\\n5. TEENAGER (15-17): Young adult features forming, same person clearly\\n6. YOUNG ADULT (25-30): Prime of life, full adult features\\n\\nROW 3 - MATURITY:\\n7. MIDDLE AGE (45-50): Some aging signs, same core identity\\n8. SENIOR (65-70): Gray hair, wrinkles, but still recognizably them\\n9. ELDERLY (80+): Advanced age, wisdom in eyes, same person\\n\\nEach cell shows a portrait (shoulders-up or chest-up) with appropriate:\\n- Age-appropriate hairstyle (but consistent hair texture/color until graying)\\n- Age-appropriate clothing style for each era\\n- Age-appropriate expression and demeanor\\n\\n<<ART_STYLE:select(realistic,illustrated,3D animated,painterly,claymation)>>\\n\\nBlack grid lines between all cells. No text labels.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'Ages',\\n    categoryId: 'characters',\\n  },\\n\\n  // Character Generator - Generate 9 unique character designs from basic traits\\n  {\\n    name: 'Character Generator',\\n    description: 'Generate 9 unique character designs from basic traits. Pick your favorite to become your main character.',\\n    recipeNote: 'Attach your style guide. Enter character traits (age, gender, distinctive features). Get 9 unique designs to choose from!',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Generate a 3x3 grid of 9 COMPLETELY UNIQUE character designs for a children's book.\\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\\n\\nCRITICAL - MATCH THE ATTACHED STYLE GUIDE EXACTLY:\\n- Same color palette and saturation\\n- Same rendering style (painterly, flat, 3D, claymation, etc.)\\n- Same line quality and edge treatment\\n- Same level of stylization\\n- Same lighting approach\\n\\nALL 9 CHARACTERS MUST SHARE THESE TRAITS:\\n- Gender: <<GENDER:select(girl,boy,non-binary)!>>\\n- Age: <<AGE:select(toddler (2-4),young child (5-7),older child (8-10),preteen (11-13))!>>\\n- Ethnicity: <<ETHNICITY:select(Black,White,Asian,Hispanic/Latino,South Asian,Middle Eastern,Mixed/Multiracial,Indigenous,any)!>>\\n<<DISTINCTIVE_FEATURES:text>>\\n\\nBUT EACH CHARACTER MUST BE COMPLETELY DIFFERENT IN:\\n- Face shape and features (round, oval, angular, etc.)\\n- Hair style (braids, locs, curly, straight, short, long, ponytail, etc.)\\n- Hair color (if appropriate for ethnicity)\\n- Body type (tall, short, thin, chubby, athletic)\\n- Clothing style (casual, sporty, dressy, artistic, etc.)\\n- Personality expressed through pose/expression (shy, confident, curious, playful, etc.)\\n\\nLAYOUT: Each cell shows ONE character in a full-body pose with clean background.\\nShow personality through pose and expression.\\nMake each character instantly distinguishable from the others.\\nThese should feel like 9 different main characters, not variations of the same person.\\n\\nNo text labels. Black grid lines between cells.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'CharGen',\\n    categoryId: 'characters',\\n  },\\n\\n  // Wardrobe Variations - Character in different outfits (user specifies each)\\n  {\\n    name: 'Wardrobe Variations',\\n    description: 'Generate 6 variations of your character in different outfits you specify',\\n    recipeNote: 'Attach your character reference. Specify what outfit/look goes in each cell, or leave blank for random luxury outfits.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Analyze the character in the reference image. This is @<<CHARACTER_NAME:name!>>.\\n\\nCreate a 2x3 grid (2 rows, 3 columns) showing this EXACT same character in 6 different outfits.\\n\\nCRITICAL - MAINTAIN ACROSS ALL 6 CELLS:\\n- Identical face, facial features, expression style\\n- Same hair style and color\\n- Same body type and proportions\\n- Same art style and rendering quality\\n- Same age and overall appearance\\n\\nEACH CELL LAYOUT:\\n- <<BACKGROUND_COLOR:select(white,light gray,soft blue,cream,pale pink,mint green)!>> background\\n- Full body view showing complete outfit\\n- Clean, production-ready framing\\n\\nTHE 6 OUTFITS (Row 1, Col 1 → Row 2, Col 3):\\nRow 1, Col 1: <<OUTFIT_1:text>>\\nRow 1, Col 2: <<OUTFIT_2:text>>\\nRow 1, Col 3: <<OUTFIT_3:text>>\\nRow 2, Col 1: <<OUTFIT_4:text>>\\nRow 2, Col 2: <<OUTFIT_5:text>>\\nRow 2, Col 3: <<OUTFIT_6:text>>\\n\\nIf any outfit field is empty, generate a creative luxury outfit variation.\\nEach outfit should be COMPLETELY DIFFERENT in style, silhouette, and color palette.\\nNo text labels - clean imagery only.`,\\n      fields: [],\\n      referenceImages: [\\n        {\\n          id: 'template_wardrobe_grid',\\n          url: SYSTEM_TEMPLATE_URLS.wardrobeGrid,\\n          name: 'Wardrobe 2x3 Grid Layout',\\n          aspectRatio: '16:9',\\n        },\\n      ],\\n    }],\\n    suggestedAspectRatio: '16:9',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'Wardrobe',\\n    categoryId: 'characters',\\n  },\\n\\n  // Eye Level Grid - Standard eye-level shots with user-selected sizes\\n  {\\n    name: 'Eye Level Grid',\\n    description: '3x3 grid with your image centered. All shots at eye level. Choose 8 shot sizes for surrounding frames.',\\n    recipeNote: 'Attach a reference image. It goes in the center. Pick sizes for the 8 surrounding frames - all at eye level.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Create a 3x3 cinematic contact sheet with the attached image as CENTER reference.\\n\\nCAMERA ANGLE: EYE LEVEL (straight on, neutral perspective) - LOCKED for all 8 frames\\nIMPORTANT: Separate each cell with solid BLACK LINE (4-6 pixels wide).\\n\\nTHE 8 FRAMES (all eye level, only size varies):\\n1. Top-Left: <<FRAME_1:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n2. Top-Center: <<FRAME_2:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n3. Top-Right: <<FRAME_3:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n4. Middle-Left: <<FRAME_4:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n5. Middle-Right: <<FRAME_5:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n6. Bottom-Left: <<FRAME_6:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n7. Bottom-Center: <<FRAME_7:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n8. Bottom-Right: <<FRAME_8:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n\\nCENTER: Use attached reference image as-is\\n\\nREQUIREMENTS:\\n- ALL 8 frames: EYE LEVEL (camera at subject's eye height, straight on)\\n- Identical subject, outfit, environment, lighting\\n- Depth of field: shallower for tighter shots\\n- Black grid lines between all 9 cells\\n- No labels or text overlays`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'EyeLevel',\\n    categoryId: 'scenes',\\n  },\\n\\n  // Low Angle Grid - All shots looking up at subject\\n  {\\n    name: 'Low Angle Grid',\\n    description: '3x3 grid with your image centered. All shots from low angle looking UP. Choose 8 shot sizes.',\\n    recipeNote: 'Attach a reference image. It goes in the center. Pick sizes for the 8 surrounding frames - all looking UP at subject.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Create a 3x3 cinematic contact sheet with the attached image as CENTER reference.\\n\\nCAMERA ANGLE: LOW ANGLE (worm's eye, looking UP at subject) - LOCKED for all 8 frames\\nIMPORTANT: Separate each cell with solid BLACK LINE (4-6 pixels wide).\\n\\nTHE 8 FRAMES (all low angle, only size varies):\\n1. Top-Left: <<FRAME_1:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n2. Top-Center: <<FRAME_2:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n3. Top-Right: <<FRAME_3:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n4. Middle-Left: <<FRAME_4:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n5. Middle-Right: <<FRAME_5:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n6. Bottom-Left: <<FRAME_6:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n7. Bottom-Center: <<FRAME_7:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n8. Bottom-Right: <<FRAME_8:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n\\nCENTER: Use attached reference image as-is\\n\\nREQUIREMENTS:\\n- ALL 8 frames: LOW ANGLE (camera below, looking up at subject - heroic/powerful perspective)\\n- Identical subject, outfit, environment, lighting\\n- Depth of field: shallower for tighter shots\\n- Black grid lines between all 9 cells\\n- No labels or text overlays`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'LowAngle',\\n    categoryId: 'scenes',\\n  },\\n\\n  // High Angle Grid - All shots looking down at subject\\n  {\\n    name: 'High Angle Grid',\\n    description: '3x3 grid with your image centered. All shots from high angle looking DOWN. Choose 8 shot sizes.',\\n    recipeNote: 'Attach a reference image. It goes in the center. Pick sizes for the 8 surrounding frames - all looking DOWN at subject.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Create a 3x3 cinematic contact sheet with the attached image as CENTER reference.\\n\\nCAMERA ANGLE: HIGH ANGLE (bird's eye, looking DOWN at subject) - LOCKED for all 8 frames\\nIMPORTANT: Separate each cell with solid BLACK LINE (4-6 pixels wide).\\n\\nTHE 8 FRAMES (all high angle, only size varies):\\n1. Top-Left: <<FRAME_1:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n2. Top-Center: <<FRAME_2:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n3. Top-Right: <<FRAME_3:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n4. Middle-Left: <<FRAME_4:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n5. Middle-Right: <<FRAME_5:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n6. Bottom-Left: <<FRAME_6:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n7. Bottom-Center: <<FRAME_7:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n8. Bottom-Right: <<FRAME_8:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n\\nCENTER: Use attached reference image as-is\\n\\nREQUIREMENTS:\\n- ALL 8 frames: HIGH ANGLE (camera above, looking down at subject - diminishing/overview perspective)\\n- Identical subject, outfit, environment, lighting\\n- Depth of field: shallower for tighter shots\\n- Black grid lines between all 9 cells\\n- No labels or text overlays`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'HighAngle',\\n    categoryId: 'scenes',\\n  },\\n\\n  // Wide Shot Grid - Environmental focus with wider shots\\n  {\\n    name: 'Wide Shot Grid',\\n    description: '3x3 grid with your image centered. Environmental focus with wider shot options. Choose 8 shot sizes.',\\n    recipeNote: 'Attach a reference image. It goes in the center. Pick sizes for the 8 surrounding frames - biased toward establishing/environmental shots.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Create a 3x3 cinematic contact sheet with the attached image as CENTER reference.\\n\\nCAMERA ANGLE: EYE LEVEL (environmental/establishing focus) - LOCKED for all 8 frames\\nIMPORTANT: Separate each cell with solid BLACK LINE (4-6 pixels wide).\\n\\nTHE 8 FRAMES (eye level, wide shot bias, only size varies):\\n1. Top-Left: <<FRAME_1:select(Extreme Wide Shot,Wide Shot,Medium Wide Shot,Medium Shot,Full Body Shot,Establishing Shot,Environmental Shot,Vista Shot)!>>\\n2. Top-Center: <<FRAME_2:select(Extreme Wide Shot,Wide Shot,Medium Wide Shot,Medium Shot,Full Body Shot,Establishing Shot,Environmental Shot,Vista Shot)!>>\\n3. Top-Right: <<FRAME_3:select(Extreme Wide Shot,Wide Shot,Medium Wide Shot,Medium Shot,Full Body Shot,Establishing Shot,Environmental Shot,Vista Shot)!>>\\n4. Middle-Left: <<FRAME_4:select(Extreme Wide Shot,Wide Shot,Medium Wide Shot,Medium Shot,Full Body Shot,Establishing Shot,Environmental Shot,Vista Shot)!>>\\n5. Middle-Right: <<FRAME_5:select(Extreme Wide Shot,Wide Shot,Medium Wide Shot,Medium Shot,Full Body Shot,Establishing Shot,Environmental Shot,Vista Shot)!>>\\n6. Bottom-Left: <<FRAME_6:select(Extreme Wide Shot,Wide Shot,Medium Wide Shot,Medium Shot,Full Body Shot,Establishing Shot,Environmental Shot,Vista Shot)!>>\\n7. Bottom-Center: <<FRAME_7:select(Extreme Wide Shot,Wide Shot,Medium Wide Shot,Medium Shot,Full Body Shot,Establishing Shot,Environmental Shot,Vista Shot)!>>\\n8. Bottom-Right: <<FRAME_8:select(Extreme Wide Shot,Wide Shot,Medium Wide Shot,Medium Shot,Full Body Shot,Establishing Shot,Environmental Shot,Vista Shot)!>>\\n\\nCENTER: Use attached reference image as-is\\n\\nREQUIREMENTS:\\n- ALL 8 frames: Show MORE ENVIRONMENT than subject\\n- Establish context, location, atmosphere\\n- Identical subject, outfit, environment, lighting\\n- Deeper depth of field to show environmental detail\\n- Black grid lines between all 9 cells\\n- No labels or text overlays`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'WideShots',\\n    categoryId: 'scenes',\\n  },\\n\\n  // 5 Minutes Later - Time progression from a single action\\n  {\\n    name: '5 Minutes Later',\\n    description: 'Show time progression of an action through 9 frames - from normal state to consequences',\\n    recipeNote: 'Attach a starting image (person in normal state). Enter what action they decide to do. The 9 frames show the progression from decision to consequences.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Analyze the reference image. This is the STARTING STATE - the person in their normal life before making a decision.\\n\\nGenerate a 3x3 grid showing a TIME PROGRESSION narrative of what happens after this person decides to: <<ACTION:text!>>\\n\\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\\n\\nCRITICAL - ABSOLUTE CONSISTENCY:\\n- SAME person (exact face, body, features) in all 9 frames\\n- Only clothing changes if the story requires it\\n- Art style remains PERFECTLY consistent\\n- Each frame shows a different MOMENT IN TIME\\n\\nTHE 9 FRAMES (Time Progression):\\n\\nROW 1 - THE DECISION (0-5 minutes):\\n1. NORMAL STATE: The person in their everyday life, as shown in the reference image. Peaceful, mundane, routine.\\n2. THE IDEA: A thought bubble or expression showing they're considering the action. Internal conflict visible.\\n3. PREPARATION: Making ready - gathering items, making a plan, the moment before commitment.\\n\\nROW 2 - THE ACTION (5-30 minutes):\\n4. POINT OF NO RETURN: The decisive moment - stepping through the door, making the call, starting the action.\\n5. IN THE MIDDLE: Deep in the action - fully committed, adrenaline, focus, the peak of the event.\\n6. IMMEDIATE AFTERMATH: The action complete - catching breath, looking at what they've done, first reaction.\\n\\nROW 3 - THE CONSEQUENCES (30 minutes - hours later):\\n7. RIPPLES BEGIN: First signs of consequences - other people noticing, things changing, domino effects starting.\\n8. FULL CONSEQUENCES: The weight of the decision fully realized - emotional, social, or physical impact visible.\\n9. NEW NORMAL: The final state - how their life has changed, for better or worse, the new equilibrium.\\n\\nVISUAL STORYTELLING:\\n- Use lighting to show mood progression (warm → tense → cool or vice versa)\\n- Vary shot types: wide establishing → medium → close-up for emotional beats\\n- Time-of-day can progress to show passage of time\\n- Environmental details should reflect consequences (messy vs clean, crowded vs empty)\\n\\n<<TONE:select(comedic/lighthearted,dramatic/serious,absurdist/surreal,wholesome/heartwarming,dark comedy)!>>\\n<<TIME_SPAN:select(5 minutes to 1 hour,1 hour to 1 day,1 day to 1 week,instant to lifetime)!>>\\n\\nThe story should be VISUALLY CLEAR without text.\\nBlack grid lines between all cells. No dialogue or captions.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: '5MinLater',\\n    categoryId: 'time-based',\\n  },\\n\\n  // ============================================================================\\n  // NEW RECIPES FROM NANO BANANA PRO COMMUNITY\\n  // ============================================================================\\n\\n  // Professional Headshot - Transform any photo into polished headshot\\n  {\\n    name: 'Professional Headshot',\\n    description: 'Transform any photo into a polished professional headshot for LinkedIn, websites, or corporate use',\\n    recipeNote: 'Upload a photo of the person. Choose style, lighting, and background options.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Keep facial features EXACTLY consistent with reference image.\\nPreserve: face shape, eye color, skin tone, distinctive features, facial structure.\\n\\nSTYLE: <<STYLE:select(Corporate LinkedIn,Creative Industry,Executive Portrait,Casual Professional,Academic/Research,Tech Startup,Real Estate Agent,Healthcare Professional)!>>\\n\\nLIGHTING: <<LIGHTING:select(Bright Studio (clean/corporate),Soft Natural Window Light,Dramatic Rim Light,High Key (bright/airy),Golden Hour Warmth,Split Light (artistic),Loop Lighting (classic portrait))!>>\\n\\nBACKGROUND: <<BACKGROUND:select(Pure White,Soft Gray Gradient,Blurred Office Environment,Gradient Blue (professional),Dark Professional,Natural Bokeh,Architectural Elements)!>>\\n\\nFRAMING: Professional headshot framing\\n- Shoulders up, centered composition\\n- Head occupies 60-70% of vertical frame\\n- Eyes at upper third intersection\\n- Slight negative space above head\\n\\nQUALITY REQUIREMENTS:\\n- Shot on professional camera with 85mm f/1.4 lens equivalent\\n- High-resolution, tack sharp focus on eyes\\n- Natural skin texture, subtle retouching\\n- Professional color grading\\n- Clean, polished final look suitable for business use`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'Headshot',\\n    categoryId: 'characters',\\n  },\\n\\n  // Virtual Try-On - See yourself in different clothing\\n  {\\n    name: 'Virtual Try-On',\\n    description: 'Composite clothing onto a person - perfect for fashion visualization',\\n    recipeNote: 'Attach: 1) Photo of person (full body or upper body), 2) Photo of garment/clothing item. The AI will dress the person in the garment.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `VIRTUAL TRY-ON TASK:\\nDress the person in the provided garment while maintaining their exact identity.\\n\\nCRITICAL - PRESERVE EXACTLY:\\n- Face: identical facial features, expression, skin tone\\n- Body: same body type, proportions, pose (adjust naturally for clothing)\\n- Hair: identical style, color, and arrangement\\n- Accessories: keep any jewelry, glasses, watches unless they conflict with garment\\n\\nGARMENT APPLICATION:\\n- Fit the garment naturally to the person's body type\\n- Maintain garment's original color, texture, and details\\n- Add realistic fabric physics (draping, folding, stretching)\\n- Match lighting on garment to scene lighting\\n- Add appropriate shadows where garment meets body\\n\\n<<FIT_STYLE:select(True to size,Slightly oversized,Fitted/tailored,Loose/relaxed)>>\\n<<SETTING:select(Keep original background,Clean studio white,Fashion editorial backdrop,Casual lifestyle setting,E-commerce product shot)!>>\\n\\nOUTPUT: Photorealistic image of the person wearing the garment.\\nShould look like an actual photo, not a composite.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '3:4',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'TryOn',\\n    categoryId: 'products',\\n  },\\n\\n  // Magazine Cover - Create editorial magazine covers\\n  {\\n    name: 'Magazine Cover',\\n    description: 'Transform a photo into a professional magazine cover with titles and layouts',\\n    recipeNote: 'Attach a photo of the subject. Enter magazine name and headline. Choose a color scheme.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Create a professional magazine cover featuring the subject from the reference image.\\n\\nMAGAZINE: \\\"<<MAGAZINE_NAME:text!>>\\\"\\nHEADLINE: \\\"<<HEADLINE:text!>>\\\"\\n<<SUBHEADLINES:text>>\\n\\nSUBJECT TREATMENT:\\n- Keep subject's exact likeness\\n- Frame as hero/cover shot (typically chest-up or 3/4 body)\\n- Add editorial-quality lighting and color grading\\n- High fashion/editorial styling feel\\n\\nLAYOUT STYLE: <<LAYOUT:select(Classic Fashion (Vogue style),Modern Minimalist,Bold Typography,Luxury Lifestyle,Entertainment Weekly style,Business/Forbes style,Sports Illustrated style)!>>\\n\\nCOLOR SCHEME: <<COLORS:select(Classic White/Black,Bold Red Accent,Luxury Gold,Cool Blues,Warm Neutrals,Vibrant Pop Colors,Monochromatic)!>>\\n\\nTYPOGRAPHY:\\n- Magazine title prominently at top\\n- Main headline as largest text\\n- 2-3 smaller subheadlines/teasers\\n- Text should NOT obscure the subject's face\\n- Professional editorial typography\\n\\nQUALITY: High-end glossy magazine finish, ready for print.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '2:3',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'Magazine',\\n    categoryId: 'products',\\n  },\\n\\n  // Infographic Generator - Visual explanation of any topic\\n  {\\n    name: 'Infographic Generator',\\n    description: 'Generate a visual infographic explaining any topic with icons and illustrations',\\n    recipeNote: 'Enter the topic to explain. The AI will create a visual infographic with icons, illustrations, and clear visual hierarchy.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Create an engaging visual infographic about: <<TOPIC:text!>>\\n\\n<<ADDITIONAL_DETAILS:text>>\\n\\nSTYLE: <<STYLE:select(Modern Flat Design,Isometric 3D,Hand-Drawn Sketch,Corporate Professional,Playful/Fun,Technical/Scientific,Retro/Vintage)!>>\\n\\nCOLOR SCHEME: <<COLORS:select(Corporate Blues,Nature Greens,Warm Sunset,Monochrome,Vibrant Rainbow,Pastel Soft,Dark Mode)!>>\\n\\nINFOGRAPHIC REQUIREMENTS:\\n- Clear visual hierarchy (most important info largest)\\n- Icons and illustrations to represent concepts\\n- Data visualization if applicable (charts, graphs)\\n- Visual flow that guides the eye top-to-bottom or left-to-right\\n- Consistent icon style throughout\\n- Balanced white space\\n- Easy to understand at a glance\\n\\nSECTIONS TO INCLUDE:\\n1. Title/Header with main topic\\n2. Key statistics or facts (3-5 main points)\\n3. Visual representations of processes or relationships\\n4. Supporting icons and illustrations\\n5. Conclusion or call-to-action\\n\\nTEXT: Include minimal, essential text labels.\\nThe visuals should communicate the core ideas even without reading.\\n\\nOutput a single cohesive infographic image.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '9:16',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'Infograph',\\n    categoryId: 'custom',\\n  },\\n\\n  // Product Photography - Professional product shots\\n  {\\n    name: 'Product Photography',\\n    description: 'Transform product photos into professional e-commerce/advertising quality shots',\\n    recipeNote: 'Attach a photo of the product. Choose lighting, background, and styling options.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Create a professional product photograph of the item in the reference image.\\n\\nPRODUCT PRESERVATION:\\n- Maintain exact product shape, colors, textures, and branding\\n- Keep all logos, text, and details sharp and readable\\n- Preserve material properties (glossy, matte, metallic, etc.)\\n\\nLIGHTING STYLE: <<LIGHTING:select(Soft Box Studio,Hard Light Dramatic,Natural Window Light,Gradient Sweep,Rim/Edge Lighting,High Key Bright,Low Key Moody,Golden Hour)!>>\\n\\nBACKGROUND: <<BACKGROUND:select(Pure White (e-commerce),Gradient Gray,Contextual Lifestyle,Solid Color Pop,Textured Surface,Floating/Shadow Only,Environmental Setting)!>>\\n\\nANGLE/COMPOSITION: <<ANGLE:select(Hero Front View,45-Degree Beauty Shot,Top-Down Flat Lay,Side Profile,3/4 Perspective,Detail Close-Up)!>>\\n\\nSTYLING: <<STYLING:select(Minimal Clean,Props and Accessories,Lifestyle Context,Luxury Premium,Playful and Fun,Technical/Industrial)>>\\n\\nQUALITY REQUIREMENTS:\\n- Advertising/e-commerce quality\\n- Sharp focus throughout product\\n- Professional color accuracy\\n- Clean, distraction-free composition\\n- Ready for print or web use`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'Product',\\n    categoryId: 'products',\\n  },\\n\\n  // Split View 3D Render - Realistic vs technical visualization\\n  {\\n    name: 'Split View 3D',\\n    description: 'Create a split-view image showing realistic render on one side and wireframe/technical on the other',\\n    recipeNote: 'Attach an image of an object, character, or scene. The AI will create a dramatic split showing photorealistic vs technical view.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Create a SPLIT VIEW visualization of the subject from the reference image.\\n\\nSPLIT STYLE: <<SPLIT:select(Left Realistic / Right Wireframe,Top Realistic / Bottom Technical,Diagonal Split,Center Explode View,Fade Transition)!>>\\n\\nLEFT/TOP SIDE - PHOTOREALISTIC:\\n- Fully rendered photorealistic visualization\\n- Proper materials, textures, and lighting\\n- Studio-quality rendering\\n- Complete, finished look\\n\\nRIGHT/BOTTOM SIDE - TECHNICAL: <<TECHNICAL_STYLE:select(Wireframe Mesh,Blueprint Schematic,X-Ray/Cutaway,Construction Lines,Low-Poly Geometric,Technical Drawing,Exploded Components)!>>\\n\\nSUBJECT TREATMENT:\\n- Both views show the SAME subject from the SAME angle\\n- Seamless transition at the split point\\n- Technical side should reveal internal structure or construction\\n- Maintain consistent lighting direction across both halves\\n\\nCOLOR SCHEME FOR TECHNICAL SIDE: <<TECH_COLORS:select(Classic Blue Blueprint,Green Matrix/Tech,Orange Wireframe,White on Black,Cyan/Magenta,Gradient Neon)!>>\\n\\nOUTPUT: Single image with dramatic split visualization.\\nProfessional quality suitable for portfolio, presentation, or advertising.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '16:9',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'SplitView',\\n    categoryId: 'products',\\n  },\\n\\n  // Viral Thumbnail - Eye-catching video thumbnails\\n  {\\n    name: 'Viral Thumbnail',\\n    description: 'Create eye-catching YouTube/TikTok thumbnails with dramatic expressions and text',\\n    recipeNote: 'Attach a photo of the person. Enter the video title/hook. Choose an emotion style.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Create a viral-worthy video thumbnail for: \\\"<<VIDEO_TITLE:text!>>\\\"\\n\\nSUBJECT FROM REFERENCE IMAGE:\\n- Keep exact facial features and identity\\n- AMPLIFY the expression for thumbnail impact\\n\\nEXPRESSION/EMOTION: <<EMOTION:select(Shocked/Surprised (wide eyes open mouth),Excited/Hyped,Curious/Intrigued,Angry/Frustrated,Laughing/Joy,Mind-Blown,Skeptical/Side-Eye,Crying/Emotional)!>>\\n\\nTHUMBNAIL STYLE: <<STYLE:select(YouTube Classic (bold text + face),MrBeast Style (extreme expression),Tech Review (clean + product),Vlog Style (lifestyle),Educational (professional),Gaming/Reaction,Clickbait Maximum)!>>\\n\\nTEXT TREATMENT:\\n- Title or hook text: LARGE, BOLD, READABLE\\n- Maximum 3-5 words visible\\n- High contrast against background\\n- Slight outline/shadow for readability\\n\\nVISUAL ELEMENTS: <<ELEMENTS:select(Arrows and circles pointing at something,Emoji overlays,Before/After split,Money/Numbers,Red X or Green Checkmark,Fire or Explosion effects,Question marks)>>\\n\\nBACKGROUND: <<BACKGROUND:select(Blurred context,Solid bright color,Gradient,Scene from video,Abstract pattern)!>>\\n\\nREQUIREMENTS:\\n- MUST be readable at small size (mobile feed)\\n- Maximum visual impact in 1 second\\n- Face should occupy 40-60% of frame\\n- Text should not cover eyes\\n- Bright, saturated colors`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '16:9',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'Thumbnail',\\n    categoryId: 'custom',\\n  },\\n\\n  // Same Face Different Scenes - Consistent character across locations\\n  {\\n    name: 'Same Face Different Scenes',\\n    description: 'Generate 9 images of the same person in completely different scenes/locations while maintaining perfect likeness',\\n    recipeNote: 'Attach a photo of the person. The AI will place them in 9 different environments while keeping their face identical.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Analyze the person in the reference image. Generate a 3x3 grid showing this EXACT SAME PERSON in 9 completely different scenes.\\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\\n\\nCRITICAL - ABSOLUTE FACE CONSISTENCY:\\n- IDENTICAL facial features in every single frame\\n- Same face shape, eye color, nose, mouth, skin tone\\n- Same hair color and general style (can be styled differently)\\n- This must CLEARLY be the same person in all 9 images\\n- Age consistency - same person, same age throughout\\n\\nTHE 9 SCENES:\\n\\nROW 1 - URBAN/MODERN:\\n1. Coffee Shop: Cozy café setting, warm lighting, casual atmosphere\\n2. City Street: Urban environment, modern architecture, street style\\n3. Office/Workspace: Professional setting, clean modern office\\n\\nROW 2 - NATURE/OUTDOOR:\\n4. Beach: Ocean in background, golden hour lighting, relaxed vibe\\n5. Forest/Mountain: Natural setting, adventure feel, outdoor clothing\\n6. Garden/Park: Flowers or greenery, peaceful, natural light\\n\\nROW 3 - DRAMATIC/SPECIAL:\\n7. Studio Portrait: Clean background, professional lighting, editorial quality\\n8. Night Scene: City lights, dramatic lighting, evening atmosphere\\n9. Fantasy/Creative: <<CREATIVE_SCENE:select(Futuristic sci-fi,Medieval castle,Underwater,Space station,Magical forest,Art gallery,Red carpet event,Sports arena)!>>\\n\\nCLOTHING: Appropriate for each scene but consistent with person's style.\\nLIGHTING: Natural and appropriate for each environment.\\nQUALITY: High-resolution, professional photography quality.\\n\\nBlack grid lines between all 9 cells. No text labels.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'SameFace',\\n    categoryId: 'characters',\\n  },\\n\\n  // Action Figure Box - Turn anyone into a collectible figure\\n  {\\n    name: 'Action Figure Box',\\n    description: 'Transform a person into a collectible action figure in retail packaging',\\n    recipeNote: 'Attach a photo of the person. Enter their name/title. The AI will create a realistic action figure in packaging.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Transform the person from the reference image into a collectible action figure in retail packaging.\\n\\nFIGURE NAME: \\\"<<FIGURE_NAME:text!>>\\\"\\n<<TAGLINE:text>>\\n\\nPACKAGING STYLE: <<STYLE:select(Classic Action Figure (Hasbro/Mattel style),Funko Pop! Style,Premium Collector Edition,Vintage 80s/90s Retro,Japanese Import (anime style),Designer Art Toy,Sports Card + Figure,Barbie/Fashion Doll Style)!>>\\n\\nFIGURE REQUIREMENTS:\\n- Face is a miniature version of the reference person (stylized appropriately)\\n- Full body figure in dynamic or signature pose\\n- Realistic figure materials (plastic, vinyl, articulation points visible)\\n- Detailed accessories and props that suit the character\\n\\nPACKAGING ELEMENTS:\\n- Clear plastic bubble/window showing figure\\n- Cardboard backing with artwork and branding\\n- Name prominently displayed\\n- Age rating, brand logo, collector series info\\n- 2-3 accessories visible in package\\n\\nBACKGROUND/SETTING: <<SETTING:select(Retail shelf with other toys,Clean product photography white,Collector display case,Toy store environment,Dramatic spotlight)!>>\\n\\nQUALITY: Photorealistic render of actual product packaging.\\nShould look like a real toy you could buy in stores.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '3:4',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'ActionFig',\\n    categoryId: 'products',\\n  },\\n\\n  // =============================================================================\\n  // STORYBOOK SYSTEM RECIPES (hidden from regular users, used internally)\\n  // =============================================================================\\n\\n  // Storybook Character Sheet - 3-stage pipeline for generating character sheets\\n  // Stage 0: Isolate character from photo\\n  // Stage 1: Transform to custom art style\\n  // Stage 2: Generate character sheet with expressions\\n  {\\n    name: 'Storybook Character Sheet',\\n    description: 'Generate character sheet from photo for storybook using 3-stage pipeline: isolate, stylize, sheet generation',\\n    recipeNote: 'This recipe is used internally by the Storybook feature. Requires: source photo, style guide image, and character sheet template.',\\n    stages: [\\n      // STAGE 0: Isolate character on white background\\n      {\\n        id: 'stage_0',\\n        order: 0,\\n        template: `Extract the person from this photo as a clean, isolated character portrait.\\n\\nCRITICAL LIKENESS PRESERVATION:\\n- Exact facial structure: bone structure, jaw shape, cheekbones, nose shape, eye shape and spacing\\n- Exact skin tone and undertones\\n- Exact hair: color, texture, style, length, hairline shape\\n- Exact body proportions: height, build, posture\\n- Exact distinguishing features: moles, freckles, scars, dimples, facial hair\\n\\nOUTPUT:\\n- Full-body standing pose on clean WHITE background\\n- Neutral expression, relaxed posture\\n- Soft studio lighting\\n- Remove all background elements completely\\n- Do NOT alter, enhance, or \\\"improve\\\" any facial features\\n- The isolated character must be IDENTICAL to the input photo`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n      // STAGE 1: Transform to custom art style\\n      {\\n        id: 'stage_1',\\n        order: 1,\\n        template: `Transform this isolated character into <<STYLE_NAME:text!>> style.\\n\\nCRITICAL INSTRUCTIONS:\\n- Follow the attached style guide reference EXACTLY\\n- Do NOT deviate from the style shown in the reference\\n- The style guide is the definitive visual reference - words are open to interpretation, images are not\\n\\nABSOLUTE LIKENESS PRESERVATION (even in stylized form):\\n- Maintain exact facial proportions and structure\\n- Keep distinctive features (nose shape, eye spacing, jawline)\\n- Preserve exact skin tone relationships\\n- Keep exact hair style, texture, and color\\n- Maintain body proportions and posture\\n\\nSTYLE TRANSFER FROM REFERENCE:\\n- Match the color palette and saturation exactly\\n- Match line quality and rendering approach\\n- Match level of stylization (how simplified features become)\\n- Match lighting and shadow style\\n- Match edge treatment (sharp vs soft)\\n\\nThe result should look like THIS SPECIFIC PERSON drawn in the <<STYLE_NAME:text!>> style.\\nNOT a generic character that vaguely resembles them.\\nOutput on clean white background.`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n      // STAGE 2: Generate character sheet with expressions\\n      {\\n        id: 'stage_2',\\n        order: 2,\\n        template: `CHARACTER: @<<CHARACTER_NAME:name!>>\\n\\nCreate a professional character reference sheet matching the attached template layout.\\n\\nCRITICAL: Every view and expression must clearly be the SAME PERSON from previous stages.\\nFacial structure, proportions, and distinctive features must remain IDENTICAL across all views.\\n\\nCHARACTER SHEET LAYOUT (21:9 aspect ratio):\\n\\nLEFT SECTION - FULL BODY:\\n- Large neutral standing pose, front view (primary reference)\\n- Smaller side profile view\\n- Smaller back view (if space permits)\\n- Color palette strip: skin tone, hair color, eye color, main clothing colors\\n\\nRIGHT SECTION - EXPRESSIONS (2 rows × 5 columns):\\nRow 1: Neutral, Happy, Sad, Angry, Surprised\\nRow 2: Speaking, Shouting, Whispering, Smug/Confident, Scared\\n\\nTOP: Character name \\\"@<<CHARACTER_NAME:name!>>\\\" prominently displayed\\n\\nCRITICAL REQUIREMENTS:\\n- All expressions maintain the SAME face structure - only expression changes\\n- Maintain EXACT art style from previous stage\\n- Clean white/light gray background\\n- Black separator lines between expression cells (4-6 pixels)\\n- Production-ready layout following the template reference`,\\n        fields: [],\\n        referenceImages: [\\n          {\\n            id: 'template_charsheet_advanced',\\n            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\n            name: 'Character Sheet Layout Template',\\n            aspectRatio: '21:9',\\n          }\\n        ],\\n      },\\n    ],\\n    suggestedAspectRatio: '21:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: false,\\n    categoryId: 'storybook',\\n    isSystem: true,\\n    isSystemOnly: true,  // Hidden from regular users - used internally by Storybook\\n  },\\n\\n  // Storybook Character Sheet (From Description) - 2-stage pipeline for generating character sheets without photos\\n  // Stage 0: Generate character appearance from text description\\n  // Stage 1: Generate character sheet with expressions\\n  {\\n    name: 'Storybook Character Sheet (From Description)',\\n    description: 'Generate character sheet from text description for storybook (no photo required)',\\n    recipeNote: 'Used when no source photo is available. Generates character appearance from description in the target style, then creates a character sheet.',\\n    stages: [\\n      // STAGE 0: Generate character appearance from description\\n      {\\n        id: 'stage_desc_0',\\n        order: 0,\\n        type: 'generation',\\n        template: `Generate a character based on this description:\\n\\nCHARACTER: @<<CHARACTER_NAME:name!>>\\nROLE: <<CHARACTER_ROLE:text!>>\\nDESCRIPTION: <<CHARACTER_DESCRIPTION:text!>>\\n\\nCRITICAL - PHYSICAL APPEARANCE:\\nThe character's physical appearance MUST match the DESCRIPTION above EXACTLY:\\n- Hair color, hair style, hair length\\n- Clothing colors, clothing style\\n- Age, build, body type\\n- Skin tone, eye color\\n- Any distinguishing features mentioned\\n\\nCRITICAL - ART STYLE ONLY:\\nThe attached style guide reference shows the ART STYLE to use:\\n- Rendering approach (cartoon style, line quality, edge treatment)\\n- Color saturation and palette approach\\n- Level of detail and stylization\\n- Lighting and shading technique\\n\\nDO NOT copy the physical appearance, hair, or clothing from the style guide characters.\\nONLY use the style guide for the art style/rendering approach.\\n\\nSETUP:\\n- Full-body standing pose on clean WHITE background\\n- Neutral expression, relaxed posture\\n- Soft studio lighting\\n\\nOutput: Full-body character portrait matching the DESCRIPTION exactly, rendered in the art style shown in the style guide.`,\\n        fields: [],\\n        referenceImages: [],  // Style guide attached at runtime\\n      },\\n      // STAGE 1: Generate character sheet with expressions\\n      {\\n        id: 'stage_desc_1',\\n        order: 1,\\n        type: 'generation',\\n        template: `Universal Character Sheet Template V3 - Precise Generation with Separated Sources\\n\\nCHARACTER: @<<CHARACTER_NAME:name!>>\\nSTYLE: <<STYLE_NAME:text!>>\\n\\nINPUT SOURCES:\\nThis generation uses THREE separate reference images:\\n1. LAYOUT REFERENCE (character sheet template): Use ONLY for structural layout - panel positions, grid lines, labels\\n2. CHARACTER REFERENCE (previous stage output): Source for character's physical features, clothing, identity\\n3. STYLE REFERENCE (style guide): Defines the art style/rendering approach for final output\\n\\nCRITICAL: Do NOT copy the sketch/placeholder art from the template. Only use it for structure.\\n\\n---\\n\\nHEADER SECTION:\\n- Top Left: Display \\\"CHARACTER @<<CHARACTER_NAME:name!>>\\\" prominently\\n- Top Right: \\\"DESCRIPTION/DETAILS\\\" box (grey background, leave empty)\\n\\n---\\n\\nFULL BODY VIEWS (Left Section - Large Grid):\\nLabel: \\\"FULL BODY VIEWS\\\"\\nPanels (3 columns):\\n1. Front View - Orthographic neutral standing pose, feet on baseline\\n2. Side Profile View (Left facing) - Orthographic side view\\n3. Back View - Orthographic back view\\n\\n---\\n\\nEXPRESSIONS & DETAILS (Upper Middle - 3×2 Grid):\\nLabel: \\\"EXPRESSIONS & DETAILS\\\"\\nStyle: Head and shoulders shot, consistent character model\\n\\nRow 1 (Talking States):\\n1. TALKING-NEUTRAL: mouth slightly open, neutral brows\\n2. TALKING-HAPPY: mouth open smiling, eyebrows raised\\n3. TALKING-ANGRY: mouth open yelling, eyebrows furrowed\\n\\nRow 2 (Emotions):\\n4. SAD: mouth closed down-turn, tearful eyes, sad brows\\n5. SURPRISED: mouth small 'O' shape, eyes wide, brows high\\n6. SMUG/CONFIDENT: slight smirk, confident gaze\\n\\n---\\n\\nTALKING VIEWS (Top Right - 1×3 Grid):\\nLabel: \\\"TALKING VIEWS\\\"\\nStyle: Angled headshots focusing on jaw movement\\n\\nPanels:\\n1. 3/4 Rear Left - jawline and back of head while talking\\n2. 3/4 Front Right - standard dialogue angle\\n3. Profile Right - side profile talking mouth shape\\n\\n---\\n\\nCLOSE-UP DETAILS (Bottom Middle - 1×3 Strip):\\nLabel: \\\"CLOSE-UP DETAILS\\\"\\nStyle: Tight zoom on specific head features\\n\\nPanels:\\n1. Front Face (Crop: Chin to Forehead)\\n2. Side Profile/Ear Detail\\n3. Rear Neck/Hairline Detail\\n\\n---\\n\\nACCESSORIES (Bottom Right - 3×3 Grid):\\nLabel: \\\"ACCESSORIES\\\"\\nIf character has accessories (hat, glasses, shoes, props), render isolated views here.\\nIf no accessories, leave panels as empty grey placeholders.\\n\\nCRITICAL: Accessories must match the character reference and be rendered in <<STYLE_NAME:text!>> style.\\n\\n---\\n\\nCOLOR PALETTE (Bottom Left Strip):\\nLabel: \\\"COLOR PALETTE\\\"\\nFill swatches with exact colors from character:\\n- FRONT: Main body color from front view\\n- HAPPY: Key highlight from happy expression\\n- YELLOW: Yellow elements (if present, else neutral grey)\\n- HAIR: Character hair color\\n- ANGRY: Shadow/highlight from angry expression\\n- SAD: Shadow from sad expression\\n- SURPRISED: Highlight from surprised expression\\n- SMUG: Color from smug expression\\n\\n---\\n\\nCRITICAL REQUIREMENTS:\\n✓ Every panel shows the SAME CHARACTER from previous stage\\n✓ Maintain IDENTICAL facial structure, proportions, distinctive features across ALL views\\n✓ Render entire sheet in <<STYLE_NAME:text!>> art style (from style guide reference)\\n✓ Follow template layout EXACTLY - match panel positions, grid lines, label positions\\n✓ Neutral background (white/light grey) - NO texture\\n✓ Black separator lines between cells (4-6 pixels)\\n✓ Character name \\\"@<<CHARACTER_NAME:name!>>\\\" clearly visible at top\\n✓ Production-ready reference sheet for animation/illustration use\\n\\nFINAL OUTPUT: Complete character sheet with all panels filled, matching template structure, rendered consistently in <<STYLE_NAME:text!>> style.`,\\n        fields: [],\\n        referenceImages: [\\n          {\\n            id: 'template_charsheet_advanced',\\n            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\n            name: 'Character Sheet Layout Template',\\n            aspectRatio: '21:9',\\n          }\\n        ],\\n      },\\n    ],\\n    suggestedAspectRatio: '21:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: false,\\n    categoryId: 'storybook',\\n    isSystem: true,\\n    isSystemOnly: false,  // Now visible in Shot Creator so users can refine the recipe\\n  },\\n\\n  // Storybook Style Guide (system recipe)\\n  {\\n    name: 'Storybook Style Guide',\\n    description: '6-tile visual style guide for children\\\\'s books',\\n    recipeNote: 'Used by storybook feature to generate art style reference',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `Create a visual style guide as a 6-image grid (2 rows × 3 columns) in <<STYLE_NAME:text!>> style.\\n\\nCRITICAL: Separate each cell with a SOLID BLACK LINE (4-6 pixels wide).\\n\\n<<STYLE_DESCRIPTION:text>>\\n\\nTHE 6 TILES (2x3 grid):\\n1. CHARACTER CLOSE-UP: A child character headshot, warm studio lighting, 3/4 view\\n2. ACTION SCENE: A different character in dynamic pose, motion blur background\\n3. ENVIRONMENT DETAIL: Interior scene, afternoon light through windows\\n4. CHARACTER INTERACTION: Two diverse characters (different ethnicities/appearances) in conversation\\n5. DYNAMIC POSE: Character in athletic stance, dramatic angle\\n6. SET/LOCATION DESIGN: Exterior establishing shot with background characters of varied appearances\\n\\nDIVERSITY REQUIREMENTS:\\n- Use diverse characters with different ethnicities, skin tones, and appearances\\n- Show variety in hair colors, styles, and physical features\\n- Include both male and female characters across the tiles\\n- Make each character visually distinct and unique\\n\\nOutput a 16:9 image with exactly 6 tiles (2 rows x 3 columns) separated by black lines.\\n<<STYLE_NAME:text!>> style throughout all tiles.`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '16:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: false,\\n    categoryId: 'storybook',\\n    isSystem: true,\\n    isSystemOnly: true,\\n  },\\n\\n  // Storybook Page (First) - Optimized for story opening\\n  {\\n    name: 'Storybook Page (First)',\\n    description: 'Generate the opening page illustration for a children\\\\'s book story',\\n    recipeNote: 'Used by storybook feature for first pages. Optimized for story opening - no previous context needed.',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `Create an engaging opening illustration for this children's book story.\\n\\nSTORY OPENING:\\n\\nCurrent Page Text (the story begins):\\n\\\"<<PAGE_TEXT:text!>>\\\"\\n\\nSCENE DETAILS:\\n<<SCENE_DESCRIPTION:text>>\\n\\nMOOD: <<MOOD:select(Happy,Sad,Excited,Calm,Mysterious,Adventurous)!>>\\n\\nCHARACTERS IN SCENE:\\n<<CHARACTER_NAMES:text>>\\n\\nOPENING PAGE STORYTELLING:\\n- Establish the story's setting and atmosphere immediately\\n- Create visual intrigue to hook young readers\\n- Introduce main character(s) with clear, engaging poses\\n- Set the tone for the entire story\\n- Use composition to draw the eye to key story elements\\n- Choose appropriate framing that serves the narrative\\n\\nCRITICAL STYLE REQUIREMENTS:\\n- A STYLE GUIDE reference image is attached - analyze it carefully\\n- Extract the EXACT art style from the style guide (rendering technique, line work, color palette, shading approach)\\n- Apply this style CONSISTENTLY to the entire illustration\\n- The style guide shows example illustrations - match that visual aesthetic precisely\\n- Maintain character consistency using attached character sheets (if provided)\\n- Characters should have EXACT same appearance, clothing, and features as their character sheets\\n- If no character sheets are attached, design characters that fit the style guide aesthetic\\n\\nTECHNICAL REQUIREMENTS:\\n- No text overlays on image (text will be added separately)\\n- Age-appropriate for <<TARGET_AGE:text!>> year olds\\n- Diverse, inclusive representation\\n- Composition should balance illustration with space for text overlay\\n\\nQUALITY STANDARDS:\\n- Professional children's book illustration quality\\n- Strong focal point that establishes the story's core\\n- Vibrant, engaging colors appropriate to the mood\\n- Fine details that reward close inspection\\n- Inviting composition that makes readers want to turn the page\\n\\nCRITICAL: Use the attached STYLE GUIDE reference image to determine the exact art style, rendering technique, and visual aesthetic. Match it precisely.`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '16:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: false,\\n    categoryId: 'storybook',\\n    isSystem: true,\\n    isSystemOnly: true,\\n  },\\n\\n  // Storybook Page (Continuation) - Optimized for story flow\\n  {\\n    name: 'Storybook Page (Continuation)',\\n    description: 'Generate a continuation page illustration for a children\\\\'s book with story flow',\\n    recipeNote: 'Used by storybook feature for continuation pages. Maintains story continuity from previous page.',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `Create an illustration for this children's book page that continues the story flow.\\n\\nSTORY CONTEXT:\\n\\nPrevious Page (what happened before):\\n<<PREVIOUS_PAGE_TEXT:text!>>\\n\\nCurrent Page (what's happening now):\\n\\\"<<PAGE_TEXT:text!>>\\\"\\n\\nSCENE DETAILS:\\n<<SCENE_DESCRIPTION:text>>\\n\\nMOOD: <<MOOD:select(Happy,Sad,Excited,Calm,Mysterious,Adventurous)!>>\\n\\nCHARACTERS IN SCENE:\\n<<CHARACTER_NAMES:text>>\\n\\nSTORYTELLING CONTINUITY:\\n- Show clear progression from the previous page's events\\n- Visual flow should feel natural (e.g., if character was walking left, continue that direction)\\n- Maintain consistent lighting/time of day unless story indicates a change\\n- Character expressions should reflect the emotional arc from the previous moment\\n- Background elements should show logical progression from previous scene\\n- Create visual cause-and-effect relationship with previous illustration\\n- Pacing should feel like natural story progression (not jarring jumps)\\n- Use composition that serves narrative progression\\n\\nCRITICAL STYLE REQUIREMENTS:\\n- A STYLE GUIDE reference image is attached - analyze it carefully\\n- Extract the EXACT art style from the style guide (rendering technique, line work, color palette, shading approach)\\n- Apply this style CONSISTENTLY to the entire illustration\\n- The style guide shows example illustrations - match that visual aesthetic precisely\\n- Maintain character consistency using attached character sheets (if provided)\\n- Characters should have EXACT same appearance, clothing, and features as their character sheets\\n- If no character sheets are attached, design characters that fit the style guide aesthetic\\n- Keep the SAME art style as previous pages in the book\\n\\nTECHNICAL REQUIREMENTS:\\n- No text overlays on image (text will be added separately)\\n- Age-appropriate for <<TARGET_AGE:text!>> year olds\\n- Diverse, inclusive representation\\n- Composition should balance illustration with space for text overlay\\n\\nQUALITY STANDARDS:\\n- Professional children's book illustration quality\\n- Clear focal point that supports the story\\n- Vibrant, engaging colors appropriate to the mood\\n- Fine details that reward close inspection\\n\\nCRITICAL: Use the attached STYLE GUIDE reference image to determine the exact art style, rendering technique, and visual aesthetic. Match it precisely.`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '16:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: false,\\n    categoryId: 'storybook',\\n    isSystem: true,\\n    isSystemOnly: true,\\n  },\\n\\n  // Storybook Book Cover\\n  {\\n    name: 'Storybook Book Cover',\\n    description: 'Generate a professional children\\\\'s book cover with title, author, and main character',\\n    recipeNote: 'Used by storybook feature to generate book covers. Includes embedded text (title + author) and main character illustration.',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `Create a professional children's book cover illustration with embedded text.\\n\\nBOOK INFORMATION:\\nTitle: \\\"<<BOOK_TITLE:text!>>\\\"\\nAuthor: <<AUTHOR_NAME:text!>>\\nTarget Age: <<TARGET_AGE:text!>> years old\\n\\nMAIN CHARACTER:\\n<<MAIN_CHARACTER_DESCRIPTION:text!>>\\n\\nCOVER LAYOUT REQUIREMENTS:\\n\\n1. TITLE PLACEMENT (Top third of cover):\\n   - Display the book title \\\"<<BOOK_TITLE:text!>>\\\" prominently\\n   - Use large, playful, child-friendly typography\\n   - Ensure text is readable with good contrast\\n   - Title should feel magical/whimsical\\n   - Use colors that complement the illustration\\n\\n2. ILLUSTRATION (Center 60% of cover):\\n   - Feature the main character in an engaging pose\\n   - Show character's personality and energy\\n   - Dynamic composition that draws the eye\\n   - Match the art style from the style guide EXACTLY\\n   - Character should match their character sheet reference\\n   - Background hints at the story's setting/adventure\\n   - Age-appropriate for <<TARGET_AGE:text!>> year olds\\n\\n3. AUTHOR NAME (Bottom of cover):\\n   - Display \\\"by <<AUTHOR_NAME:text!>>\\\" below the illustration\\n   - Smaller, elegant font\\n   - Good readability but doesn't compete with title\\n\\n4. VISUAL STYLE:\\n   - Match style guide precisely (use reference image)\\n   - Bright, inviting colors that appeal to children\\n   - Professional children's book cover quality\\n   - Cover should work for both digital and print (high contrast)\\n   - Add subtle decorative elements (stars, sparkles, borders) if they enhance the design\\n\\nTECHNICAL SPECS:\\n- Aspect ratio: 3:4 portrait (standard book cover proportions)\\n- All text MUST be clearly legible\\n- Ensure character consistency with attached character sheet\\n- High visual appeal to attract young readers\\n- Diverse, inclusive representation\\n\\nUse reference images to match art style and character appearance exactly.`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '3:4',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: false,\\n    categoryId: 'storybook',\\n    isSystem: true,\\n    isSystemOnly: true,\\n  },\\n\\n  // ========================================\\n  // CINEMATIC GRID RECIPES (10 recipes)\\n  // ========================================\\n\\n  // POV Simulation (16:9)\\n  {\\n    name: 'POV Simulation (16:9)',\\n    description: 'First-person perspective grid showing what character sees through their own eyes',\\n    recipeNote: 'Attach character reference for outfit/appearance. Grid shows character\\\\'s hands, arms, legs, but NOT their face (except in reflections).',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 16:9 aspect ratio.\\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\\n\\nCHARACTER PERSPECTIVE: First-person POV from @<<CHARACTER_NAME:name!>>'s eyes.\\nCURRENT ACTIVITY: <<STORY:text!>>\\n\\nSTYLE EXTRACTION: Analyze the style reference image for environmental textures, lighting quality, and color grading.\\n\\nCAMERA SETTINGS:\\n- First Person Perspective (POV)\\n- Wide angle (24mm-35mm equivalent) simulating human vision\\n- We do NOT see <<CHARACTER_NAME:name!>>'s face (except in reflections)\\n- We DO see their ARMS, HANDS, LEGS dressed in their outfit\\n\\n3×3 GRID LAYOUT (Reading order: Left→Right, Top→Bottom):\\n\\nROW 1 - INTERACTION:\\nPanel 1 (Top-Left): POV looking DOWN at @<<CHARACTER_NAME:name!>>'s own torso and outfit, establishing their identity and clothing.\\nPanel 2 (Top-Center): POV of @<<CHARACTER_NAME:name!>>'s HANDS interacting with a key object from the story (<<STORY:text!>>).\\nPanel 3 (Top-Right): POV of @<<CHARACTER_NAME:name!>> REACHING OUT to touch a texture or open a door in the environment.\\n\\nROW 2 - COMBAT/ACTION POV:\\nPanel 4 (Middle-Left): POV BLOCKING a light source or incoming attack with @<<CHARACTER_NAME:name!>>'s ARM visible in frame.\\nPanel 5 (Middle-Center): POV FOCUSING on a target or destination from <<STORY:text!>>. Hands visible in lower frame guiding the way.\\nPanel 6 (Middle-Right): POV looking at a REFLECTION (mirror/window/water). We FINALLY see @<<CHARACTER_NAME:name!>>'s face clearly in the reflection.\\n\\nROW 3 - ENVIRONMENTAL AWARENESS:\\nPanel 7 (Bottom-Left): POV looking DOWN at @<<CHARACTER_NAME:name!>>'s FEET moving across the specific terrain mentioned in <<STORY:text!>>.\\nPanel 8 (Bottom-Center): POV checking a TOOL, WEAPON, or PHONE held in @<<CHARACTER_NAME:name!>>'s hands.\\nPanel 9 (Bottom-Right): POV BLINKING/FADING. Vision is slightly blurred or vignetted, implying fatigue or emotion from <<STORY:text!>>.\\n\\nCONSISTENCY REQUIREMENTS:\\n- All panels must show the SAME outfit on <<CHARACTER_NAME:name!>>\\n- Lighting and color grading from style reference must remain consistent\\n- Grid cells separated by SOLID BLACK LINES`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '16:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: true,\\n    categoryId: 'characters',\\n    isSystem: true,\\n    isSystemOnly: false,\\n  },\\n\\n  // POV Simulation (9:16)\\n  {\\n    name: 'POV Simulation (9:16)',\\n    description: 'First-person perspective grid showing what character sees through their own eyes (portrait)',\\n    recipeNote: 'Attach character reference for outfit/appearance. Grid shows character\\\\'s hands, arms, legs, but NOT their face (except in reflections).',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 9:16 aspect ratio.\\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\\n\\nCHARACTER PERSPECTIVE: First-person POV from @<<CHARACTER_NAME:name!>>'s eyes.\\nCURRENT ACTIVITY: <<STORY:text!>>\\n\\nSTYLE EXTRACTION: Analyze the style reference image for environmental textures, lighting quality, and color grading.\\n\\nCAMERA SETTINGS:\\n- First Person Perspective (POV)\\n- Wide angle (24mm-35mm equivalent) simulating human vision\\n- We do NOT see <<CHARACTER_NAME:name!>>'s face (except in reflections)\\n- We DO see their ARMS, HANDS, LEGS dressed in their outfit\\n\\n3×3 GRID LAYOUT (Reading order: Left→Right, Top→Bottom):\\n\\nROW 1 - INTERACTION:\\nPanel 1 (Top-Left): POV looking DOWN at @<<CHARACTER_NAME:name!>>'s own torso and outfit, establishing their identity and clothing.\\nPanel 2 (Top-Center): POV of @<<CHARACTER_NAME:name!>>'s HANDS interacting with a key object from the story (<<STORY:text!>>).\\nPanel 3 (Top-Right): POV of @<<CHARACTER_NAME:name!>> REACHING OUT to touch a texture or open a door in the environment.\\n\\nROW 2 - COMBAT/ACTION POV:\\nPanel 4 (Middle-Left): POV BLOCKING a light source or incoming attack with @<<CHARACTER_NAME:name!>>'s ARM visible in frame.\\nPanel 5 (Middle-Center): POV FOCUSING on a target or destination from <<STORY:text!>>. Hands visible in lower frame guiding the way.\\nPanel 6 (Middle-Right): POV looking at a REFLECTION (mirror/window/water). We FINALLY see @<<CHARACTER_NAME:name!>>'s face clearly in the reflection.\\n\\nROW 3 - ENVIRONMENTAL AWARENESS:\\nPanel 7 (Bottom-Left): POV looking DOWN at @<<CHARACTER_NAME:name!>>'s FEET moving across the specific terrain mentioned in <<STORY:text!>>.\\nPanel 8 (Bottom-Center): POV checking a TOOL, WEAPON, or PHONE held in @<<CHARACTER_NAME:name!>>'s hands.\\nPanel 9 (Bottom-Right): POV BLINKING/FADING. Vision is slightly blurred or vignetted, implying fatigue or emotion from <<STORY:text!>>.\\n\\nCONSISTENCY REQUIREMENTS:\\n- All panels must show the SAME outfit on <<CHARACTER_NAME:name!>>\\n- Lighting and color grading from style reference must remain consistent\\n- Grid cells separated by SOLID BLACK LINES`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '9:16',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: true,\\n    categoryId: 'characters',\\n    isSystem: true,\\n    isSystemOnly: false,\\n  },\\n\\n  // Action Sequencer (16:9)\\n  {\\n    name: 'Action Sequencer (16:9)',\\n    description: 'Motion breakdown grid showing action in 3 phases: Wind-Up → Impact → Aftermath',\\n    recipeNote: 'Best for fight scenes, athletic moves, or any dynamic action. Row 2 features motion blur.',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 16:9 aspect ratio.\\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\\n\\nCHARACTER PERFORMING ACTION: @<<CHARACTER_NAME:name!>>\\nACTION NARRATIVE: <<ACTION_STORY:text!>>\\n\\nSTYLE EXTRACTION: Analyze style reference for color palette, film grain, lighting contrast, and render engine style. Apply these EXACT visual parameters to @<<CHARACTER_NAME:name!>>.\\n\\nCONSISTENCY: @<<CHARACTER_NAME:name!>> MUST maintain consistent facial features and costume details across all 9 panels despite rapid movement blur.\\n\\nSHUTTER SPEED RULES:\\n- Rows 1 & 3: CRISP/STATIC (high shutter speed, frozen motion)\\n- Row 2: DIRECTIONAL MOTION BLUR (low shutter speed, action blur)\\n\\n3×3 GRID LAYOUT - ACTION BREAKDOWN:\\n\\nROW 1 - THE WIND UP (Anticipation):\\nPanel 1 (Top-Left): @<<CHARACTER_NAME:name!>> shifts weight, tensing muscles. Focus on BODY MECHANICS preparing for the action in <<ACTION_STORY:text!>>.\\nPanel 2 (Top-Center): CLOSE-UP on @<<CHARACTER_NAME:name!>>'s EYES or HANDS. Intense focus. The moment BEFORE the strike/action.\\nPanel 3 (Top-Right): THE COIL. @<<CHARACTER_NAME:name!>> in the final frame of preparation, energy stored, ready to release.\\n\\nROW 2 - THE IMPACT (Action with Motion Blur):\\nPanel 4 (Middle-Left): THE RELEASE. @<<CHARACTER_NAME:name!>> EXPLODES into motion. High energy, frozen violence/action. Motion blur begins.\\nPanel 5 (Middle-Center): THE CONTACT/PEAK. The DEFINING moment of <<ACTION_STORY:text!>>. Maximum dynamic energy. Facial expression of EXERTION. Heavy motion blur.\\nPanel 6 (Middle-Right): FOLLOW-THROUGH. The limb or body part extends FULLY. Motion blur indicates speed.\\n\\nROW 3 - THE AFTERMATH (Reaction):\\nPanel 7 (Bottom-Left): THE LANDING. @<<CHARACTER_NAME:name!>> regains balance or skids to a halt. Dust/debris settling.\\nPanel 8 (Bottom-Center): PHYSICAL TOLL. Close-up on @<<CHARACTER_NAME:name!>> breathing hard, sweating, or bleeding (if applicable to <<ACTION_STORY:text!>>).\\nPanel 9 (Bottom-Right): THE RESOLVE. @<<CHARACTER_NAME:name!>> standing in the aftermath, body language showing the outcome of the action.\\n\\nCRITICAL:\\n- Grid cells separated by SOLID BLACK LINES\\n- Character appearance MUST remain consistent despite motion blur`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '16:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: true,\\n    categoryId: 'characters',\\n    isSystem: true,\\n    isSystemOnly: false,\\n  },\\n\\n  // Action Sequencer (9:16)\\n  {\\n    name: 'Action Sequencer (9:16)',\\n    description: 'Motion breakdown grid showing action in 3 phases: Wind-Up → Impact → Aftermath (portrait)',\\n    recipeNote: 'Best for fight scenes, athletic moves, or any dynamic action. Row 2 features motion blur.',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 9:16 aspect ratio.\\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\\n\\nCHARACTER PERFORMING ACTION: @<<CHARACTER_NAME:name!>>\\nACTION NARRATIVE: <<ACTION_STORY:text!>>\\n\\nSTYLE EXTRACTION: Analyze style reference for color palette, film grain, lighting contrast, and render engine style. Apply these EXACT visual parameters to @<<CHARACTER_NAME:name!>>.\\n\\nCONSISTENCY: @<<CHARACTER_NAME:name!>> MUST maintain consistent facial features and costume details across all 9 panels despite rapid movement blur.\\n\\nSHUTTER SPEED RULES:\\n- Rows 1 & 3: CRISP/STATIC (high shutter speed, frozen motion)\\n- Row 2: DIRECTIONAL MOTION BLUR (low shutter speed, action blur)\\n\\n3×3 GRID LAYOUT - ACTION BREAKDOWN:\\n\\nROW 1 - THE WIND UP (Anticipation):\\nPanel 1 (Top-Left): @<<CHARACTER_NAME:name!>> shifts weight, tensing muscles. Focus on BODY MECHANICS preparing for the action in <<ACTION_STORY:text!>>.\\nPanel 2 (Top-Center): CLOSE-UP on @<<CHARACTER_NAME:name!>>'s EYES or HANDS. Intense focus. The moment BEFORE the strike/action.\\nPanel 3 (Top-Right): THE COIL. @<<CHARACTER_NAME:name!>> in the final frame of preparation, energy stored, ready to release.\\n\\nROW 2 - THE IMPACT (Action with Motion Blur):\\nPanel 4 (Middle-Left): THE RELEASE. @<<CHARACTER_NAME:name!>> EXPLODES into motion. High energy, frozen violence/action. Motion blur begins.\\nPanel 5 (Middle-Center): THE CONTACT/PEAK. The DEFINING moment of <<ACTION_STORY:text!>>. Maximum dynamic energy. Facial expression of EXERTION. Heavy motion blur.\\nPanel 6 (Middle-Right): FOLLOW-THROUGH. The limb or body part extends FULLY. Motion blur indicates speed.\\n\\nROW 3 - THE AFTERMATH (Reaction):\\nPanel 7 (Bottom-Left): THE LANDING. @<<CHARACTER_NAME:name!>> regains balance or skids to a halt. Dust/debris settling.\\nPanel 8 (Bottom-Center): PHYSICAL TOLL. Close-up on @<<CHARACTER_NAME:name!>> breathing hard, sweating, or bleeding (if applicable to <<ACTION_STORY:text!>>).\\nPanel 9 (Bottom-Right): THE RESOLVE. @<<CHARACTER_NAME:name!>> standing in the aftermath, body language showing the outcome of the action.\\n\\nCRITICAL:\\n- Grid cells separated by SOLID BLACK LINES\\n- Character appearance MUST remain consistent despite motion blur`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '9:16',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: true,\\n    categoryId: 'characters',\\n    isSystem: true,\\n    isSystemOnly: false,\\n  },\\n\\n  // World Building (16:9)\\n  {\\n    name: 'World Building (16:9)',\\n    description: 'Location exploration grid: Interior details → Exterior establishing → Voyeuristic views',\\n    recipeNote: 'Provide a reference image showing the main location. Grid explores the environment from multiple perspectives.',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 16:9 aspect ratio.\\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\\n\\nLOCATION BEING EXPLORED: <<LOCATION_NAME:name!>>\\nDESCRIPTION: <<LOCATION_DESCRIPTION:text!>>\\n\\nSTYLE EXTRACTION: Analyze reference image for:\\n- Primary location type (e.g., dive bar, office, meadow, warehouse)\\n- Photographic style, lighting quality, film grain\\n- Color grading and atmospheric mood\\n- Main subjects (for context only)\\n\\nCONSISTENCY RULES:\\n- All panels inhabit the EXACT SAME location\\n- Lighting and film stock style MUST remain consistent\\n- In Rows 1 & 3: Main subjects are present but SIGNIFICANTLY OUT OF FOCUS (heavy bokeh/blur)\\n- Sharp focus on ENVIRONMENTAL DETAILS, not people\\n\\n3×3 GRID LAYOUT - LOCATION EXPLORATION:\\n\\nROW 1 - INTERIOR/INTIMATE CONTEXT (Shallow Depth of Field):\\nPanel 1 (Top-Left): WIDE ANGLE INTERIOR. A relevant foreground object (coffee cup, tool, hand on table) is INTENSELY SHARP. Any people in mid-ground are EXTREMELY BLURRY.\\nPanel 2 (Top-Center): MEDIUM SHOT INTERIOR. Looking past a structural element (doorframe, pillar, beam) that is SHARP in foreground. Any people in background are OUT OF FOCUS.\\nPanel 3 (Top-Right): MACRO DETAIL INTERIOR. Extreme close-up on a texture definitive of <<LOCATION_NAME:name!>> (peeling paint, polished chrome, worn wood grain). Any people are vague shapes in distance.\\n\\nROW 2 - EXTERIOR ESTABLISHING (The Reveal):\\nPanel 4 (Middle-Left): EYE-LEVEL STREET VIEW. Standard wide establishing shot of the EXTERIOR building facade of <<LOCATION_NAME:name!>>.\\nPanel 5 (Middle-Center): HIGH ANGLE DRONE SHOT. Excessive wide shot showing <<LOCATION_NAME:name!>> situated within its larger geography/cityscape. NO foreground elements.\\nPanel 6 (Middle-Right): ARCHITECTURAL DETAIL EXTERIOR. Focus on a specific exterior feature that gives character (neon sign, rusted fire escape, ornate doorway).\\n\\nROW 3 - EXTERIOR PEEP-HOLE (Voyeuristic View):\\nPanel 7 (Bottom-Left): THROUGH FOREGROUND ELEMENTS. Looking at the exterior location from distance through SHARP foreground foliage, fence, or rain-streaked glass. The location is SLIGHTLY SOFT.\\nPanel 8 (Bottom-Center): REFLECTION SHOT. The exterior of <<LOCATION_NAME:name!>> is seen ONLY as a reflection in a puddle, car window, or glossy surface.\\nPanel 9 (Bottom-Right): LONG LENS COMPRESSION. A telephoto shot from very far away, compressing distance. Heat haze or atmospheric perspective makes the location look distant and embedded in surroundings.\\n\\nCRITICAL:\\n- Grid cells separated by SOLID BLACK LINES\\n- Infer exterior architecture from interior reference`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '16:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: true,\\n    categoryId: 'environments',\\n    isSystem: true,\\n    isSystemOnly: false,\\n  },\\n\\n  // World Building (9:16)\\n  {\\n    name: 'World Building (9:16)',\\n    description: 'Location exploration grid: Interior details → Exterior establishing → Voyeuristic views (portrait)',\\n    recipeNote: 'Provide a reference image showing the main location. Grid explores the environment from multiple perspectives.',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 9:16 aspect ratio.\\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\\n\\nLOCATION BEING EXPLORED: <<LOCATION_NAME:name!>>\\nDESCRIPTION: <<LOCATION_DESCRIPTION:text!>>\\n\\nSTYLE EXTRACTION: Analyze reference image for:\\n- Primary location type (e.g., dive bar, office, meadow, warehouse)\\n- Photographic style, lighting quality, film grain\\n- Color grading and atmospheric mood\\n- Main subjects (for context only)\\n\\nCONSISTENCY RULES:\\n- All panels inhabit the EXACT SAME location\\n- Lighting and film stock style MUST remain consistent\\n- In Rows 1 & 3: Main subjects are present but SIGNIFICANTLY OUT OF FOCUS (heavy bokeh/blur)\\n- Sharp focus on ENVIRONMENTAL DETAILS, not people\\n\\n3×3 GRID LAYOUT - LOCATION EXPLORATION:\\n\\nROW 1 - INTERIOR/INTIMATE CONTEXT (Shallow Depth of Field):\\nPanel 1 (Top-Left): WIDE ANGLE INTERIOR. A relevant foreground object (coffee cup, tool, hand on table) is INTENSELY SHARP. Any people in mid-ground are EXTREMELY BLURRY.\\nPanel 2 (Top-Center): MEDIUM SHOT INTERIOR. Looking past a structural element (doorframe, pillar, beam) that is SHARP in foreground. Any people in background are OUT OF FOCUS.\\nPanel 3 (Top-Right): MACRO DETAIL INTERIOR. Extreme close-up on a texture definitive of <<LOCATION_NAME:name!>> (peeling paint, polished chrome, worn wood grain). Any people are vague shapes in distance.\\n\\nROW 2 - EXTERIOR ESTABLISHING (The Reveal):\\nPanel 4 (Middle-Left): EYE-LEVEL STREET VIEW. Standard wide establishing shot of the EXTERIOR building facade of <<LOCATION_NAME:name!>>.\\nPanel 5 (Middle-Center): HIGH ANGLE DRONE SHOT. Excessive wide shot showing <<LOCATION_NAME:name!>> situated within its larger geography/cityscape. NO foreground elements.\\nPanel 6 (Middle-Right): ARCHITECTURAL DETAIL EXTERIOR. Focus on a specific exterior feature that gives character (neon sign, rusted fire escape, ornate doorway).\\n\\nROW 3 - EXTERIOR PEEP-HOLE (Voyeuristic View):\\nPanel 7 (Bottom-Left): THROUGH FOREGROUND ELEMENTS. Looking at the exterior location from distance through SHARP foreground foliage, fence, or rain-streaked glass. The location is SLIGHTLY SOFT.\\nPanel 8 (Bottom-Center): REFLECTION SHOT. The exterior of <<LOCATION_NAME:name!>> is seen ONLY as a reflection in a puddle, car window, or glossy surface.\\nPanel 9 (Bottom-Right): LONG LENS COMPRESSION. A telephoto shot from very far away, compressing distance. Heat haze or atmospheric perspective makes the location look distant and embedded in surroundings.\\n\\nCRITICAL:\\n- Grid cells separated by SOLID BLACK LINES\\n- Infer exterior architecture from interior reference`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '9:16',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: true,\\n    categoryId: 'environments',\\n    isSystem: true,\\n    isSystemOnly: false,\\n  },\\n\\n  // Story Summary - Full Arc (16:9)\\n  {\\n    name: 'Story Summary - Full Arc (16:9)',\\n    description: '9-panel visual narrative showing complete story from beginning to resolution',\\n    recipeNote: 'Attach character reference for consistent appearance. Grid tells entire story with NO text bubbles.',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 16:9 aspect ratio.\\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\\n\\nPROTAGONIST: @<<CHARACTER_NAME:name!>>\\nCOMPLETE NARRATIVE: <<FULL_STORY:text!>>\\n\\nSTYLE EXTRACTION: Analyze character reference image to define:\\n- Protagonist's appearance, clothing, physical features\\n- Overall visual art style and cinematography\\n- Color palette and lighting approach\\n\\nCONSISTENCY REQUIREMENTS:\\n- @<<CHARACTER_NAME:name!>> must look EXACTLY like the reference image in ALL panels\\n- Cinematographic style must match reference\\n- NO TEXT BUBBLES or overlaid words\\n- Story told purely through VISUAL ACTION, composition, and character emotion\\n\\nNARRATIVE STRUCTURE: Identify the 9 MOST CRUCIAL PLOT POINTS from <<FULL_STORY:text!>> spanning beginning to resolution.\\n\\n3×3 GRID LAYOUT - FULL STORY ARC:\\n\\nROW 1 - ACT 1: Setup and Inciting Incident\\nPanel 1 (Top-Left): PLOT POINT 1 - The Status Quo / Beginning. Show @<<CHARACTER_NAME:name!>> in their normal world before change.\\nPanel 2 (Top-Center): PLOT POINT 2 - The Inciting Incident / Disruption. The event that disrupts the status quo from <<FULL_STORY:text!>>.\\nPanel 3 (Top-Right): PLOT POINT 3 - Locking into the Journey. @<<CHARACTER_NAME:name!>> commits to the path forward.\\n\\nROW 2 - ACT 2: Confrontation and Rising Action\\nPanel 4 (Middle-Left): PLOT POINT 4 - Rising obstacles/challenges. @<<CHARACTER_NAME:name!>> faces first major challenge from <<FULL_STORY:text!>>.\\nPanel 5 (Middle-Center): PLOT POINT 5 - The Midpoint Climax / Point of No Return. The turning point where stakes are raised.\\nPanel 6 (Middle-Right): PLOT POINT 6 - The Lowest Point. @<<CHARACTER_NAME:name!>> faces their darkest moment or setup for final confrontation.\\n\\nROW 3 - ACT 3: Resolution\\nPanel 7 (Bottom-Left): PLOT POINT 7 - The Climax / Final Battle. The peak moment of conflict from <<FULL_STORY:text!>>.\\nPanel 8 (Bottom-Center): PLOT POINT 8 - The Immediate Aftermath / Falling Action. Immediate consequences of the climax.\\nPanel 9 (Bottom-Right): PLOT POINT 9 - The New Status Quo / Final Image. @<<CHARACTER_NAME:name!>> in their changed world after the journey.\\n\\nCRITICAL:\\n- Grid cells separated by SOLID BLACK LINES\\n- Sequential reading order: left→right, top→bottom\\n- NO text, purely visual storytelling`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '16:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: true,\\n    categoryId: 'narrative',\\n    isSystem: true,\\n    isSystemOnly: false,\\n  },\\n\\n  // Story Summary - Full Arc (9:16)\\n  {\\n    name: 'Story Summary - Full Arc (9:16)',\\n    description: '9-panel visual narrative showing complete story from beginning to resolution (portrait)',\\n    recipeNote: 'Attach character reference for consistent appearance. Grid tells entire story with NO text bubbles.',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 9:16 aspect ratio.\\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\\n\\nPROTAGONIST: @<<CHARACTER_NAME:name!>>\\nCOMPLETE NARRATIVE: <<FULL_STORY:text!>>\\n\\nSTYLE EXTRACTION: Analyze character reference image to define:\\n- Protagonist's appearance, clothing, physical features\\n- Overall visual art style and cinematography\\n- Color palette and lighting approach\\n\\nCONSISTENCY REQUIREMENTS:\\n- @<<CHARACTER_NAME:name!>> must look EXACTLY like the reference image in ALL panels\\n- Cinematographic style must match reference\\n- NO TEXT BUBBLES or overlaid words\\n- Story told purely through VISUAL ACTION, composition, and character emotion\\n\\nNARRATIVE STRUCTURE: Identify the 9 MOST CRUCIAL PLOT POINTS from <<FULL_STORY:text!>> spanning beginning to resolution.\\n\\n3×3 GRID LAYOUT - FULL STORY ARC:\\n\\nROW 1 - ACT 1: Setup and Inciting Incident\\nPanel 1 (Top-Left): PLOT POINT 1 - The Status Quo / Beginning. Show @<<CHARACTER_NAME:name!>> in their normal world before change.\\nPanel 2 (Top-Center): PLOT POINT 2 - The Inciting Incident / Disruption. The event that disrupts the status quo from <<FULL_STORY:text!>>.\\nPanel 3 (Top-Right): PLOT POINT 3 - Locking into the Journey. @<<CHARACTER_NAME:name!>> commits to the path forward.\\n\\nROW 2 - ACT 2: Confrontation and Rising Action\\nPanel 4 (Middle-Left): PLOT POINT 4 - Rising obstacles/challenges. @<<CHARACTER_NAME:name!>> faces first major challenge from <<FULL_STORY:text!>>.\\nPanel 5 (Middle-Center): PLOT POINT 5 - The Midpoint Climax / Point of No Return. The turning point where stakes are raised.\\nPanel 6 (Middle-Right): PLOT POINT 6 - The Lowest Point. @<<CHARACTER_NAME:name!>> faces their darkest moment or setup for final confrontation.\\n\\nROW 3 - ACT 3: Resolution\\nPanel 7 (Bottom-Left): PLOT POINT 7 - The Climax / Final Battle. The peak moment of conflict from <<FULL_STORY:text!>>.\\nPanel 8 (Bottom-Center): PLOT POINT 8 - The Immediate Aftermath / Falling Action. Immediate consequences of the climax.\\nPanel 9 (Bottom-Right): PLOT POINT 9 - The New Status Quo / Final Image. @<<CHARACTER_NAME:name!>> in their changed world after the journey.\\n\\nCRITICAL:\\n- Grid cells separated by SOLID BLACK LINES\\n- Sequential reading order: left→right, top→bottom\\n- NO text, purely visual storytelling`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '9:16',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: true,\\n    categoryId: 'narrative',\\n    isSystem: true,\\n    isSystemOnly: false,\\n  },\\n\\n  // Story Summary - First Half (16:9)\\n  {\\n    name: 'Story Summary - First Half (16:9)',\\n    description: '9-panel visual narrative showing FIRST HALF of story (up to midpoint)',\\n    recipeNote: 'Attach character reference for consistent appearance. Grid shows story up to midpoint cliffhanger.',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 16:9 aspect ratio.\\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\\n\\nPROTAGONIST: @<<CHARACTER_NAME:name!>>\\nCOMPLETE NARRATIVE: <<FULL_STORY:text!>>\\n\\nSTYLE EXTRACTION: Analyze character reference image to define:\\n- Protagonist's appearance, clothing, physical features\\n- Overall visual art style and cinematography\\n- Color palette and lighting approach\\n\\nCONSISTENCY REQUIREMENTS:\\n- @<<CHARACTER_NAME:name!>> must look EXACTLY like the reference image in ALL panels\\n- Cinematographic style must match reference\\n- NO TEXT BUBBLES or overlaid words\\n- Story told purely through VISUAL ACTION, composition, and character emotion\\n\\nNARRATIVE STRUCTURE:\\n- Identify the MIDPOINT of <<FULL_STORY:text!>>\\n- Select 9 CRUCIAL PLOT POINTS leading UP TO the midpoint\\n- Panel 9 should be the MIDPOINT CLIMAX/CLIFFHANGER\\n\\n3×3 GRID LAYOUT - FIRST HALF STORY ARC:\\n\\nROW 1 - ACT 1: Setup and Inciting Incident\\nPanel 1 (Top-Left): PLOT POINT 1 - The Status Quo / Beginning. Show @<<CHARACTER_NAME:name!>> in their normal world before change.\\nPanel 2 (Top-Center): PLOT POINT 2 - The Inciting Incident / Disruption. The event that disrupts the status quo from <<FULL_STORY:text!>>.\\nPanel 3 (Top-Right): PLOT POINT 3 - Locking into the Journey. @<<CHARACTER_NAME:name!>> commits to the path forward.\\n\\nROW 2 - ACT 2A: Early Confrontation\\nPanel 4 (Middle-Left): PLOT POINT 4 - First obstacle encountered. @<<CHARACTER_NAME:name!>> begins facing challenges.\\nPanel 5 (Middle-Center): PLOT POINT 5 - Rising stakes. Complications increase from <<FULL_STORY:text!>>.\\nPanel 6 (Middle-Right): PLOT POINT 6 - Approaching the midpoint. Tension builds toward the turning point.\\n\\nROW 3 - MIDPOINT APPROACH\\nPanel 7 (Bottom-Left): PLOT POINT 7 - Setup for midpoint. Elements converge toward the pivotal moment.\\nPanel 8 (Bottom-Center): PLOT POINT 8 - Midpoint trigger. The immediate precursor to the major turning point.\\nPanel 9 (Bottom-Right): PLOT POINT 9 - THE MIDPOINT CLIMAX. The pivotal moment that changes everything. End on a CLIFFHANGER.\\n\\nCRITICAL:\\n- Grid cells separated by SOLID BLACK LINES\\n- Sequential reading order: left→right, top→bottom\\n- NO text, purely visual storytelling\\n- Panel 9 MUST be an exciting cliffhanger moment`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '16:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: true,\\n    categoryId: 'narrative',\\n    isSystem: true,\\n    isSystemOnly: false,\\n  },\\n\\n  // Story Summary - First Half (9:16)\\n  {\\n    name: 'Story Summary - First Half (9:16)',\\n    description: '9-panel visual narrative showing FIRST HALF of story (up to midpoint) (portrait)',\\n    recipeNote: 'Attach character reference for consistent appearance. Grid shows story up to midpoint cliffhanger.',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 9:16 aspect ratio.\\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\\n\\nPROTAGONIST: @<<CHARACTER_NAME:name!>>\\nCOMPLETE NARRATIVE: <<FULL_STORY:text!>>\\n\\nSTYLE EXTRACTION: Analyze character reference image to define:\\n- Protagonist's appearance, clothing, physical features\\n- Overall visual art style and cinematography\\n- Color palette and lighting approach\\n\\nCONSISTENCY REQUIREMENTS:\\n- @<<CHARACTER_NAME:name!>> must look EXACTLY like the reference image in ALL panels\\n- Cinematographic style must match reference\\n- NO TEXT BUBBLES or overlaid words\\n- Story told purely through VISUAL ACTION, composition, and character emotion\\n\\nNARRATIVE STRUCTURE:\\n- Identify the MIDPOINT of <<FULL_STORY:text!>>\\n- Select 9 CRUCIAL PLOT POINTS leading UP TO the midpoint\\n- Panel 9 should be the MIDPOINT CLIMAX/CLIFFHANGER\\n\\n3×3 GRID LAYOUT - FIRST HALF STORY ARC:\\n\\nROW 1 - ACT 1: Setup and Inciting Incident\\nPanel 1 (Top-Left): PLOT POINT 1 - The Status Quo / Beginning. Show @<<CHARACTER_NAME:name!>> in their normal world before change.\\nPanel 2 (Top-Center): PLOT POINT 2 - The Inciting Incident / Disruption. The event that disrupts the status quo from <<FULL_STORY:text!>>.\\nPanel 3 (Top-Right): PLOT POINT 3 - Locking into the Journey. @<<CHARACTER_NAME:name!>> commits to the path forward.\\n\\nROW 2 - ACT 2A: Early Confrontation\\nPanel 4 (Middle-Left): PLOT POINT 4 - First obstacle encountered. @<<CHARACTER_NAME:name!>> begins facing challenges.\\nPanel 5 (Middle-Center): PLOT POINT 5 - Rising stakes. Complications increase from <<FULL_STORY:text!>>.\\nPanel 6 (Middle-Right): PLOT POINT 6 - Approaching the midpoint. Tension builds toward the turning point.\\n\\nROW 3 - MIDPOINT APPROACH\\nPanel 7 (Bottom-Left): PLOT POINT 7 - Setup for midpoint. Elements converge toward the pivotal moment.\\nPanel 8 (Bottom-Center): PLOT POINT 8 - Midpoint trigger. The immediate precursor to the major turning point.\\nPanel 9 (Bottom-Right): PLOT POINT 9 - THE MIDPOINT CLIMAX. The pivotal moment that changes everything. End on a CLIFFHANGER.\\n\\nCRITICAL:\\n- Grid cells separated by SOLID BLACK LINES\\n- Sequential reading order: left→right, top→bottom\\n- NO text, purely visual storytelling\\n- Panel 9 MUST be an exciting cliffhanger moment`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '9:16',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: true,\\n    categoryId: 'narrative',\\n    isSystem: true,\\n    isSystemOnly: false,\\n  },\\n]\\n\",\"structuredPatch\":[{\"oldStart\":493,\"oldLines\":6,\"newStart\":493,\"newLines\":7,\"lines\":[\" const SYSTEM_TEMPLATE_URLS = {\",\"   characterSheetBasic: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-basic.png`,\",\"   characterSheetAdvanced: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-advanced.webp`,\",\"+  characterSheetV3: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-v3.jpg`,\",\"   wardrobeGrid: `${SUPABASE_URL}/storage/v1/object/public/templates/system/grids/wardrobe-2x3.png`,\",\" }\",\" \"]}],\"userModified\":false,\"replaceAll\":false},\"sourceToolAssistantUUID\":\"32774a37-d5c3-4cb2-9e04-37d63f2e99cb\"}\n{\"parentUuid\":\"0d0212dc-3e81-4b2c-806c-a78f1246fced\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01JAM4uMNazLHTarxx6bfdU4\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"Good! Now I need to update the CHARACTER_SHEET_FROM_DESCRIPTION recipe to use this new template URL. According to the grep results, the characterSheetAdvanced URL is used at several places including line 2129 and 2301. Let me check which one is for the CHARACTER_SHEET_FROM_DESCRIPTION recipe:\",\"signature\":\"Es4DCkYICxgCKkAX9GFm11REkdeCSZdEvdNEoSL0bBh2yvSytlNH4aI2mo26i2iVCXv70/A8QVqRGmCdLTyiZLAXMShPfAkD6LG2Egw5CFh1pQD2Ig/UAMMaDIhJ0irdvUHX02yShyIwcbtPU2y7Odt8XgIwWgwUillRRNryBcinL8Uw1sQNiLjnHxT1u0APOsU00yKZ3QSFKrUC/Yj4rdsQMnZa6pwz08ulZ3gCM9Du32WNodE9auT3TCTK1+Au3J+fiCxcvziLFOUIWM3PY1mpJm9tloUEUB8QA4uXp8VRZTPl79sFTW1dEwwM71PQATwQnquYRbQCS47Ww9psrtngPbVGYpvOqMYs5gO5cCgp6qXFKNFrB0abr0N9TsVSaV1yGFA1oIALrR0YebHUiKCeClaDRAMBea2K9IyA62MPGjnqPD8QbNyPvxV39rwAWUy1ZpdiaEml7hm+YdKqZBBkfm1xH7fR7uNhMe11ofkdcLUQ/QNv+dcPxvoRcgbmC9YxRLQYhgKoR1rKkeWpL+KPhjo+YXEnxPSXoTDCJt5wMGz1ok9236eJIzl+tKNtI1medtsXj3kt+pSsoTEvbR3N6vKAlsZiy3nt7i4W70mjGAE=\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":12,\"cache_creation_input_tokens\":1007,\"cache_read_input_tokens\":48223,\"cache_creation\":{\"ephemeral_5m_input_tokens\":1007,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":1,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwJCcv6CUVTsfrRbEFR\",\"type\":\"assistant\",\"uuid\":\"422aa975-c9cc-4053-a74f-46f54e372a5f\",\"timestamp\":\"2026-01-18T00:58:55.911Z\"}\n{\"parentUuid\":\"422aa975-c9cc-4053-a74f-46f54e372a5f\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01JAM4uMNazLHTarxx6bfdU4\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_01Nzg81aVxwZgBEzNYsFkFj9\",\"name\":\"Read\",\"input\":{\"file_path\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts\",\"offset\":2125,\"limit\":15}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":12,\"cache_creation_input_tokens\":1007,\"cache_read_input_tokens\":48223,\"cache_creation\":{\"ephemeral_5m_input_tokens\":1007,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":194,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwJCcv6CUVTsfrRbEFR\",\"type\":\"assistant\",\"uuid\":\"a16dd1db-c577-42b1-a572-9efd3d03ed21\",\"timestamp\":\"2026-01-18T00:58:56.667Z\"}\n{\"parentUuid\":\"a16dd1db-c577-42b1-a572-9efd3d03ed21\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"tool_use_id\":\"toolu_01Nzg81aVxwZgBEzNYsFkFj9\",\"type\":\"tool_result\",\"content\":\"  2125→- Production-ready layout following the template reference`,\\n  2126→        fields: [],\\n  2127→        referenceImages: [\\n  2128→          {\\n  2129→            id: 'template_charsheet_advanced',\\n  2130→            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\n  2131→            name: 'Character Sheet Layout Template',\\n  2132→            aspectRatio: '21:9',\\n  2133→          }\\n  2134→        ],\\n  2135→      },\\n  2136→    ],\\n  2137→    suggestedAspectRatio: '21:9',\\n  2138→    suggestedModel: 'nano-banana-pro',\\n  2139→    isQuickAccess: false,\\n\\n<system-reminder>\\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\\n</system-reminder>\\n\"}]},\"uuid\":\"6f8fd7a7-4834-4b9b-a93d-ca249376df87\",\"timestamp\":\"2026-01-18T00:58:58.179Z\",\"toolUseResult\":{\"type\":\"text\",\"file\":{\"filePath\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts\",\"content\":\"- Production-ready layout following the template reference`,\\n        fields: [],\\n        referenceImages: [\\n          {\\n            id: 'template_charsheet_advanced',\\n            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\n            name: 'Character Sheet Layout Template',\\n            aspectRatio: '21:9',\\n          }\\n        ],\\n      },\\n    ],\\n    suggestedAspectRatio: '21:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: false,\",\"numLines\":15,\"startLine\":2125,\"totalLines\":3178}},\"sourceToolAssistantUUID\":\"a16dd1db-c577-42b1-a572-9efd3d03ed21\"}\n{\"parentUuid\":\"6f8fd7a7-4834-4b9b-a93d-ca249376df87\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01SQEgKnRFmbv4PodzR8bByu\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"Good, I found the reference image for stage 1. Let me update it to use the new characterSheetV3 template:\",\"signature\":\"EpECCkYICxgCKkA8OyafgzsVHC1rOLPBcQRrps5w481GcWhvEH5zzEvBvSvOm3GSSUt4UaoWXnE8RbF8leUYehnmJ6LeO5eNkFHsEgzvdO/f2L1nTbOkHv8aDI27vUDNhhiLsOEHDCIws5Sp4mYDlV9oT3oh70ZSSMffM3PV5EwXPnqtl3c8S1U1AnnNLUWQJ96WPsOrEzuGKnlsXzHoftmtByOssr98Z9+f8Nx+EAlJMALAvci1KgAaU6pwLQUG4LunXC1XZKCnw5KKzWi+xaeQJhGege67owBp597XM8ubQqfuXgco8wfkfcmRokLODsEXBIvTsal7cA0v15X5Fmzk/fscQHxpAGRdXqhNsf950Zv5GAE=\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":11,\"cache_creation_input_tokens\":554,\"cache_read_input_tokens\":49230,\"cache_creation\":{\"ephemeral_5m_input_tokens\":554,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":2,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwJiCu5aaknHqaeXgdf\",\"type\":\"assistant\",\"uuid\":\"7367a4db-8da7-49e5-b445-bc7139b580b8\",\"timestamp\":\"2026-01-18T00:59:02.289Z\"}\n{\"parentUuid\":\"7367a4db-8da7-49e5-b445-bc7139b580b8\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01SQEgKnRFmbv4PodzR8bByu\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_01WznKg2MZ2d13uuCmSwWUG5\",\"name\":\"Edit\",\"input\":{\"replace_all\":false,\"file_path\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts\",\"old_string\":\"        referenceImages: [\\n          {\\n            id: 'template_charsheet_advanced',\\n            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\n            name: 'Character Sheet Layout Template',\\n            aspectRatio: '21:9',\\n          }\\n        ],\",\"new_string\":\"        referenceImages: [\\n          {\\n            id: 'template_charsheet_v3',\\n            url: SYSTEM_TEMPLATE_URLS.characterSheetV3,\\n            name: 'Character Sheet V3 Layout Template',\\n            aspectRatio: '21:9',\\n          }\\n        ],\"}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":11,\"cache_creation_input_tokens\":554,\"cache_read_input_tokens\":49230,\"cache_creation\":{\"ephemeral_5m_input_tokens\":554,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":292,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwJiCu5aaknHqaeXgdf\",\"type\":\"assistant\",\"uuid\":\"2a197c8c-bfe6-4e72-9ea2-88e9d33e1f74\",\"timestamp\":\"2026-01-18T00:59:04.170Z\"}\n{\"parentUuid\":\"2a197c8c-bfe6-4e72-9ea2-88e9d33e1f74\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"content\":\"<tool_use_error>Found 3 matches of the string to replace, but replace_all is false. To replace all occurrences, set replace_all to true. To replace only one occurrence, please provide more context to uniquely identify the instance.\\nString:         referenceImages: [\\n          {\\n            id: 'template_charsheet_advanced',\\n            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\n            name: 'Character Sheet Layout Template',\\n            aspectRatio: '21:9',\\n          }\\n        ],</tool_use_error>\",\"is_error\":true,\"tool_use_id\":\"toolu_01WznKg2MZ2d13uuCmSwWUG5\"}]},\"uuid\":\"4bc60f45-0894-4651-836f-cb09b6068a58\",\"timestamp\":\"2026-01-18T00:59:04.287Z\",\"toolUseResult\":\"Error: Found 3 matches of the string to replace, but replace_all is false. To replace all occurrences, set replace_all to true. To replace only one occurrence, please provide more context to uniquely identify the instance.\\nString:         referenceImages: [\\n          {\\n            id: 'template_charsheet_advanced',\\n            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\n            name: 'Character Sheet Layout Template',\\n            aspectRatio: '21:9',\\n          }\\n        ],\",\"sourceToolAssistantUUID\":\"2a197c8c-bfe6-4e72-9ea2-88e9d33e1f74\"}\n{\"parentUuid\":\"4bc60f45-0894-4651-836f-cb09b6068a58\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01VrHjRTx3ujvBwhQiS8fvN3\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"There are 3 matches. I need to find specifically the CHARACTER_SHEET_FROM_DESCRIPTION recipe. Let me search for it:\",\"signature\":\"EpwCCkYICxgCKkA2ZrNcc3b3jeDE7p4rXlOWMk3OxWtJGtw/ndjbp9rH6T6kzFZQw3xHJ0+/G02rk2KuV+wAKBhZ4a7Ac/syuMg4EgyG+N0d7Qhc1KEUbkMaDCEUra5PsJEGEpuVuSIwgCk88JtVM4urQc2EoMnpL1FqPQRwnZz3ATyU7tBjkpvsZDNTyj4IjHJLjX3LcDJ+KoMB3PyErake91gbRELkryOcWhK6Um3LvW6ejDNwuk0HH4oKh6tlhyg9CVmtgSupFSf9+aP2vUrpvWSpKQpTP6RNJGUf2SYpLRIGtj1Evhx/pUHr66EVPB6qWlnRUiWbyqudTDGuYLAqfsB3FNkWNfJpI1/RntOaXoes3dP9i4X/2N9oXQUYAQ==\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":12,\"cache_creation_input_tokens\":470,\"cache_read_input_tokens\":49784,\"cache_creation\":{\"ephemeral_5m_input_tokens\":470,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":1,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwK9Wus4k9ztYq7PKiR\",\"type\":\"assistant\",\"uuid\":\"05dd36ba-3917-4385-b4b1-066c5b9fe3ec\",\"timestamp\":\"2026-01-18T00:59:07.351Z\"}\n{\"parentUuid\":\"05dd36ba-3917-4385-b4b1-066c5b9fe3ec\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01VrHjRTx3ujvBwhQiS8fvN3\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_015KUtHp3kkBNUjPxB7H7eL7\",\"name\":\"Grep\",\"input\":{\"pattern\":\"CHARACTER_SHEET_FROM_DESCRIPTION\",\"path\":\"src/features/shot-creator/types/recipe.types.ts\",\"output_mode\":\"content\",\"-n\":true}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":12,\"cache_creation_input_tokens\":470,\"cache_read_input_tokens\":49784,\"cache_creation\":{\"ephemeral_5m_input_tokens\":470,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":166,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwK9Wus4k9ztYq7PKiR\",\"type\":\"assistant\",\"uuid\":\"40a51cc1-177e-4f5e-b33f-a5e1191850a6\",\"timestamp\":\"2026-01-18T00:59:08.453Z\"}\n{\"parentUuid\":\"40a51cc1-177e-4f5e-b33f-a5e1191850a6\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"tool_use_id\":\"toolu_015KUtHp3kkBNUjPxB7H7eL7\",\"type\":\"tool_result\",\"content\":\"No matches found\"}]},\"uuid\":\"e49b3fd5-64f2-429d-afac-48ed7a811acb\",\"timestamp\":\"2026-01-18T00:59:11.176Z\",\"toolUseResult\":{\"mode\":\"content\",\"numFiles\":0,\"filenames\":[],\"content\":\"\",\"numLines\":0},\"sourceToolAssistantUUID\":\"40a51cc1-177e-4f5e-b33f-a5e1191850a6\"}\n{\"parentUuid\":\"e49b3fd5-64f2-429d-afac-48ed7a811acb\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_019MJGuuvoSb6bqoBhvYUbv8\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"Hmm, let me search for \\\"Character Sheet (from Description)\\\" which is the name of the recipe:\",\"signature\":\"EoQCCkYICxgCKkCkdqO3Mqna9xPYYSeSZ58ssEWmc+t4RYWpkrzXvP15Pblp7TZh18XItaUekkNCVHZaq8mxbmNfysjDppPyIil3EgxY1H6AzF2QWkssu/saDC20iWDafaq1AUAa+yIwWe3565oviiAvgYMxVhMAiJnmYs9EyuuqAKNQv8z9CYPir/ejNM+AUjbKx/yAYIrXKmxUoY6wdvM1bGRnOVVHlQ9nYn27hE25ZRCGDRe/1yQfJW0Rb7Ryk8G2QT99oYc/386dHjd5tbeMLuWCXn/LwMRWWo03PXxSqiu0mR5WWF9NpAoUsmvfRc8Toi5ELJV1OUDCYC3S/hZR+pFrpPAYAQ==\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":11,\"cache_creation_input_tokens\":189,\"cache_read_input_tokens\":50254,\"cache_creation\":{\"ephemeral_5m_input_tokens\":189,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":5,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwKemoVSssK4w2Qqujf\",\"type\":\"assistant\",\"uuid\":\"9d02653c-96f3-4367-bbf2-646e422525fb\",\"timestamp\":\"2026-01-18T00:59:14.242Z\"}\n{\"parentUuid\":\"9d02653c-96f3-4367-bbf2-646e422525fb\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_019MJGuuvoSb6bqoBhvYUbv8\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_01CShKuAoFQfjnmAGuMVsqoV\",\"name\":\"Grep\",\"input\":{\"pattern\":\"Character Sheet \\\\(from Description\\\\)\",\"path\":\"src/features/shot-creator/types/recipe.types.ts\",\"output_mode\":\"content\",\"-n\":true}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":11,\"cache_creation_input_tokens\":189,\"cache_read_input_tokens\":50254,\"cache_creation\":{\"ephemeral_5m_input_tokens\":189,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":157,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwKemoVSssK4w2Qqujf\",\"type\":\"assistant\",\"uuid\":\"fa032eb2-aaf2-483c-8d85-ad87175dc05b\",\"timestamp\":\"2026-01-18T00:59:15.111Z\"}\n{\"parentUuid\":\"fa032eb2-aaf2-483c-8d85-ad87175dc05b\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"tool_use_id\":\"toolu_01CShKuAoFQfjnmAGuMVsqoV\",\"type\":\"tool_result\",\"content\":\"No matches found\"}]},\"uuid\":\"d7bfe315-198c-43b1-84d5-9fb9be18a596\",\"timestamp\":\"2026-01-18T00:59:17.698Z\",\"toolUseResult\":{\"mode\":\"content\",\"numFiles\":0,\"filenames\":[],\"content\":\"\",\"numLines\":0},\"sourceToolAssistantUUID\":\"fa032eb2-aaf2-483c-8d85-ad87175dc05b\"}\n{\"parentUuid\":\"d7bfe315-198c-43b1-84d5-9fb9be18a596\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_018BJe2JS9H4RVp7mxoAEuLr\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"Let me search more broadly for \\\"from Description\\\":\",\"signature\":\"EtoBCkYICxgCKkAJBGvkcuROZ8iwvh2qq5uz9U4zb4vFv3ix6mzZO9rcO4Xs2P48c7zgx3nCjHx8J0rDsgkLBD6TAUvQwHkOX2wjEgykwHuAt/qbB33FGwcaDNrqUO5slBRkGtkteyIwfIR/0qwh+RxwjvNF9arx8sj1f6dxZCF4n0qGJCHw09tY2tnzqKVYRoDbHaSG1Ls+KkJc8TN+QcdMCgUtwqHKDnuXAXQvNa8ZbT/+myajNIWCi5hT8ZMrFIIw3+2lm5Hz7MVczV92eC5sQoXc5p7JSuqM1P8YAQ==\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":11,\"cache_creation_input_tokens\":179,\"cache_read_input_tokens\":50443,\"cache_creation\":{\"ephemeral_5m_input_tokens\":179,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":3,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwL8XQb6vxnTyRkjdD2\",\"type\":\"assistant\",\"uuid\":\"be09381d-5732-4149-a871-9ddf4c8b7040\",\"timestamp\":\"2026-01-18T00:59:20.502Z\"}\n{\"parentUuid\":\"be09381d-5732-4149-a871-9ddf4c8b7040\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_018BJe2JS9H4RVp7mxoAEuLr\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_01AdvtXfJ8xGEQf4EZY3ityq\",\"name\":\"Grep\",\"input\":{\"pattern\":\"from Description\",\"path\":\"src/features/shot-creator/types/recipe.types.ts\",\"output_mode\":\"content\",\"-n\":true}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":11,\"cache_creation_input_tokens\":179,\"cache_read_input_tokens\":50443,\"cache_creation\":{\"ephemeral_5m_input_tokens\":179,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":139,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwL8XQb6vxnTyRkjdD2\",\"type\":\"assistant\",\"uuid\":\"83c7dc20-8c35-4fb1-9231-f016bd5b4360\",\"timestamp\":\"2026-01-18T00:59:21.216Z\"}\n{\"parentUuid\":\"83c7dc20-8c35-4fb1-9231-f016bd5b4360\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"tool_use_id\":\"toolu_01AdvtXfJ8xGEQf4EZY3ityq\",\"type\":\"tool_result\",\"content\":\"617:  // Character Sheet from Description - No photo required\"}]},\"uuid\":\"65b03f8d-f3eb-4ceb-b9ce-34675f2c57fc\",\"timestamp\":\"2026-01-18T00:59:23.881Z\",\"toolUseResult\":{\"mode\":\"content\",\"numFiles\":0,\"filenames\":[],\"content\":\"617:  // Character Sheet from Description - No photo required\",\"numLines\":1},\"sourceToolAssistantUUID\":\"83c7dc20-8c35-4fb1-9231-f016bd5b4360\"}\n{\"parentUuid\":\"65b03f8d-f3eb-4ceb-b9ce-34675f2c57fc\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01D2J6LNfrbzG6FB6CZEV4re\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"Great! Line 617 has the recipe. Let me read that section to see the full recipe:\",\"signature\":\"EvgBCkYICxgCKkApXa2Eb6y8hmeEsFYXXrTXDiB0t3NlgVHC/JgNELn5HiC43910fuXwaIljsNYXB8FGMMwMuJzMCJY6KxsjG2uXEgyYqKFERs9qhgQMLJsaDMYoVXS74BUBFrKqmiIwnhmiCbZ3SjQaH3m6F160cjiwDI423hncdEceThdXW8DVVYEXWw7VBwkL/ndUayZaKmAwo90D7gMhVhcHI93TEQ2Fb+iIYbcURGeISV9M4oS1d/V93yRxKfy7XZXU67wGwbmpTJZTnCNKAHzW7oUQ3/ywwuht8Thvk8Ry8OpnB8qy5KgD/3l20uEWioaLRsYgKI8YAQ==\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":11,\"cache_creation_input_tokens\":170,\"cache_read_input_tokens\":50622,\"cache_creation\":{\"ephemeral_5m_input_tokens\":170,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":3,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwLb6KtJEX5BqZbVnPX\",\"type\":\"assistant\",\"uuid\":\"e7a19d5a-bd1e-44e3-98b4-510089958b52\",\"timestamp\":\"2026-01-18T00:59:26.605Z\"}\n{\"parentUuid\":\"e7a19d5a-bd1e-44e3-98b4-510089958b52\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01D2J6LNfrbzG6FB6CZEV4re\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_01R6LDDNR5beG6ooerpRJFQE\",\"name\":\"Read\",\"input\":{\"file_path\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts\",\"offset\":615,\"limit\":100}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":11,\"cache_creation_input_tokens\":170,\"cache_read_input_tokens\":50622,\"cache_creation\":{\"ephemeral_5m_input_tokens\":170,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":141,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwLb6KtJEX5BqZbVnPX\",\"type\":\"assistant\",\"uuid\":\"536e49e1-cd39-4b20-b418-0c054b674fb4\",\"timestamp\":\"2026-01-18T00:59:27.665Z\"}\n{\"parentUuid\":\"536e49e1-cd39-4b20-b418-0c054b674fb4\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"tool_use_id\":\"toolu_01R6LDDNR5beG6ooerpRJFQE\",\"type\":\"tool_result\",\"content\":\"   615→  },\\n   616→\\n   617→  // Character Sheet from Description - No photo required\\n   618→  {\\n   619→    name: 'Character Sheet (From Description)',\\n   620→    description: 'Generate a character sheet from text description only - no reference photo needed',\\n   621→    recipeNote: 'Perfect for creating consistent characters when you only have a written description. Stage 1 generates the character appearance, Stage 2 creates the full character sheet.',\\n   622→    stages: [\\n   623→      // STAGE 0: Generate character appearance from description\\n   624→      {\\n   625→        id: 'stage_desc_char_0',\\n   626→        order: 0,\\n   627→        type: 'generation',\\n   628→        template: `Generate a character based on this description:\\n   629→\\n   630→CHARACTER NAME: @<<CHARACTER_NAME:name!>>\\n   631→VISUAL DESCRIPTION: <<CHARACTER_DESCRIPTION:text!>>\\n   632→\\n   633→Create a full-body character portrait:\\n   634→- Standing pose, facing forward (slight 3/4 angle is acceptable)\\n   635→- Clean WHITE or light gray background\\n   636→- Neutral expression, relaxed posture\\n   637→- Soft, even studio lighting\\n   638→- Show full body from head to feet\\n   639→- High detail on face and distinctive features\\n   640→\\n   641→STYLE: <<STYLE:select(realistic,cinematic,anime,3D render,cartoon,illustrated,concept art,oil painting,watercolor,Pixar-style,Disney-style)>>\\n   642→\\n   643→The character should match the description EXACTLY - pay attention to:\\n   644→- Age, gender, ethnicity\\n   645→- Hair color, style, length\\n   646→- Eye color\\n   647→- Build/body type\\n   648→- Clothing and accessories\\n   649→- Any distinctive features (scars, tattoos, glasses, etc.)\\n   650→\\n   651→Output: High-quality full-body character portrait suitable for reference.`,\\n   652→        fields: [],\\n   653→        referenceImages: [],\\n   654→      },\\n   655→      // STAGE 1: Generate character sheet with expressions\\n   656→      {\\n   657→        id: 'stage_desc_char_1',\\n   658→        order: 1,\\n   659→        type: 'generation',\\n   660→        template: `CHARACTER: @<<CHARACTER_NAME:name!>>\\n   661→\\n   662→Create a professional character reference sheet using the previous image as the definitive reference.\\n   663→\\n   664→CRITICAL: Every view and expression must clearly be the SAME PERSON.\\n   665→Facial structure, proportions, and distinctive features must remain IDENTICAL across all views.\\n   666→\\n   667→CHARACTER SHEET LAYOUT (21:9 aspect ratio):\\n   668→\\n   669→LEFT SECTION - FULL BODY VIEWS:\\n   670→- Large front view with proportion reference\\n   671→- Side profile view\\n   672→- Back view\\n   673→- All views on same baseline for height reference\\n   674→- Below: COLOR PALETTE strip (skin, hair, eye colors, main clothing colors)\\n   675→\\n   676→RIGHT SECTION - EXPRESSIONS (2 rows × 5 columns):\\n   677→Row 1: Neutral, Happy, Sad, Angry, Surprised\\n   678→Row 2: Speaking, Shouting, Whispering, Confident, Scared\\n   679→\\n   680→TOP: Character name \\\"@<<CHARACTER_NAME:name!>>\\\" prominently displayed\\n   681→\\n   682→STYLE: Match the style from Stage 1 exactly\\n   683→\\n   684→CRITICAL REQUIREMENTS:\\n   685→- SOLID BLACK LINES (4-6 pixels) separating each expression cell\\n   686→- All expressions maintain the SAME face structure\\n   687→- Clean white/light gray background throughout\\n   688→- Production-ready layout for animation/illustration reference`,\\n   689→        fields: [],\\n   690→        referenceImages: [\\n   691→          {\\n   692→            id: 'template_charsheet_advanced',\\n   693→            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\n   694→            name: 'Character Sheet Layout Template',\\n   695→            aspectRatio: '21:9',\\n   696→          }\\n   697→        ],\\n   698→      },\\n   699→    ],\\n   700→    suggestedAspectRatio: '21:9',\\n   701→    suggestedModel: 'nano-banana-pro',\\n   702→    isQuickAccess: true,\\n   703→    quickAccessLabel: 'DescSheet',\\n   704→    categoryId: 'characters',\\n   705→  },\\n   706→\\n   707→  // 9-Frame Cinematic Contact Sheet\\n   708→  {\\n   709→    name: '9-Frame Cinematic',\\n   710→    description: '3x3 cinematic contact sheet covering full shot range',\\n   711→    recipeNote: 'Attach a reference image. The model will create 9 different framings of the same subject with black grid lines for extraction.',\\n   712→    stages: [{\\n   713→      id: 'stage_0',\\n   714→      order: 0,\\n\\n<system-reminder>\\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\\n</system-reminder>\\n\"}]},\"uuid\":\"7ccae9b1-519c-404c-b352-167bcac5e9c1\",\"timestamp\":\"2026-01-18T00:59:29.121Z\",\"toolUseResult\":{\"type\":\"text\",\"file\":{\"filePath\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts\",\"content\":\"  },\\n\\n  // Character Sheet from Description - No photo required\\n  {\\n    name: 'Character Sheet (From Description)',\\n    description: 'Generate a character sheet from text description only - no reference photo needed',\\n    recipeNote: 'Perfect for creating consistent characters when you only have a written description. Stage 1 generates the character appearance, Stage 2 creates the full character sheet.',\\n    stages: [\\n      // STAGE 0: Generate character appearance from description\\n      {\\n        id: 'stage_desc_char_0',\\n        order: 0,\\n        type: 'generation',\\n        template: `Generate a character based on this description:\\n\\nCHARACTER NAME: @<<CHARACTER_NAME:name!>>\\nVISUAL DESCRIPTION: <<CHARACTER_DESCRIPTION:text!>>\\n\\nCreate a full-body character portrait:\\n- Standing pose, facing forward (slight 3/4 angle is acceptable)\\n- Clean WHITE or light gray background\\n- Neutral expression, relaxed posture\\n- Soft, even studio lighting\\n- Show full body from head to feet\\n- High detail on face and distinctive features\\n\\nSTYLE: <<STYLE:select(realistic,cinematic,anime,3D render,cartoon,illustrated,concept art,oil painting,watercolor,Pixar-style,Disney-style)>>\\n\\nThe character should match the description EXACTLY - pay attention to:\\n- Age, gender, ethnicity\\n- Hair color, style, length\\n- Eye color\\n- Build/body type\\n- Clothing and accessories\\n- Any distinctive features (scars, tattoos, glasses, etc.)\\n\\nOutput: High-quality full-body character portrait suitable for reference.`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n      // STAGE 1: Generate character sheet with expressions\\n      {\\n        id: 'stage_desc_char_1',\\n        order: 1,\\n        type: 'generation',\\n        template: `CHARACTER: @<<CHARACTER_NAME:name!>>\\n\\nCreate a professional character reference sheet using the previous image as the definitive reference.\\n\\nCRITICAL: Every view and expression must clearly be the SAME PERSON.\\nFacial structure, proportions, and distinctive features must remain IDENTICAL across all views.\\n\\nCHARACTER SHEET LAYOUT (21:9 aspect ratio):\\n\\nLEFT SECTION - FULL BODY VIEWS:\\n- Large front view with proportion reference\\n- Side profile view\\n- Back view\\n- All views on same baseline for height reference\\n- Below: COLOR PALETTE strip (skin, hair, eye colors, main clothing colors)\\n\\nRIGHT SECTION - EXPRESSIONS (2 rows × 5 columns):\\nRow 1: Neutral, Happy, Sad, Angry, Surprised\\nRow 2: Speaking, Shouting, Whispering, Confident, Scared\\n\\nTOP: Character name \\\"@<<CHARACTER_NAME:name!>>\\\" prominently displayed\\n\\nSTYLE: Match the style from Stage 1 exactly\\n\\nCRITICAL REQUIREMENTS:\\n- SOLID BLACK LINES (4-6 pixels) separating each expression cell\\n- All expressions maintain the SAME face structure\\n- Clean white/light gray background throughout\\n- Production-ready layout for animation/illustration reference`,\\n        fields: [],\\n        referenceImages: [\\n          {\\n            id: 'template_charsheet_advanced',\\n            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\n            name: 'Character Sheet Layout Template',\\n            aspectRatio: '21:9',\\n          }\\n        ],\\n      },\\n    ],\\n    suggestedAspectRatio: '21:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'DescSheet',\\n    categoryId: 'characters',\\n  },\\n\\n  // 9-Frame Cinematic Contact Sheet\\n  {\\n    name: '9-Frame Cinematic',\\n    description: '3x3 cinematic contact sheet covering full shot range',\\n    recipeNote: 'Attach a reference image. The model will create 9 different framings of the same subject with black grid lines for extraction.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\",\"numLines\":100,\"startLine\":615,\"totalLines\":3178}},\"sourceToolAssistantUUID\":\"536e49e1-cd39-4b20-b418-0c054b674fb4\"}\n{\"parentUuid\":\"7ccae9b1-519c-404c-b352-167bcac5e9c1\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01PtkUS9yE42iVqTfz56S8oF\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"This is a different recipe than the one we were working on! This is \\\"Character Sheet (From Description)\\\" which uses a simpler 2-stage process with a dropdown for STYLE.\\n\\nThe recipe we updated earlier was at line 2040+ and is called \\\"Storybook Character Sheet (From Description)\\\". Let me check line 2040 to verify:\",\"signature\":\"EuADCkYICxgCKkDUnTacPb7n7+wFPM0h1ALQXGInTqp7TaeateniLeaYTnRDqJfVOllNivqwHw03SCga6IbLrFNunvgz3kKrg+sdEgwjLLXR72v5CDCD50UaDAo8SfeSso8rSg8UZCIwpGx2hiUWFUdTiThilFWthwTWlUFsleakemYVF0HZm7VM51+N+4EVatqUgx8Z946zKscCVk36we5bJzjy5pqQ2ClYs3+OGhBdZzpVYlZ/gxywYGLVLfDBnHCq0RHEgmmNp3G90fH0bJ6o7qzO/PR33fLPUS76U0eE8A7/68cPgr/5Ix3xNUbSIf7EFA8QDav0jzL+o/PEYvJgOd6K7nEMeHppuE3jGdiXsthhO9yDN7c94KuPJq4Atfq8a/2Q4wZZbWmRLHNvLVGGM+/Oq6ka2rxKpPgvV5DZC0Ym328kqVf54KtU4LC2M9o0Mz0xH59Xpq4JstUZqaCqpeRLplOWvZMx3/DhiOwF8Q4w8I7HKQgxfguy0Ufk6Wrwd72vOZdt71HD7SzIcFs8XNX+YwOooeUAbfxWoR1KomYHp/pNB18a1hswG3XhHIYsNRbc1QyjpTWkaXmcTOc+7UAAxrdH9BD5ES6GfKNXJdPhDjkfrDtVh1SZZlGKkeHnGAE=\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":11,\"cache_creation_input_tokens\":1521,\"cache_read_input_tokens\":50792,\"cache_creation\":{\"ephemeral_5m_input_tokens\":1521,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":4,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwLzR2gXeeyUU6wdbDk\",\"type\":\"assistant\",\"uuid\":\"bca85e52-ecb1-4bc0-894d-c30eb5f7da34\",\"timestamp\":\"2026-01-18T00:59:35.175Z\"}\n{\"parentUuid\":\"bca85e52-ecb1-4bc0-894d-c30eb5f7da34\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01PtkUS9yE42iVqTfz56S8oF\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_01CSpT7YcpZSwCsRVw6P9BD6\",\"name\":\"Read\",\"input\":{\"file_path\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts\",\"offset\":2040,\"limit\":30}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":11,\"cache_creation_input_tokens\":1521,\"cache_read_input_tokens\":50792,\"cache_creation\":{\"ephemeral_5m_input_tokens\":1521,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":199,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwLzR2gXeeyUU6wdbDk\",\"type\":\"assistant\",\"uuid\":\"a7b3cea7-03e9-44c2-84b7-77a04f302263\",\"timestamp\":\"2026-01-18T00:59:36.512Z\"}\n{\"parentUuid\":\"a7b3cea7-03e9-44c2-84b7-77a04f302263\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"tool_use_id\":\"toolu_01CSpT7YcpZSwCsRVw6P9BD6\",\"type\":\"tool_result\",\"content\":\"  2040→    stages: [\\n  2041→      // STAGE 0: Isolate character on white background\\n  2042→      {\\n  2043→        id: 'stage_0',\\n  2044→        order: 0,\\n  2045→        template: `Extract the person from this photo as a clean, isolated character portrait.\\n  2046→\\n  2047→CRITICAL LIKENESS PRESERVATION:\\n  2048→- Exact facial structure: bone structure, jaw shape, cheekbones, nose shape, eye shape and spacing\\n  2049→- Exact skin tone and undertones\\n  2050→- Exact hair: color, texture, style, length, hairline shape\\n  2051→- Exact body proportions: height, build, posture\\n  2052→- Exact distinguishing features: moles, freckles, scars, dimples, facial hair\\n  2053→\\n  2054→OUTPUT:\\n  2055→- Full-body standing pose on clean WHITE background\\n  2056→- Neutral expression, relaxed posture\\n  2057→- Soft studio lighting\\n  2058→- Remove all background elements completely\\n  2059→- Do NOT alter, enhance, or \\\"improve\\\" any facial features\\n  2060→- The isolated character must be IDENTICAL to the input photo`,\\n  2061→        fields: [],\\n  2062→        referenceImages: [],\\n  2063→      },\\n  2064→      // STAGE 1: Transform to custom art style\\n  2065→      {\\n  2066→        id: 'stage_1',\\n  2067→        order: 1,\\n  2068→        template: `Transform this isolated character into <<STYLE_NAME:text!>> style.\\n  2069→\\n\\n<system-reminder>\\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\\n</system-reminder>\\n\"}]},\"uuid\":\"fa54c66f-70cb-4851-961b-6d82e459a66f\",\"timestamp\":\"2026-01-18T00:59:37.993Z\",\"toolUseResult\":{\"type\":\"text\",\"file\":{\"filePath\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts\",\"content\":\"    stages: [\\n      // STAGE 0: Isolate character on white background\\n      {\\n        id: 'stage_0',\\n        order: 0,\\n        template: `Extract the person from this photo as a clean, isolated character portrait.\\n\\nCRITICAL LIKENESS PRESERVATION:\\n- Exact facial structure: bone structure, jaw shape, cheekbones, nose shape, eye shape and spacing\\n- Exact skin tone and undertones\\n- Exact hair: color, texture, style, length, hairline shape\\n- Exact body proportions: height, build, posture\\n- Exact distinguishing features: moles, freckles, scars, dimples, facial hair\\n\\nOUTPUT:\\n- Full-body standing pose on clean WHITE background\\n- Neutral expression, relaxed posture\\n- Soft studio lighting\\n- Remove all background elements completely\\n- Do NOT alter, enhance, or \\\"improve\\\" any facial features\\n- The isolated character must be IDENTICAL to the input photo`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n      // STAGE 1: Transform to custom art style\\n      {\\n        id: 'stage_1',\\n        order: 1,\\n        template: `Transform this isolated character into <<STYLE_NAME:text!>> style.\\n\",\"numLines\":30,\"startLine\":2040,\"totalLines\":3178}},\"sourceToolAssistantUUID\":\"a7b3cea7-03e9-44c2-84b7-77a04f302263\"}\n{\"parentUuid\":\"fa54c66f-70cb-4851-961b-6d82e459a66f\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01BTBUuieVsaooEfFPbuU7o1\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"This is a 3-stage photo-based recipe. Let me search for \\\"Storybook Character Sheet\\\" to find the exact recipe we modified:\",\"signature\":\"EqICCkYICxgCKkDSI034HGTS+hNXcFlCgyybLgdctt4LSw1ao9t5Xfe8USaUtWLZIb6QQ6DD4xUZEW70xtOAP0Jj+xlCqsiJQZWbEgwFT9XaUy09f+lJ6CQaDOgF2BKV35P30LoTeCIwFHfIU9fx3X0ylVKiiiQrrDd73d+BSUAn6iVI+h+sg5Ix3TCy1elWNzlb2w0UWxtyKokBX7Vwnja+VUueEFbofVn0Gxh4bdQRlKq2v9pPoFkB+9CGL3Zcz+xHn/9u2RS5oWB+Ulnh1chRCwBNTW01rUcOj8nDRjhbfz93g5EuC/ZXPGasubHcYSFniev17WaUeJFwTxH6yADV9O3VuFo20ZrvTPVPxk1GIYxlypaeC91Bh4O4fvx3o+VL41YYAQ==\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":11,\"cache_creation_input_tokens\":710,\"cache_read_input_tokens\":52313,\"cache_creation\":{\"ephemeral_5m_input_tokens\":710,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":1,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwMeQY2SPkz3U8oEfpH\",\"type\":\"assistant\",\"uuid\":\"e469b067-0c1c-4eac-8a21-742aacd25c70\",\"timestamp\":\"2026-01-18T00:59:41.326Z\"}\n{\"parentUuid\":\"e469b067-0c1c-4eac-8a21-742aacd25c70\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01BTBUuieVsaooEfFPbuU7o1\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_01Ljmb6JGjSEjLEV31b4WS95\",\"name\":\"Grep\",\"input\":{\"pattern\":\"Storybook Character Sheet\",\"path\":\"src/features/shot-creator/types/recipe.types.ts\",\"output_mode\":\"content\",\"-n\":true}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":11,\"cache_creation_input_tokens\":710,\"cache_read_input_tokens\":52313,\"cache_creation\":{\"ephemeral_5m_input_tokens\":710,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":1,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwMeQY2SPkz3U8oEfpH\",\"type\":\"assistant\",\"uuid\":\"241d8281-ba23-4835-a84c-6ee462e3a9e3\",\"timestamp\":\"2026-01-18T00:59:42.425Z\"}\n{\"parentUuid\":\"241d8281-ba23-4835-a84c-6ee462e3a9e3\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"tool_use_id\":\"toolu_01Ljmb6JGjSEjLEV31b4WS95\",\"type\":\"tool_result\",\"content\":\"2032:  // Storybook Character Sheet - 3-stage pipeline for generating character sheets\\r\\n2037:    name: 'Storybook Character Sheet',\\r\\n2145:  // Storybook Character Sheet (From Description) - 2-stage pipeline for generating character sheets without photos\\r\\n2149:    name: 'Storybook Character Sheet (From Description)',\"}]},\"uuid\":\"487f4a48-ad46-41b7-b4fe-e0f05d9e2a10\",\"timestamp\":\"2026-01-18T00:59:45.219Z\",\"toolUseResult\":{\"mode\":\"content\",\"numFiles\":0,\"filenames\":[],\"content\":\"2032:  // Storybook Character Sheet - 3-stage pipeline for generating character sheets\\r\\n2037:    name: 'Storybook Character Sheet',\\r\\n2145:  // Storybook Character Sheet (From Description) - 2-stage pipeline for generating character sheets without photos\\r\\n2149:    name: 'Storybook Character Sheet (From Description)',\",\"numLines\":4},\"sourceToolAssistantUUID\":\"241d8281-ba23-4835-a84c-6ee462e3a9e3\"}\n{\"parentUuid\":\"487f4a48-ad46-41b7-b4fe-e0f05d9e2a10\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01WxLmQJhgiXqpsecJkdMFBh\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"Perfect! Line 2145 is \\\"Storybook Character Sheet (From Description)\\\" which is the 2-stage recipe we updated. Line 2129 where I found the template URL should be part of this recipe. Let me read the full recipe starting from line 2145:\",\"signature\":\"EpIDCkYICxgCKkC3eR3CZJjEEWveXn70q3VUP4igAFu9gbPg9lc+hFcx1qO5T3VUTRrF60fjchfO9b7vpomeWg1ztjAirj54s4s+EgytSQ3qatbjODQswskaDNHZTr+QJoDd7guaJiIwxRSM1Hc+gIO1Dvcf3ozdBKf/d5I/XKAN0uKUYig8z4AtEoMzVstMLDYY3rVw2fKMKvkBppRJExoHHh+zWm+k4Q3s0Q/av/kfL4khc0poiRJG0YbRWn1vLEC7npXPz9YvenI3dNT9eTNw3lSQ6jevJmjKrTSRw5oWeh1V4uktrf/gLLi1TXNbm65cpXjv4a26B5tfkF5qgGiLq8I8XKJo8mufj+hbpoE9XDvwadJ/wmpeVTiGH2WrUJ/aDMHvONVmzx/RXfc+YJq2fJhXpqDwwFwf8/NUHSDuxw3GZNbmgOMV+0SEQ3gEpWGBBLPXGXgbz1F04y+VydHPVX004OE0bF8743kH/ae/EJlAUAsjhAeIQk2h9sFwpZUrs3OQgOEp+PNQb4cn/0Te/YVAGAE=\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":11,\"cache_creation_input_tokens\":268,\"cache_read_input_tokens\":53023,\"cache_creation\":{\"ephemeral_5m_input_tokens\":268,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":1,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwNASK1hfN4v16vRAeJ\",\"type\":\"assistant\",\"uuid\":\"87a2a330-c9d8-46ee-aee6-bf4192bfd766\",\"timestamp\":\"2026-01-18T00:59:48.952Z\"}\n{\"parentUuid\":\"87a2a330-c9d8-46ee-aee6-bf4192bfd766\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01WxLmQJhgiXqpsecJkdMFBh\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_01WHKUapLwDC9y3iLQpupvxi\",\"name\":\"Read\",\"input\":{\"file_path\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts\",\"offset\":2145,\"limit\":35}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":11,\"cache_creation_input_tokens\":268,\"cache_read_input_tokens\":53023,\"cache_creation\":{\"ephemeral_5m_input_tokens\":268,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":182,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwNASK1hfN4v16vRAeJ\",\"type\":\"assistant\",\"uuid\":\"47f4d5aa-9ea6-4633-9ffe-c3f83ccce1af\",\"timestamp\":\"2026-01-18T00:59:49.652Z\"}\n{\"parentUuid\":\"47f4d5aa-9ea6-4633-9ffe-c3f83ccce1af\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"tool_use_id\":\"toolu_01WHKUapLwDC9y3iLQpupvxi\",\"type\":\"tool_result\",\"content\":\"  2145→  // Storybook Character Sheet (From Description) - 2-stage pipeline for generating character sheets without photos\\n  2146→  // Stage 0: Generate character appearance from text description\\n  2147→  // Stage 1: Generate character sheet with expressions\\n  2148→  {\\n  2149→    name: 'Storybook Character Sheet (From Description)',\\n  2150→    description: 'Generate character sheet from text description for storybook (no photo required)',\\n  2151→    recipeNote: 'Used when no source photo is available. Generates character appearance from description in the target style, then creates a character sheet.',\\n  2152→    stages: [\\n  2153→      // STAGE 0: Generate character appearance from description\\n  2154→      {\\n  2155→        id: 'stage_desc_0',\\n  2156→        order: 0,\\n  2157→        type: 'generation',\\n  2158→        template: `Generate a character based on this description:\\n  2159→\\n  2160→CHARACTER: @<<CHARACTER_NAME:name!>>\\n  2161→ROLE: <<CHARACTER_ROLE:text!>>\\n  2162→DESCRIPTION: <<CHARACTER_DESCRIPTION:text!>>\\n  2163→\\n  2164→CRITICAL - PHYSICAL APPEARANCE:\\n  2165→The character's physical appearance MUST match the DESCRIPTION above EXACTLY:\\n  2166→- Hair color, hair style, hair length\\n  2167→- Clothing colors, clothing style\\n  2168→- Age, build, body type\\n  2169→- Skin tone, eye color\\n  2170→- Any distinguishing features mentioned\\n  2171→\\n  2172→CRITICAL - ART STYLE ONLY:\\n  2173→The attached style guide reference shows the ART STYLE to use:\\n  2174→- Rendering approach (cartoon style, line quality, edge treatment)\\n  2175→- Color saturation and palette approach\\n  2176→- Level of detail and stylization\\n  2177→- Lighting and shading technique\\n  2178→\\n  2179→DO NOT copy the physical appearance, hair, or clothing from the style guide characters.\\n\\n<system-reminder>\\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\\n</system-reminder>\\n\"}]},\"uuid\":\"b25941af-b9f7-4fc5-bd71-80f783562c3a\",\"timestamp\":\"2026-01-18T00:59:51.167Z\",\"toolUseResult\":{\"type\":\"text\",\"file\":{\"filePath\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts\",\"content\":\"  // Storybook Character Sheet (From Description) - 2-stage pipeline for generating character sheets without photos\\n  // Stage 0: Generate character appearance from text description\\n  // Stage 1: Generate character sheet with expressions\\n  {\\n    name: 'Storybook Character Sheet (From Description)',\\n    description: 'Generate character sheet from text description for storybook (no photo required)',\\n    recipeNote: 'Used when no source photo is available. Generates character appearance from description in the target style, then creates a character sheet.',\\n    stages: [\\n      // STAGE 0: Generate character appearance from description\\n      {\\n        id: 'stage_desc_0',\\n        order: 0,\\n        type: 'generation',\\n        template: `Generate a character based on this description:\\n\\nCHARACTER: @<<CHARACTER_NAME:name!>>\\nROLE: <<CHARACTER_ROLE:text!>>\\nDESCRIPTION: <<CHARACTER_DESCRIPTION:text!>>\\n\\nCRITICAL - PHYSICAL APPEARANCE:\\nThe character's physical appearance MUST match the DESCRIPTION above EXACTLY:\\n- Hair color, hair style, hair length\\n- Clothing colors, clothing style\\n- Age, build, body type\\n- Skin tone, eye color\\n- Any distinguishing features mentioned\\n\\nCRITICAL - ART STYLE ONLY:\\nThe attached style guide reference shows the ART STYLE to use:\\n- Rendering approach (cartoon style, line quality, edge treatment)\\n- Color saturation and palette approach\\n- Level of detail and stylization\\n- Lighting and shading technique\\n\\nDO NOT copy the physical appearance, hair, or clothing from the style guide characters.\",\"numLines\":35,\"startLine\":2145,\"totalLines\":3178}},\"sourceToolAssistantUUID\":\"47f4d5aa-9ea6-4633-9ffe-c3f83ccce1af\"}\n{\"parentUuid\":\"b25941af-b9f7-4fc5-bd71-80f783562c3a\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01MnxKVifWJzDveGCT79LHNu\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"Good! This is the recipe we updated. Now let me find the Stage 1 reference image for this specific recipe. Let me continue reading:\",\"signature\":\"EqwCCkYICxgCKkBj19U7aIQJVXPZyxM44KNh1pULwFMa5RFDgZBfeGaI2CEnEViAhnHbDOFTA1j6BSfCwlS6BTWTfDBKXr0bobW8EgwK6WHgLgsF1OL3GloaDHCcso9jgvfyFUs8KiIwMllpZajRH+hdnuU4EtUysbr9PdMZNuvylv+2fnH7GRBKsINbjbxPzx1SCnmppLilKpMBwk24M2Vs3EZMbxNheaJ2V63ecYxwZJtBzWun2NKy6XBRqOHdk5yJ2WPiTW6hvc+wPRN91nSaoz8vMj0rIGXtIuPl3AKSkzUqz5F1sscSgf5sAJXmjOExEm57bDPuXQjDr0Y2kKJzNU1GI1zRa7L3L+BakUWpHRzcdeZhMTR9gacrcWL6XoFE3wwdvo6d5y6SfHQLGAE=\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":11,\"cache_creation_input_tokens\":795,\"cache_read_input_tokens\":53291,\"cache_creation\":{\"ephemeral_5m_input_tokens\":795,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":1,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwNcdQQGnJ1H41X2RsK\",\"type\":\"assistant\",\"uuid\":\"738113f0-d1c2-462d-aff8-e6d77fafab01\",\"timestamp\":\"2026-01-18T00:59:54.725Z\"}\n{\"parentUuid\":\"738113f0-d1c2-462d-aff8-e6d77fafab01\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01MnxKVifWJzDveGCT79LHNu\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_01Wrudw7jD3scaxpD3ngxKfw\",\"name\":\"Read\",\"input\":{\"file_path\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts\",\"offset\":2180,\"limit\":60}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":11,\"cache_creation_input_tokens\":795,\"cache_read_input_tokens\":53291,\"cache_creation\":{\"ephemeral_5m_input_tokens\":795,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":151,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwNcdQQGnJ1H41X2RsK\",\"type\":\"assistant\",\"uuid\":\"2f4f529e-8ce9-454f-b8f5-10a6f6bf28c0\",\"timestamp\":\"2026-01-18T00:59:55.413Z\"}\n{\"parentUuid\":\"2f4f529e-8ce9-454f-b8f5-10a6f6bf28c0\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"tool_use_id\":\"toolu_01Wrudw7jD3scaxpD3ngxKfw\",\"type\":\"tool_result\",\"content\":\"  2180→ONLY use the style guide for the art style/rendering approach.\\n  2181→\\n  2182→SETUP:\\n  2183→- Full-body standing pose on clean WHITE background\\n  2184→- Neutral expression, relaxed posture\\n  2185→- Soft studio lighting\\n  2186→\\n  2187→Output: Full-body character portrait matching the DESCRIPTION exactly, rendered in the art style shown in the style guide.`,\\n  2188→        fields: [],\\n  2189→        referenceImages: [],  // Style guide attached at runtime\\n  2190→      },\\n  2191→      // STAGE 1: Generate character sheet with expressions\\n  2192→      {\\n  2193→        id: 'stage_desc_1',\\n  2194→        order: 1,\\n  2195→        type: 'generation',\\n  2196→        template: `Universal Character Sheet Template V3 - Precise Generation with Separated Sources\\n  2197→\\n  2198→CHARACTER: @<<CHARACTER_NAME:name!>>\\n  2199→STYLE: <<STYLE_NAME:text!>>\\n  2200→\\n  2201→INPUT SOURCES:\\n  2202→This generation uses THREE separate reference images:\\n  2203→1. LAYOUT REFERENCE (character sheet template): Use ONLY for structural layout - panel positions, grid lines, labels\\n  2204→2. CHARACTER REFERENCE (previous stage output): Source for character's physical features, clothing, identity\\n  2205→3. STYLE REFERENCE (style guide): Defines the art style/rendering approach for final output\\n  2206→\\n  2207→CRITICAL: Do NOT copy the sketch/placeholder art from the template. Only use it for structure.\\n  2208→\\n  2209→---\\n  2210→\\n  2211→HEADER SECTION:\\n  2212→- Top Left: Display \\\"CHARACTER @<<CHARACTER_NAME:name!>>\\\" prominently\\n  2213→- Top Right: \\\"DESCRIPTION/DETAILS\\\" box (grey background, leave empty)\\n  2214→\\n  2215→---\\n  2216→\\n  2217→FULL BODY VIEWS (Left Section - Large Grid):\\n  2218→Label: \\\"FULL BODY VIEWS\\\"\\n  2219→Panels (3 columns):\\n  2220→1. Front View - Orthographic neutral standing pose, feet on baseline\\n  2221→2. Side Profile View (Left facing) - Orthographic side view\\n  2222→3. Back View - Orthographic back view\\n  2223→\\n  2224→---\\n  2225→\\n  2226→EXPRESSIONS & DETAILS (Upper Middle - 3×2 Grid):\\n  2227→Label: \\\"EXPRESSIONS & DETAILS\\\"\\n  2228→Style: Head and shoulders shot, consistent character model\\n  2229→\\n  2230→Row 1 (Talking States):\\n  2231→1. TALKING-NEUTRAL: mouth slightly open, neutral brows\\n  2232→2. TALKING-HAPPY: mouth open smiling, eyebrows raised\\n  2233→3. TALKING-ANGRY: mouth open yelling, eyebrows furrowed\\n  2234→\\n  2235→Row 2 (Emotions):\\n  2236→4. SAD: mouth closed down-turn, tearful eyes, sad brows\\n  2237→5. SURPRISED: mouth small 'O' shape, eyes wide, brows high\\n  2238→6. SMUG/CONFIDENT: slight smirk, confident gaze\\n  2239→\\n\\n<system-reminder>\\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\\n</system-reminder>\\n\"}]},\"uuid\":\"a40db3de-754b-4347-b023-662cea88fcaa\",\"timestamp\":\"2026-01-18T00:59:56.915Z\",\"toolUseResult\":{\"type\":\"text\",\"file\":{\"filePath\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts\",\"content\":\"ONLY use the style guide for the art style/rendering approach.\\n\\nSETUP:\\n- Full-body standing pose on clean WHITE background\\n- Neutral expression, relaxed posture\\n- Soft studio lighting\\n\\nOutput: Full-body character portrait matching the DESCRIPTION exactly, rendered in the art style shown in the style guide.`,\\n        fields: [],\\n        referenceImages: [],  // Style guide attached at runtime\\n      },\\n      // STAGE 1: Generate character sheet with expressions\\n      {\\n        id: 'stage_desc_1',\\n        order: 1,\\n        type: 'generation',\\n        template: `Universal Character Sheet Template V3 - Precise Generation with Separated Sources\\n\\nCHARACTER: @<<CHARACTER_NAME:name!>>\\nSTYLE: <<STYLE_NAME:text!>>\\n\\nINPUT SOURCES:\\nThis generation uses THREE separate reference images:\\n1. LAYOUT REFERENCE (character sheet template): Use ONLY for structural layout - panel positions, grid lines, labels\\n2. CHARACTER REFERENCE (previous stage output): Source for character's physical features, clothing, identity\\n3. STYLE REFERENCE (style guide): Defines the art style/rendering approach for final output\\n\\nCRITICAL: Do NOT copy the sketch/placeholder art from the template. Only use it for structure.\\n\\n---\\n\\nHEADER SECTION:\\n- Top Left: Display \\\"CHARACTER @<<CHARACTER_NAME:name!>>\\\" prominently\\n- Top Right: \\\"DESCRIPTION/DETAILS\\\" box (grey background, leave empty)\\n\\n---\\n\\nFULL BODY VIEWS (Left Section - Large Grid):\\nLabel: \\\"FULL BODY VIEWS\\\"\\nPanels (3 columns):\\n1. Front View - Orthographic neutral standing pose, feet on baseline\\n2. Side Profile View (Left facing) - Orthographic side view\\n3. Back View - Orthographic back view\\n\\n---\\n\\nEXPRESSIONS & DETAILS (Upper Middle - 3×2 Grid):\\nLabel: \\\"EXPRESSIONS & DETAILS\\\"\\nStyle: Head and shoulders shot, consistent character model\\n\\nRow 1 (Talking States):\\n1. TALKING-NEUTRAL: mouth slightly open, neutral brows\\n2. TALKING-HAPPY: mouth open smiling, eyebrows raised\\n3. TALKING-ANGRY: mouth open yelling, eyebrows furrowed\\n\\nRow 2 (Emotions):\\n4. SAD: mouth closed down-turn, tearful eyes, sad brows\\n5. SURPRISED: mouth small 'O' shape, eyes wide, brows high\\n6. SMUG/CONFIDENT: slight smirk, confident gaze\\n\",\"numLines\":60,\"startLine\":2180,\"totalLines\":3178}},\"sourceToolAssistantUUID\":\"2f4f529e-8ce9-454f-b8f5-10a6f6bf28c0\"}\n{\"parentUuid\":\"a40db3de-754b-4347-b023-662cea88fcaa\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_017CexiKU3DEL2aRuC8yQpac\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"Good, I can see the Stage 1 template we updated. Now let me continue reading to find where the reference images are defined for Stage 1:\",\"signature\":\"ErECCkYICxgCKkCN3ivPAq4UzMP1PQOpapInYUJxt95qe/mklqC2VB4yQE9rxS93+Kqub2QFCY/+hvP01jrw9DNNyJI6TxWhIq2/Egzax3gmw691vSMC7sAaDCZ7++2idz2drz+zayIwTqMLeI6mx45O0S/7zUE8iylEtuw+V1nPAS3LD8BpNSLjlA05KJ0IUSAQALVu7V1eKpgBHXyPt4ARyavNmgcjZTmb9uAN5ra4kHMumwlzgvCyx+AAe2W+ERB+8anoEQr2qtWM7Bbs0bnkgsFNrt0nba8iKPjRz/26knlqCCRYS7ZgMVhcEPpCTdxW48IlXJr6xZBgGxLGTVyuCnn1h8r4nx5rAp0DDVpwQ2OkFDKB8K+gWvaaTRhRjfPX2PJpfNvjvGanmJ2KsW0Q0QwYAQ==\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":10,\"cache_creation_input_tokens\":1242,\"cache_read_input_tokens\":54086,\"cache_creation\":{\"ephemeral_5m_input_tokens\":1242,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":2,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwP3PBMTne8Cxepa33F\",\"type\":\"assistant\",\"uuid\":\"2285655e-bfb2-47c5-870d-99fd17243611\",\"timestamp\":\"2026-01-18T01:00:00.612Z\"}\n{\"parentUuid\":\"2285655e-bfb2-47c5-870d-99fd17243611\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_017CexiKU3DEL2aRuC8yQpac\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_01RAohsDdmSQc4spPMHUpFQi\",\"name\":\"Read\",\"input\":{\"file_path\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts\",\"offset\":2270,\"limit\":50}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":10,\"cache_creation_input_tokens\":1242,\"cache_read_input_tokens\":54086,\"cache_creation\":{\"ephemeral_5m_input_tokens\":1242,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":153,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwP3PBMTne8Cxepa33F\",\"type\":\"assistant\",\"uuid\":\"6dfae57c-78bc-4594-947e-d090aecb4aad\",\"timestamp\":\"2026-01-18T01:00:02.302Z\"}\n{\"parentUuid\":\"6dfae57c-78bc-4594-947e-d090aecb4aad\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"tool_use_id\":\"toolu_01RAohsDdmSQc4spPMHUpFQi\",\"type\":\"tool_result\",\"content\":\"  2270→\\n  2271→---\\n  2272→\\n  2273→COLOR PALETTE (Bottom Left Strip):\\n  2274→Label: \\\"COLOR PALETTE\\\"\\n  2275→Fill swatches with exact colors from character:\\n  2276→- FRONT: Main body color from front view\\n  2277→- HAPPY: Key highlight from happy expression\\n  2278→- YELLOW: Yellow elements (if present, else neutral grey)\\n  2279→- HAIR: Character hair color\\n  2280→- ANGRY: Shadow/highlight from angry expression\\n  2281→- SAD: Shadow from sad expression\\n  2282→- SURPRISED: Highlight from surprised expression\\n  2283→- SMUG: Color from smug expression\\n  2284→\\n  2285→---\\n  2286→\\n  2287→CRITICAL REQUIREMENTS:\\n  2288→✓ Every panel shows the SAME CHARACTER from previous stage\\n  2289→✓ Maintain IDENTICAL facial structure, proportions, distinctive features across ALL views\\n  2290→✓ Render entire sheet in <<STYLE_NAME:text!>> art style (from style guide reference)\\n  2291→✓ Follow template layout EXACTLY - match panel positions, grid lines, label positions\\n  2292→✓ Neutral background (white/light grey) - NO texture\\n  2293→✓ Black separator lines between cells (4-6 pixels)\\n  2294→✓ Character name \\\"@<<CHARACTER_NAME:name!>>\\\" clearly visible at top\\n  2295→✓ Production-ready reference sheet for animation/illustration use\\n  2296→\\n  2297→FINAL OUTPUT: Complete character sheet with all panels filled, matching template structure, rendered consistently in <<STYLE_NAME:text!>> style.`,\\n  2298→        fields: [],\\n  2299→        referenceImages: [\\n  2300→          {\\n  2301→            id: 'template_charsheet_advanced',\\n  2302→            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\n  2303→            name: 'Character Sheet Layout Template',\\n  2304→            aspectRatio: '21:9',\\n  2305→          }\\n  2306→        ],\\n  2307→      },\\n  2308→    ],\\n  2309→    suggestedAspectRatio: '21:9',\\n  2310→    suggestedModel: 'nano-banana-pro',\\n  2311→    isQuickAccess: false,\\n  2312→    categoryId: 'storybook',\\n  2313→    isSystem: true,\\n  2314→    isSystemOnly: false,  // Now visible in Shot Creator so users can refine the recipe\\n  2315→  },\\n  2316→\\n  2317→  // Storybook Style Guide (system recipe)\\n  2318→  {\\n  2319→    name: 'Storybook Style Guide',\\n\\n<system-reminder>\\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\\n</system-reminder>\\n\"}]},\"uuid\":\"e19e3261-4bcd-45f8-a522-04111871c1f0\",\"timestamp\":\"2026-01-18T01:00:03.756Z\",\"toolUseResult\":{\"type\":\"text\",\"file\":{\"filePath\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts\",\"content\":\"\\n---\\n\\nCOLOR PALETTE (Bottom Left Strip):\\nLabel: \\\"COLOR PALETTE\\\"\\nFill swatches with exact colors from character:\\n- FRONT: Main body color from front view\\n- HAPPY: Key highlight from happy expression\\n- YELLOW: Yellow elements (if present, else neutral grey)\\n- HAIR: Character hair color\\n- ANGRY: Shadow/highlight from angry expression\\n- SAD: Shadow from sad expression\\n- SURPRISED: Highlight from surprised expression\\n- SMUG: Color from smug expression\\n\\n---\\n\\nCRITICAL REQUIREMENTS:\\n✓ Every panel shows the SAME CHARACTER from previous stage\\n✓ Maintain IDENTICAL facial structure, proportions, distinctive features across ALL views\\n✓ Render entire sheet in <<STYLE_NAME:text!>> art style (from style guide reference)\\n✓ Follow template layout EXACTLY - match panel positions, grid lines, label positions\\n✓ Neutral background (white/light grey) - NO texture\\n✓ Black separator lines between cells (4-6 pixels)\\n✓ Character name \\\"@<<CHARACTER_NAME:name!>>\\\" clearly visible at top\\n✓ Production-ready reference sheet for animation/illustration use\\n\\nFINAL OUTPUT: Complete character sheet with all panels filled, matching template structure, rendered consistently in <<STYLE_NAME:text!>> style.`,\\n        fields: [],\\n        referenceImages: [\\n          {\\n            id: 'template_charsheet_advanced',\\n            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\n            name: 'Character Sheet Layout Template',\\n            aspectRatio: '21:9',\\n          }\\n        ],\\n      },\\n    ],\\n    suggestedAspectRatio: '21:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: false,\\n    categoryId: 'storybook',\\n    isSystem: true,\\n    isSystemOnly: false,  // Now visible in Shot Creator so users can refine the recipe\\n  },\\n\\n  // Storybook Style Guide (system recipe)\\n  {\\n    name: 'Storybook Style Guide',\",\"numLines\":50,\"startLine\":2270,\"totalLines\":3178}},\"sourceToolAssistantUUID\":\"6dfae57c-78bc-4594-947e-d090aecb4aad\"}\n{\"parentUuid\":\"e19e3261-4bcd-45f8-a522-04111871c1f0\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01HkgeFjt5kWdTLf5mSv38m8\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"Perfect! I found it at lines 2299-2306. This is the reference image for the \\\"Storybook Character Sheet (From Description)\\\" recipe. Now I need to update it to use the new characterSheetV3 template. Let me provide more context to make it unique:\",\"signature\":\"EpwDCkYICxgCKkAdyclLY/efrjowv7NelMSx3kmpiPc5n3WRieCt1UFgpFDxcYkGytIKqtdJdopZ4EI+5xVYazZD471n4yMOovKaEgyZkSd44mCf7TT9URUaDCRZgQYW8Wx8tut31iIwby1pam/gphVeJHsqtIVVhUOKkBDh/1r9DcNjmbg1SZ8gQb1EgbzN9+nE189GjdPtKoMCm+vyCmiNiSyAwjGvoBDWloHuIa5UOPe1yK+QmZeFueOINP3eEwrzl1uuqlKNolkJBm7+ffHXAPKVJvhuqgjecbA5mpb6pjTTYblbmTvC08azi59jWiy2PcXxP3oiODMKkDlDJAEqh8cwOy6HGwtR3CGrJM2m/w+P8hApPzxIsIyI+8CfZNJg/Kdq5ZZ6TeLdvtxkGbhfk1efWlXtVZshHAkiqawUogIU3vf2ofkRrbOWyPmHO438L0BKG5xU9RRqPfs7+Jkg0k7kdwnwDWm+JTlpR8/glRwgEePWlFP2I4/JCFyHtByKvEUfl0P4I6XEgXkaYuEgtkiOWTkN5em+EYy2TRgB\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":10,\"cache_creation_input_tokens\":949,\"cache_read_input_tokens\":55328,\"cache_creation\":{\"ephemeral_5m_input_tokens\":949,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":5,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwPYRRZVrnDixqEJAfe\",\"type\":\"assistant\",\"uuid\":\"84ea9547-af60-428f-a849-f77f58a25acd\",\"timestamp\":\"2026-01-18T01:00:07.874Z\"}\n{\"parentUuid\":\"84ea9547-af60-428f-a849-f77f58a25acd\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01HkgeFjt5kWdTLf5mSv38m8\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_011Xzp4fyEkF6BsCVqNCu1Gq\",\"name\":\"Edit\",\"input\":{\"replace_all\":false,\"file_path\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts\",\"old_string\":\"FINAL OUTPUT: Complete character sheet with all panels filled, matching template structure, rendered consistently in <<STYLE_NAME:text!>> style.`,\\n        fields: [],\\n        referenceImages: [\\n          {\\n            id: 'template_charsheet_advanced',\\n            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\n            name: 'Character Sheet Layout Template',\\n            aspectRatio: '21:9',\\n          }\\n        ],\",\"new_string\":\"FINAL OUTPUT: Complete character sheet with all panels filled, matching template structure, rendered consistently in <<STYLE_NAME:text!>> style.`,\\n        fields: [],\\n        referenceImages: [\\n          {\\n            id: 'template_charsheet_v3',\\n            url: SYSTEM_TEMPLATE_URLS.characterSheetV3,\\n            name: 'Character Sheet V3 Layout Template',\\n            aspectRatio: '21:9',\\n          }\\n        ],\"}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":10,\"cache_creation_input_tokens\":949,\"cache_read_input_tokens\":55328,\"cache_creation\":{\"ephemeral_5m_input_tokens\":949,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":419,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwPYRRZVrnDixqEJAfe\",\"type\":\"assistant\",\"uuid\":\"c135f6e7-ab5d-409c-835f-8a3a0dbb14bf\",\"timestamp\":\"2026-01-18T01:00:10.648Z\"}\n{\"parentUuid\":\"c135f6e7-ab5d-409c-835f-8a3a0dbb14bf\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"tool_use_id\":\"toolu_011Xzp4fyEkF6BsCVqNCu1Gq\",\"type\":\"tool_result\",\"content\":\"The file D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts has been updated. Here's the result of running `cat -n` on a snippet of the edited file:\\n  2293→✓ Black separator lines between cells (4-6 pixels)\\n  2294→✓ Character name \\\"@<<CHARACTER_NAME:name!>>\\\" clearly visible at top\\n  2295→✓ Production-ready reference sheet for animation/illustration use\\n  2296→\\n  2297→FINAL OUTPUT: Complete character sheet with all panels filled, matching template structure, rendered consistently in <<STYLE_NAME:text!>> style.`,\\n  2298→        fields: [],\\n  2299→        referenceImages: [\\n  2300→          {\\n  2301→            id: 'template_charsheet_v3',\\n  2302→            url: SYSTEM_TEMPLATE_URLS.characterSheetV3,\\n  2303→            name: 'Character Sheet V3 Layout Template',\\n  2304→            aspectRatio: '21:9',\\n  2305→          }\\n  2306→        ],\\n  2307→      },\\n  2308→    ],\\n  2309→    suggestedAspectRatio: '21:9',\\n  2310→    suggestedModel: 'nano-banana-pro',\"}]},\"uuid\":\"db608979-0c2d-4058-a547-4ac3845a86db\",\"timestamp\":\"2026-01-18T01:00:11.985Z\",\"toolUseResult\":{\"filePath\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts\",\"oldString\":\"FINAL OUTPUT: Complete character sheet with all panels filled, matching template structure, rendered consistently in <<STYLE_NAME:text!>> style.`,\\n        fields: [],\\n        referenceImages: [\\n          {\\n            id: 'template_charsheet_advanced',\\n            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\n            name: 'Character Sheet Layout Template',\\n            aspectRatio: '21:9',\\n          }\\n        ],\",\"newString\":\"FINAL OUTPUT: Complete character sheet with all panels filled, matching template structure, rendered consistently in <<STYLE_NAME:text!>> style.`,\\n        fields: [],\\n        referenceImages: [\\n          {\\n            id: 'template_charsheet_v3',\\n            url: SYSTEM_TEMPLATE_URLS.characterSheetV3,\\n            name: 'Character Sheet V3 Layout Template',\\n            aspectRatio: '21:9',\\n          }\\n        ],\",\"originalFile\":\"/**\\n * Recipe Types - Fill-in-the-blank prompt templates with multi-stage pipe support\\n *\\n * Field Syntax: <<FIELD_NAME:type!>>\\n * - FIELD_NAME: Variable name (used in placeholder)\\n * - type: name, text, or select(opt1,opt2,opt3)\\n * - ! at end = required field\\n *\\n * Examples:\\n * - <<CHARACTER_NAME:name!>> - Required name field (small input)\\n * - <<DESCRIPTION:text>> - Optional text field (larger input)\\n * - <<SHOT_TYPE:select(CU,MS,WS)!>> - Required dropdown\\n *\\n * Pipe Syntax:\\n * - Use | to separate stages\\n * - Each stage can have its own reference images\\n * - Previous stage output becomes reference for next stage\\n */\\n\\n// Server-safe UUID generator (crypto.randomUUID() is not available on server during SSR)\\nlet uuidCounter = 0;\\nfunction generateStageId(): string {\\n  // Use crypto.randomUUID if available (client-side), otherwise use a counter-based ID\\n  if (typeof crypto !== 'undefined' && typeof crypto.randomUUID === 'function') {\\n    return crypto.randomUUID();\\n  }\\n  return `stage-${Date.now()}-${++uuidCounter}`;\\n}\\n\\n// Field types for recipe forms\\nexport type RecipeFieldType = 'name' | 'text' | 'select'\\n\\n// A single field definition parsed from the recipe template\\nexport interface RecipeField {\\n  id: string                    // Unique field ID\\n  name: string                  // Field name from template (e.g., \\\"CHARACTER_NAME\\\")\\n  label: string                 // Display label (e.g., \\\"Character Name\\\")\\n  type: RecipeFieldType         // Field type\\n  required: boolean             // Whether field must be filled (marked with !)\\n  options?: string[]            // For 'select' type - dropdown options\\n  placeholder: string           // Placeholder text (includes ! if required)\\n}\\n\\n// Reference image attached to a recipe stage\\nexport interface RecipeReferenceImage {\\n  id: string\\n  url: string                   // Image URL (can be data URL or public URL)\\n  name?: string                 // Display name\\n  aspectRatio?: string          // Detected aspect ratio\\n  isStatic?: boolean            // Static reference images are always included\\n}\\n\\n// Stage type - generation (default) or tool\\nexport type RecipeStageType = 'generation' | 'tool'\\n\\n// Tool output type\\nexport type RecipeToolOutputType = 'single' | 'multi'\\n\\n// Available tools that can be used in recipe stages\\nexport const RECIPE_TOOLS = {\\n  'remove-background': {\\n    id: 'remove-background',\\n    name: 'Remove Background',\\n    description: 'Removes background from image, outputs PNG with transparency',\\n    icon: '✂️',\\n    cost: 3,  // points\\n    endpoint: '/api/tools/remove-background',\\n    outputType: 'single' as RecipeToolOutputType,\\n  },\\n  'cinematic-grid': {\\n    id: 'cinematic-grid',\\n    name: 'Cinematic Grid',\\n    description: 'Generates 3x3 grid with 9 cinematic camera angles from reference image',\\n    icon: '🎬',\\n    cost: 20,  // Same as nano-banana-pro (uses it internally)\\n    endpoint: '/api/tools/cinematic-grid',\\n    outputType: 'single' as RecipeToolOutputType,\\n  },\\n  'grid-split': {\\n    id: 'grid-split',\\n    name: 'Grid Split (3x3)',\\n    description: 'Splits a 3x3 grid image into 9 separate images',\\n    icon: '🔲',\\n    cost: 0,  // Server-side processing only, no API cost\\n    endpoint: '/api/tools/grid-split',\\n    outputType: 'multi' as RecipeToolOutputType,\\n    outputCount: 9,\\n  },\\n  'before-after-grid': {\\n    id: 'before-after-grid',\\n    name: 'Before/After Grid',\\n    description: 'Generates 3x3 grid showing same location in 9 different states/time periods',\\n    icon: '🔄',\\n    cost: 20,  // Same as nano-banana-pro (uses it internally)\\n    endpoint: '/api/tools/before-after-grid',\\n    outputType: 'single' as RecipeToolOutputType,\\n  },\\n} as const\\n\\nexport type RecipeToolId = keyof typeof RECIPE_TOOLS\\n\\n// A single stage in a multi-pipe recipe\\nexport interface RecipeStage {\\n  id: string\\n  order: number                 // Stage order (0, 1, 2...)\\n  type?: RecipeStageType        // 'generation' (default) or 'tool'\\n  template: string              // The prompt template for this stage (empty for tool stages)\\n  toolId?: RecipeToolId         // For tool stages: which tool to use\\n  fields: RecipeField[]         // Parsed fields from this stage's template\\n  referenceImages: RecipeReferenceImage[]  // Fixed reference images for this stage\\n}\\n\\n// User's filled-in values for a recipe\\nexport interface RecipeFieldValues {\\n  [fieldId: string]: string\\n}\\n\\n// A recipe template\\nexport interface Recipe {\\n  id: string\\n  name: string                  // Recipe name (e.g., \\\"Character Sheet Generator\\\")\\n  description?: string          // Optional description\\n  recipeNote?: string           // Instructions shown when recipe is activated\\n                                // e.g., \\\"Please provide an image with a character\\\"\\n  stages: RecipeStage[]         // Multi-stage support (separated by |)\\n  suggestedAspectRatio?: string // Suggested aspect ratio (user can change)\\n  suggestedResolution?: string  // Suggested resolution\\n  suggestedModel?: string       // Suggested model (auto-selects when recipe applied)\\n  quickAccessLabel?: string     // 1-word label for quick access bar\\n  isQuickAccess: boolean        // Whether it's in quick access\\n  categoryId?: string           // Optional category\\n  isSystem?: boolean            // System recipes are read-only, must be duplicated to edit\\n  isSystemOnly?: boolean        // If true, only visible to admin users (hidden from regular users)\\n  createdAt: number\\n  updatedAt: number\\n}\\n\\n// Quick access item - recipes only now\\nexport interface QuickAccessItem {\\n  id: string\\n  type: 'recipe'\\n  label: string                 // 1-word display label\\n  recipeId: string              // Recipe ID\\n  order: number                 // Display order (0-8)\\n}\\n\\n// Validation result for a recipe\\nexport interface RecipeValidation {\\n  isValid: boolean\\n  missingFields: string[]       // Names of required fields not filled\\n  errors: string[]              // Error messages\\n}\\n\\n// Recipe categories\\nexport interface RecipeCategory {\\n  id: string\\n  name: string\\n  icon: string\\n  isDefault?: boolean           // Built-in categories can't be deleted\\n  isSystemOnly?: boolean        // If true, only visible to admin users\\n}\\n\\n// Default recipe categories\\nexport const DEFAULT_RECIPE_CATEGORIES: RecipeCategory[] = [\\n  { id: 'characters', name: 'Characters', icon: '👤', isDefault: true },\\n  { id: 'scenes', name: 'Scenes', icon: '🎬', isDefault: true },\\n  { id: 'environments', name: 'Environments', icon: '🏛️', isDefault: true },\\n  { id: 'narrative', name: 'Narrative', icon: '📚', isDefault: true },\\n  { id: 'styles', name: 'Style Transfers', icon: '🎨', isDefault: true },\\n  { id: 'products', name: 'Products', icon: '📦', isDefault: true },\\n  { id: 'custom', name: 'Custom', icon: '✨', isDefault: true },\\n  // System-only categories (visible only to admin users)\\n  { id: 'storybook', name: 'Storybook', icon: '📖', isDefault: true, isSystemOnly: true },\\n]\\n\\n// Common select options for convenience\\nexport const COMMON_SELECT_OPTIONS = {\\n  shotType: ['ECU', 'BCU', 'CU', 'MCU', 'MS', 'MCS', 'MWS', 'WS', 'EWS', 'EST'],\\n  cameraAngle: ['eye-level', 'low-angle', 'high-angle', 'dutch', 'birds-eye', 'worms-eye', 'POV', 'OTS'],\\n  lighting: ['natural', 'golden-hour', 'dramatic', 'soft', 'rim', 'silhouette', 'high-key', 'low-key'],\\n  mood: ['dramatic', 'peaceful', 'tense', 'joyful', 'mysterious', 'romantic', 'energetic'],\\n}\\n\\n/**\\n * Parse a single stage template and extract fields\\n *\\n * Syntax: <<FIELD_NAME:type!>>\\n * - ! at end means required\\n * - type can be: name, text, select(opt1,opt2)\\n */\\nexport function parseStageTemplate(template: string, stageIndex: number): RecipeField[] {\\n  const fieldRegex = /<<([A-Z_0-9]+):([^>]+)>>/g\\n  const fields: RecipeField[] = []\\n  let match\\n  let fieldIndex = 0\\n\\n  while ((match = fieldRegex.exec(template)) !== null) {\\n    const [, name, typeSpec] = match\\n\\n    // Check if required (ends with !)\\n    const required = typeSpec.endsWith('!')\\n    const cleanTypeSpec = required ? typeSpec.slice(0, -1) : typeSpec\\n\\n    let type: RecipeFieldType = 'text'\\n    let options: string[] | undefined\\n\\n    // Parse type\\n    if (cleanTypeSpec === 'name') {\\n      type = 'name'\\n    } else if (cleanTypeSpec === 'text') {\\n      type = 'text'\\n    } else if (cleanTypeSpec.startsWith('select(')) {\\n      type = 'select'\\n      const optionsMatch = cleanTypeSpec.match(/select\\\\(([^)]+)\\\\)/)\\n      if (optionsMatch) {\\n        options = optionsMatch[1].split(',').map(o => o.trim())\\n      }\\n    }\\n\\n    // Convert FIELD_NAME to \\\"Field Name\\\" label\\n    const label = name\\n      .split('_')\\n      .map(word => word.charAt(0) + word.slice(1).toLowerCase())\\n      .join(' ')\\n\\n    // Create placeholder with ! if required\\n    const placeholder = required ? `${label}!` : label\\n\\n    fields.push({\\n      id: `stage${stageIndex}_field${fieldIndex}_${name.toLowerCase()}`,\\n      name,\\n      label,\\n      type,\\n      required,\\n      options,\\n      placeholder,\\n    })\\n\\n    fieldIndex++\\n  }\\n\\n  return fields\\n}\\n\\n/**\\n * Parse a full recipe template (may contain pipes) into stages\\n */\\nexport function parseRecipeTemplate(fullTemplate: string): RecipeStage[] {\\n  // Split by pipe\\n  const stageParts = fullTemplate.split('|').map(s => s.trim())\\n\\n  return stageParts.map((template, index) => ({\\n    id: `stage_${index}`,\\n    order: index,\\n    template,\\n    fields: parseStageTemplate(template, index),\\n    referenceImages: [],\\n  }))\\n}\\n\\n/**\\n * Get all fields from all stages, deduplicated by name\\n * If the same field name appears multiple times, only return it once\\n * (first occurrence wins, keeps required status if any instance is required)\\n */\\nexport function getAllFields(stages: RecipeStage[]): RecipeField[] {\\n  const allFields = stages.flatMap(stage => stage.fields)\\n  const uniqueByName = new Map<string, RecipeField>()\\n\\n  for (const field of allFields) {\\n    const existing = uniqueByName.get(field.name)\\n    if (existing) {\\n      // If this instance is required, update the existing to be required\\n      if (field.required && !existing.required) {\\n        uniqueByName.set(field.name, { ...existing, required: true })\\n      }\\n    } else {\\n      uniqueByName.set(field.name, field)\\n    }\\n  }\\n\\n  return Array.from(uniqueByName.values())\\n}\\n\\n/**\\n * Get deduplicated fields for the form (user only fills each unique field once)\\n */\\nexport function getUniqueFieldsForForm(stages: RecipeStage[]): RecipeField[] {\\n  return getAllFields(stages)\\n}\\n\\n/**\\n * Build a prompt from a stage template and field values\\n * - Looks up values by field NAME (for variable reuse)\\n * - Optional fields with empty values are omitted entirely\\n * - Cleans up orphaned punctuation and extra spaces\\n */\\nexport function buildStagePrompt(\\n  template: string,\\n  fields: RecipeField[],\\n  values: RecipeFieldValues,\\n  allUniqueFields?: RecipeField[]\\n): string {\\n  let result = template\\n\\n  // Build a map of field name -> value (using unique fields for lookup)\\n  const fieldsToUse = allUniqueFields || fields\\n  const valueByName = new Map<string, { value: string; required: boolean }>()\\n\\n  for (const field of fieldsToUse) {\\n    // Try to find value by field ID first, then by name-based lookup\\n    let value = values[field.id] || ''\\n\\n    // Also check if any field with this name has a value set\\n    if (!value) {\\n      for (const [id, val] of Object.entries(values)) {\\n        if (id.toLowerCase().includes(field.name.toLowerCase()) && val) {\\n          value = val\\n          break\\n        }\\n      }\\n    }\\n\\n    valueByName.set(field.name, { value, required: field.required })\\n  }\\n\\n  // Replace each field placeholder\\n  const fieldRegex = /<<([A-Z_0-9]+):([^>]+)>>/g\\n  result = result.replace(fieldRegex, (_match, name, typeSpec) => {\\n    const fieldData = valueByName.get(name)\\n    const value = fieldData?.value || ''\\n    const isRequired = typeSpec.endsWith('!')\\n\\n    // If optional and empty, return empty string to remove placeholder\\n    if (!value && !isRequired) {\\n      return ''\\n    }\\n\\n    return value\\n  })\\n\\n  // Clean up orphaned punctuation and extra spaces\\n  // Remove \\\", ,\\\" patterns\\n  result = result.replace(/,\\\\s*,/g, ',')\\n  // Remove \\\", .\\\" or \\\". ,\\\" patterns\\n  result = result.replace(/[,\\\\s]+\\\\./g, '.')\\n  result = result.replace(/\\\\.\\\\s*,/g, '.')\\n  // Remove leading/trailing commas in sentences\\n  result = result.replace(/,\\\\s*$/g, '')\\n  result = result.replace(/^\\\\s*,\\\\s*/g, '')\\n  // Remove multiple spaces\\n  result = result.replace(/\\\\s+/g, ' ')\\n  // Clean up spaces around punctuation\\n  result = result.replace(/\\\\s+,/g, ',')\\n  result = result.replace(/\\\\s+\\\\./g, '.')\\n\\n  return result.trim()\\n}\\n\\n/**\\n * Result of building recipe prompts - includes both prompts and reference images\\n */\\nexport interface RecipePromptResult {\\n  prompts: string[]\\n  referenceImages: string[]           // All refs flattened (backward compat)\\n  stageReferenceImages: string[][]    // Per-stage refs indexed by stage order\\n}\\n\\n/**\\n * Build all stage prompts from a recipe\\n * Uses deduplicated fields so same field name = same value across stages\\n * Also collects all reference images from all stages\\n */\\nexport function buildRecipePrompts(\\n  stages: RecipeStage[],\\n  values: RecipeFieldValues\\n): RecipePromptResult {\\n  const uniqueFields = getAllFields(stages)\\n  const prompts = stages.map(stage => buildStagePrompt(stage.template, stage.fields, values, uniqueFields))\\n\\n  // Collect all reference images from all stages (deduplicated) for backward compatibility\\n  const referenceImages: string[] = []\\n  for (const stage of stages) {\\n    for (const ref of stage.referenceImages || []) {\\n      if (ref.url && !referenceImages.includes(ref.url)) {\\n        referenceImages.push(ref.url)\\n      }\\n    }\\n  }\\n\\n  // Collect reference images per stage (indexed by stage order) for pipe chaining\\n  const stageReferenceImages: string[][] = stages.map(stage =>\\n    (stage.referenceImages || [])\\n      .map(ref => ref.url)\\n      .filter((url): url is string => Boolean(url))\\n  )\\n\\n  return { prompts, referenceImages, stageReferenceImages }\\n}\\n\\n/**\\n * Calculate the total cost of a recipe based on its tool stages\\n * Returns 0 if no tool stages (cost determined by selected model)\\n */\\nexport function calculateRecipeCost(stages: RecipeStage[]): number {\\n  return stages.reduce((total, stage) => {\\n    if (stage.type === 'tool' && stage.toolId) {\\n      const tool = RECIPE_TOOLS[stage.toolId as RecipeToolId]\\n      if (tool) return total + tool.cost\\n    }\\n    return total\\n  }, 0)\\n}\\n\\n/**\\n * Validate that all required fields are filled\\n * Uses deduplicated fields so same field name = validated once\\n */\\nexport function validateRecipe(\\n  stages: RecipeStage[],\\n  values: RecipeFieldValues\\n): RecipeValidation {\\n  const missingFields: string[] = []\\n  const errors: string[] = []\\n\\n  // Use deduplicated fields for validation\\n  const uniqueFields = getAllFields(stages)\\n\\n  for (const field of uniqueFields) {\\n    if (field.required) {\\n      // Check by field ID first\\n      let value = values[field.id]\\n\\n      // Also check by field name pattern\\n      if (!value) {\\n        for (const [id, val] of Object.entries(values)) {\\n          if (id.includes(field.name.toLowerCase()) && val) {\\n            value = val\\n            break\\n          }\\n        }\\n      }\\n\\n      if (!value || value.trim() === '') {\\n        missingFields.push(field.label)\\n        errors.push(`${field.label} is required`)\\n      }\\n    }\\n  }\\n\\n  return {\\n    isValid: missingFields.length === 0,\\n    missingFields,\\n    errors,\\n  }\\n}\\n\\n/**\\n * Frame type options for cinematic grids\\n */\\nexport const FRAME_TYPE_OPTIONS = {\\n  row1: ['Extreme Wide Shot', 'Wide Shot', 'Full Body Shot', 'Establishing Shot', 'Environmental Shot'],\\n  row2: ['Medium Wide Shot', 'Medium Shot', 'Waist-Up Shot', 'Cowboy Shot', 'American Shot'],\\n  row3: ['Medium Close-Up', 'Close-Up Shot', 'Chest-Up Shot', 'Tight Shot', 'Portrait Frame'],\\n  row4: ['Extreme Close-Up', 'Big Close-Up', 'Detail Shot', 'Macro Shot', 'Insert Shot'],\\n  angles: ['Eye-Level', 'Low Angle', 'High Angle', 'Dutch Angle', 'Birds Eye', 'Worms Eye', 'Over-the-Shoulder', 'POV'],\\n}\\n\\n/**\\n * Holiday options\\n */\\nexport const HOLIDAY_OPTIONS = [\\n  'Christmas',\\n  'Valentines Day',\\n  'Halloween',\\n  'Easter',\\n  'Thanksgiving',\\n  'New Years Eve',\\n  'Fourth of July',\\n  'St Patricks Day',\\n  'Lunar New Year',\\n  'Diwali',\\n  'Hanukkah',\\n  'Cinco de Mayo',\\n]\\n\\n/**\\n * System template URLs from Supabase Storage\\n * These are used as layout reference images for recipes\\n */\\nconst SUPABASE_URL = 'https://tarohelkwuurakbxjyxm.supabase.co'\\n\\nconst SYSTEM_TEMPLATE_URLS = {\\n  characterSheetBasic: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-basic.png`,\\n  characterSheetAdvanced: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-advanced.webp`,\\n  characterSheetV3: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-v3.jpg`,\\n  wardrobeGrid: `${SUPABASE_URL}/storage/v1/object/public/templates/system/grids/wardrobe-2x3.png`,\\n}\\n\\n/**\\n * Sample recipes for initial setup\\n */\\nexport const SAMPLE_RECIPES: Omit<Recipe, 'id' | 'createdAt' | 'updatedAt'>[] = [\\n  // Style Guide Grid - 6 tile visual style guide (matches user's proven prompt)\\n  {\\n    name: 'Style Guide Grid',\\n    description: 'Create a 2x3 visual style guide with 6 example tiles demonstrating the full visual language of a style',\\n    recipeNote: 'Attach a style reference image. Name your style. The model generates 6 tiles showing how the style handles characters, action, environments, and diversity.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Create a visual style guide as a 6-image grid (2 rows × 3 columns) titled \\\"<<STYLE_NAME:text!>> – Style Guide\\\".\\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\\n\\nThe guide must generate its own characters and should NOT rely on any user-provided characters.\\n\\nGLOBAL STYLE RULES (match the reference image exactly):\\n- Color & Contrast: Match the reference image's color palette, contrast, and saturation\\n- Rendering Style: Maintain identical rendering style across all 6 tiles (painterly, illustrative, photoreal, 3D, claymation, etc.)\\n- Line & Detail: Match line quality, edge sharpness/softness, and detail level\\n- Lighting & Mood: Match lighting style, time of day, shadow softness, and mood\\n- Camera Language: Match depth of field, framing, focal length feel, and sense of motion\\n- World Cohesion: Every tile must look like it comes from the same production, using the same design language, textures, and atmosphere\\n\\nSHARED CAST (for consistency demonstration):\\n- Character A: A Black man in his early 30s, medium build, short natural hair, expressive eyes\\n- Character B: A White man in his early 30s, average build, short hair, clean shave\\nThese characters are generated by the model to test how the style handles racial diversity consistently.\\n\\nTHE 6 TILES:\\n\\nTILE 1 - CHARACTER CLOSE-UP:\\nDramatic close-up portrait (shoulders-up) of a newly generated character with expressive lighting and shallow depth of field. Must clearly demonstrate how the style handles skin texture, emotion, materials, and color behavior.\\n\\nTILE 2 - ACTION SCENE:\\nDynamic action scene showing a character or small group in motion. Must maintain the same lighting behavior, color palette, and rendering fidelity as the reference style.\\n\\nTILE 3 - ENVIRONMENT DETAIL:\\nRichly detailed environment element (street corner, room interior, forest clearing, rooftop, etc.) showing materials, lighting, and atmospheric depth consistent with the style.\\n\\nTILE 4 - MULTI-RACIAL CHARACTER INTERACTION:\\nThe Black man and White man (from the shared cast) performing a simple activity together — walking, talking, collaborating. Their skin tones, facial structures, and materials must be rendered consistently without drifting between tiles.\\n\\nTILE 5 - DYNAMIC POSE:\\nFull-body or 3/4-body shot of a character in a dramatic action-oriented pose demonstrating how anatomy, silhouette, and gesture are depicted in this style.\\n\\nTILE 6 - SET / LOCATION DESIGN:\\nWide shot highlighting set or location design (city street, throne room, industrial hangar, temple ruins, etc.). Must match environment lighting, atmosphere, and lens behavior of the reference style.\\n\\nCRITICAL: This guide functions as a style bible for future scenes — a unified blueprint demonstrating humans, environments, action, and design language in one consistent art style.\\n\\nNo style drift. No new color schemes, lighting models, render methods, or camera styles.\\nBlack grid lines between all cells. No text labels in the images.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '3:2',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'StyleGuide',\\n    categoryId: 'styles',\\n  },\\n\\n  // Character Sheet - Professional reference sheet matching action figure style\\n  {\\n    name: 'Character Sheet',\\n    description: 'Professional character reference sheet with full-body views, expressions, and accessories',\\n    recipeNote: 'Attach a reference image of your character. The sheet will include turnarounds, expressions, talking views, and accessory slots.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `CHARACTER @<<CHARACTER_NAME:name!>>\\n\\nCreate a professional character reference sheet on a clean white/light gray background.\\n\\nLAYOUT (Left to Right):\\n\\nSECTION 1 - FULL BODY VIEWS:\\n- Large front view with proportion grid lines\\n- Side profile view\\n- Back view\\n- All views on same baseline for height reference\\n- Below: COLOR PALETTE strip showing skin, hair, eye colors, and main clothing colors\\n\\nSECTION 2 - EXPRESSIONS & DETAILS:\\n- Header: \\\"CHARACTER @<<CHARACTER_NAME:name!>>\\\" with description box\\n- EXPRESSION GRID (2 rows × 3 columns):\\n  Row 1: Talking-Neutral, Talking-Happy, Talking-Angry\\n  Row 2: Sad, Surprised, Smug/Confident\\n- Below: CLOSE-UP DETAILS box for distinctive features\\n- ACCESSORIES boxes for props/items\\n\\nSECTION 3 - TALKING VIEWS:\\n- Profile head shots showing speaking poses\\n- Additional ACCESSORIES boxes\\n\\nSTYLE: <<STYLE:select(claymation,anime,3D render,cartoon,realistic,watercolor,oil painting,illustrated,Pixar-style,Disney-style)>>\\n\\nClean, production-ready layout. No busy backgrounds.\\nConsistent lighting and rendering across all views.\\nProfessional character sheet suitable for animation/illustration reference.`,\\n      fields: [],\\n      referenceImages: [\\n        {\\n          id: 'template_charsheet_advanced',\\n          url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\n          name: 'Character Sheet Layout Template',\\n          aspectRatio: '21:9',\\n        },\\n      ],\\n    }],\\n    suggestedAspectRatio: '21:9',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'CharSheet',\\n    categoryId: 'characters',\\n  },\\n\\n  // Character Sheet from Description - No photo required\\n  {\\n    name: 'Character Sheet (From Description)',\\n    description: 'Generate a character sheet from text description only - no reference photo needed',\\n    recipeNote: 'Perfect for creating consistent characters when you only have a written description. Stage 1 generates the character appearance, Stage 2 creates the full character sheet.',\\n    stages: [\\n      // STAGE 0: Generate character appearance from description\\n      {\\n        id: 'stage_desc_char_0',\\n        order: 0,\\n        type: 'generation',\\n        template: `Generate a character based on this description:\\n\\nCHARACTER NAME: @<<CHARACTER_NAME:name!>>\\nVISUAL DESCRIPTION: <<CHARACTER_DESCRIPTION:text!>>\\n\\nCreate a full-body character portrait:\\n- Standing pose, facing forward (slight 3/4 angle is acceptable)\\n- Clean WHITE or light gray background\\n- Neutral expression, relaxed posture\\n- Soft, even studio lighting\\n- Show full body from head to feet\\n- High detail on face and distinctive features\\n\\nSTYLE: <<STYLE:select(realistic,cinematic,anime,3D render,cartoon,illustrated,concept art,oil painting,watercolor,Pixar-style,Disney-style)>>\\n\\nThe character should match the description EXACTLY - pay attention to:\\n- Age, gender, ethnicity\\n- Hair color, style, length\\n- Eye color\\n- Build/body type\\n- Clothing and accessories\\n- Any distinctive features (scars, tattoos, glasses, etc.)\\n\\nOutput: High-quality full-body character portrait suitable for reference.`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n      // STAGE 1: Generate character sheet with expressions\\n      {\\n        id: 'stage_desc_char_1',\\n        order: 1,\\n        type: 'generation',\\n        template: `CHARACTER: @<<CHARACTER_NAME:name!>>\\n\\nCreate a professional character reference sheet using the previous image as the definitive reference.\\n\\nCRITICAL: Every view and expression must clearly be the SAME PERSON.\\nFacial structure, proportions, and distinctive features must remain IDENTICAL across all views.\\n\\nCHARACTER SHEET LAYOUT (21:9 aspect ratio):\\n\\nLEFT SECTION - FULL BODY VIEWS:\\n- Large front view with proportion reference\\n- Side profile view\\n- Back view\\n- All views on same baseline for height reference\\n- Below: COLOR PALETTE strip (skin, hair, eye colors, main clothing colors)\\n\\nRIGHT SECTION - EXPRESSIONS (2 rows × 5 columns):\\nRow 1: Neutral, Happy, Sad, Angry, Surprised\\nRow 2: Speaking, Shouting, Whispering, Confident, Scared\\n\\nTOP: Character name \\\"@<<CHARACTER_NAME:name!>>\\\" prominently displayed\\n\\nSTYLE: Match the style from Stage 1 exactly\\n\\nCRITICAL REQUIREMENTS:\\n- SOLID BLACK LINES (4-6 pixels) separating each expression cell\\n- All expressions maintain the SAME face structure\\n- Clean white/light gray background throughout\\n- Production-ready layout for animation/illustration reference`,\\n        fields: [],\\n        referenceImages: [\\n          {\\n            id: 'template_charsheet_advanced',\\n            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\n            name: 'Character Sheet Layout Template',\\n            aspectRatio: '21:9',\\n          }\\n        ],\\n      },\\n    ],\\n    suggestedAspectRatio: '21:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'DescSheet',\\n    categoryId: 'characters',\\n  },\\n\\n  // 9-Frame Cinematic Contact Sheet\\n  {\\n    name: '9-Frame Cinematic',\\n    description: '3x3 cinematic contact sheet covering full shot range',\\n    recipeNote: 'Attach a reference image. The model will create 9 different framings of the same subject with black grid lines for extraction.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Analyze the entire composition of the input image. Identify all key subjects present (single person, group, vehicle, or object) and their spatial relationship.\\n\\nGenerate a cohesive 3x3 cinematic contact sheet featuring 9 distinct camera shots of exactly these subjects in the same environment.\\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\\n\\nROW 1 - ENVIRONMENTAL CONTEXT:\\n1. <<FRAME_1:select(Extreme Wide Shot,Wide Shot,Establishing Shot,Environmental Shot,Vista Shot)!>>\\n2. <<FRAME_2:select(Wide Shot,Full Body Shot,Long Shot,Master Shot)!>>\\n3. <<FRAME_3:select(Medium Wide Shot,Medium Long Shot,Cowboy Shot,American Shot)!>>\\n\\nROW 2 - CORE SUBJECT:\\n4. <<FRAME_4:select(Medium Shot,Waist-Up Shot,Mid-Shot,Two-Shot)!>>\\n5. <<FRAME_5:select(Medium Close-Up,Chest-Up Shot,Bust Shot)!>>\\n6. <<FRAME_6:select(Close-Up Shot,Tight Shot,Head Shot)!>>\\n\\nROW 3 - INTIMATE DETAILS & ANGLES:\\n7. <<FRAME_7:select(Extreme Close-Up,Macro Detail,Insert Shot,Detail Shot)!>>\\n8. <<FRAME_8:select(Low Angle Upward,Worms Eye View,Hero Shot,Power Shot)!>>\\n9. <<FRAME_9:select(High Angle Downward,Birds Eye,Overhead Shot,God Shot)!>>\\n\\nSTRICT REQUIREMENTS:\\n- Identical subjects, outfits, environment, lighting across all 9 frames\\n- Coherent scene continuity\\n- Depth of field becomes increasingly shallow as framing gets tighter\\n- Black grid lines separating all 9 cells\\n- No labels, text, overlays, icons, or shot-type captions\\n- Only clean cinematic imagery\\n- Professional photorealistic textures and cinematic color grading<<STYLE:select(,maintain claymation style,maintain anime style,maintain watercolor style,maintain oil painting style,maintain 3D render style)>>`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: '9-Frame',\\n    categoryId: 'scenes',\\n  },\\n\\n  // 9-Frame Before/After Location Grid\\n  {\\n    name: 'Before/After Location',\\n    description: '3x3 grid showing same location in 9 different states/time periods',\\n    recipeNote: 'Attach a reference image of a location. The model will show the same camera angle with 9 different states (time of day, seasons, decades, or custom transformations).',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Analyze the location shown in the reference image. Identify the exact camera angle, composition, and key architectural/environmental features.\\n\\nGenerate a 3x3 grid showing this EXACT SAME location from the EXACT SAME camera angle in 9 different <<TRANSFORMATION:select(time periods throughout a single day,seasons throughout a year,decades from past to future,states before and after an event,construction phases from empty lot to completion)!>>.\\n\\n<<LOCATION_DESCRIPTION:text>> - Brief description of the location (optional, helps with accuracy)\\n\\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\\n\\nROW 1 - BEGINNING STATES:\\n1. <<STATE_1:select(Pre-dawn/6AM,Early Spring,1920s Era,Pristine Before,Empty Lot)!>>\\n2. <<STATE_2:select(Sunrise/7AM,Late Spring,1950s Era,Warning Signs,Groundbreaking)!>>\\n3. <<STATE_3:select(Morning/9AM,Early Summer,1970s Era,Event Beginning,Foundation)!>>\\n\\nROW 2 - MIDDLE STATES:\\n4. <<STATE_4:select(Midday/12PM,Mid Summer,1980s Era,Event Peak,Framing Complete)!>>\\n5. <<STATE_5:select(Afternoon/3PM,Late Summer,1990s Era,Maximum Impact,Exterior Done)!>>\\n6. <<STATE_6:select(Golden Hour/5PM,Early Autumn,2000s Era,Event Subsiding,Interior Work)!>>\\n\\nROW 3 - END STATES:\\n7. <<STATE_7:select(Sunset/7PM,Peak Autumn,2010s Era,Immediate Aftermath,Landscaping)!>>\\n8. <<STATE_8:select(Dusk/8PM,Late Autumn,2020s Present,Recovery Phase,Final Touches)!>>\\n9. <<STATE_9:select(Night/10PM,Winter,2040s Future,Fully Transformed,Completed/Occupied)!>>\\n\\nSTRICT REQUIREMENTS:\\n- IDENTICAL camera angle and position in EVERY cell\\n- IDENTICAL composition and framing\\n- Only the state/time/condition of the location changes\\n- Black grid lines separating all 9 cells\\n- No labels, text, overlays, icons, or captions\\n- Photorealistic rendering with attention to lighting changes\\n- Consistent architectural details across all frames<<STYLE:select(,maintain illustrated style,maintain painterly style,maintain cinematic style,maintain documentary style)>>`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'Before/After',\\n    categoryId: 'scenes',\\n  },\\n\\n  // Holiday Vibe - Add holiday elements\\n  {\\n    name: 'Holiday Vibe',\\n    description: 'Add holiday decorations and atmosphere without changing the character',\\n    recipeNote: 'Attach the image you want to add holiday vibes to. The character and location will stay the same.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `DO NOT change the character or the location in this image.\\nDO NOT alter the person's face, body, clothing, or pose.\\nDO NOT change the environment structure or layout.\\n\\nONLY ADD elements that give this image a <<HOLIDAY:select(Christmas,Valentines Day,Halloween,Easter,Thanksgiving,New Years Eve,Fourth of July,St Patricks Day,Lunar New Year,Diwali,Hanukkah,Cinco de Mayo)!>> vibe.\\n\\nYou may add:\\n- Holiday-specific decorations (lights, ornaments, banners, etc.)\\n- Seasonal atmospheric effects (snow, confetti, sparkles, etc.)\\n- Holiday-themed props in the environment\\n- Appropriate color grading/lighting that matches the holiday mood\\n- Festive background elements\\n\\nKeep the subject looking natural and not like they're wearing a costume (unless it makes sense for the holiday).\\nThe additions should feel organic and integrated, not pasted on.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'Holiday',\\n    categoryId: 'scenes',\\n  },\\n\\n  // Story to 9 Frames - Complete visual narrative\\n  {\\n    name: 'Story to 9 Frames',\\n    description: 'Tell an entire story in 9 cinematic frames. Attach character sheet and style guide for consistency.',\\n    recipeNote: 'Attach: 1) Character sheet, 2) Style guide. Enter your story. The AI will identify 9 key moments and visualize them.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `MAIN CHARACTER: @<<CHARACTER_NAME:name!>>\\nUse the attached character sheet for ABSOLUTE consistency - same face, same body, same proportions in every frame.\\n\\nSTYLE: Match the attached style guide EXACTLY across all 9 frames.\\n\\nSTORY:\\n<<STORY:text!>>\\n\\nGenerate a 3x3 grid telling this COMPLETE STORY in 9 cinematic frames.\\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\\n\\nCRITICAL - ABSOLUTE CONSISTENCY:\\n- Character looks IDENTICAL in every frame (same face, same features, same body)\\n- Clothing only changes if the story explicitly describes it\\n- Art style remains PERFECTLY consistent (same rendering, same colors, same lighting approach)\\n- The 9 frames together tell a COMPLETE, COHERENT story\\n\\nANALYZE THE STORY AND CREATE:\\n\\nROW 1 - ACT 1 (Setup):\\n1. THE WORLD: Establish the setting, show where the story takes place\\n2. THE CHARACTER: Introduce the protagonist in their normal world\\n3. THE INCITING INCIDENT: Something changes, disrupts the normal\\n\\nROW 2 - ACT 2 (Conflict):\\n4. THE JOURNEY BEGINS: Character responds to the change, takes action\\n5. THE CHALLENGE: Obstacles, conflict, struggle - show the difficulty\\n6. THE LOW POINT: Moment of doubt, failure, or greatest challenge\\n\\nROW 3 - ACT 3 (Resolution):\\n7. THE TURNING POINT: Character finds strength, solution, or revelation\\n8. THE CLIMAX: Peak action, confrontation, the decisive moment\\n9. THE NEW NORMAL: Resolution, aftermath, how things have changed\\n\\nCINEMATOGRAPHY:\\n- Vary shot types: wide establishing, medium, close-up, etc.\\n- Use camera angles to enhance emotion (low angle = power, high angle = vulnerability)\\n- Lighting should reflect emotional tone (warm = comfort, cool = tension, dramatic = conflict)\\n- Each frame should be INSTANTLY UNDERSTANDABLE without text\\n\\n<<GENRE:select(adventure,fantasy,slice of life,mystery,comedy,drama,action,heartwarming)>>\\n\\nBlack grid lines between all cells. No text, labels, or dialogue in frames.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'StoryFrames',\\n    categoryId: 'scenes',\\n  },\\n\\n  // Talking Heads / Multi-Angle - Same scene from different camera angles\\n  {\\n    name: 'Talking Heads Multi-Angle',\\n    description: 'Same scene from 9 different camera angles - perfect for podcasts, interviews, TV shows, behind-the-scenes',\\n    recipeNote: 'Attach your character/scene reference. Get 9 angles: front, side, close-up, over-shoulder, wide, behind-the-scenes, and more.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Analyze the reference image. This is the PRIMARY SHOT of a <<SCENE_TYPE:select(podcast recording,interview,TV show scene,livestream setup,meeting,presentation,conversation,news broadcast)!>>.\\n\\nGenerate a 3x3 grid showing the EXACT SAME SCENE from 9 different camera angles.\\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\\n\\nCRITICAL - ABSOLUTE CONSISTENCY:\\n- SAME person(s), SAME clothing, SAME environment, SAME lighting setup\\n- SAME props, equipment, and background elements\\n- SAME moment in time - nothing has moved or changed\\n- Only the CAMERA POSITION changes\\n\\nTHE 9 ANGLES:\\n\\nROW 1 - PRIMARY COVERAGE:\\n1. FRONT MEDIUM: Classic talking head, shoulders-up, direct to camera\\n2. FRONT CLOSE-UP: Tighter frame, face fills more of the shot, emotional intimacy\\n3. FRONT WIDE: Pull back to show full setup, desk/table, environment context\\n\\nROW 2 - SIDE ANGLES:\\n4. PROFILE LEFT: 90° side view from the left, clean silhouette\\n5. 3/4 ANGLE: 45° angle showing depth and dimension\\n6. PROFILE RIGHT: 90° side view from the right, clean silhouette\\n\\nROW 3 - PRODUCTION ANGLES:\\n7. OVER-THE-SHOULDER: From behind, showing what they're looking at (screen, guest, etc.)\\n8. HIGH ANGLE: Looking down at the setup, shows spatial layout\\n9. BEHIND-THE-SCENES: Wide shot showing production equipment - cameras, lights, monitors, crew silhouettes\\n\\n<<PRODUCTION_STYLE:select(professional studio,home office,podcast booth,news desk,outdoor location,casual living room)>>\\n<<EQUIPMENT_VISIBLE:select(show microphones and monitors,minimal visible equipment,full production setup visible)>>\\n\\nMaintain the attached style guide's visual language throughout.\\nBlack grid lines between all cells. No text labels.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'TalkHead',\\n    categoryId: 'scenes',\\n  },\\n\\n  // Time of Day Series\\n  {\\n    name: 'Time of Day',\\n    description: 'Same location across 6 different times of day',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Analyze the location in the reference image. Create a 2x3 grid showing this EXACT same location at 6 different times of day.\\n\\nSTRICT REQUIREMENTS:\\n- The location, architecture, and composition must remain IDENTICAL across all 6 frames\\n- Only the lighting, sky, and atmospheric conditions should change\\n- Maintain consistent camera angle and framing\\n- No people or moving objects should change position\\n\\nTHE 6 TIME PERIODS:\\n1. DAWN (5-6 AM) - Pre-sunrise, deep blue sky with hints of orange on horizon, soft diffused light, quiet atmosphere\\n2. GOLDEN HOUR MORNING (7-8 AM) - Warm golden sunlight, long soft shadows, gentle glow on surfaces\\n3. MIDDAY (12 PM) - Harsh overhead sun, minimal shadows, bright and washed out colors, high contrast\\n4. GOLDEN HOUR EVENING (5-6 PM) - Rich warm orange/amber light, long dramatic shadows, romantic atmosphere\\n5. BLUE HOUR (7-8 PM) - Post-sunset, deep blue sky with warm artificial lights beginning to glow, twilight mood\\n6. NIGHT (10 PM+) - Dark sky, <<NIGHT_LIGHTING:select(moonlit with silver highlights,city lights and neon glow,streetlamp pools of light,dramatic noir lighting,starlit with minimal ambient)!>>\\n\\nArrange as a 2 row × 3 column grid. No labels or text overlays.<<STYLE:select(,Maintain photorealistic style,Maintain cinematic film style,Maintain painterly style,Maintain anime style)>>`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '3:2',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'TimeOfDay',\\n    categoryId: 'scenes',\\n  },\\n\\n  // Photo to Character Sheet (Isolation) - 3-stage pipeline for storybook\\n  {\\n    name: 'Photo to Character Sheet (Isolation)',\\n    description: 'Multi-stage: Extract character from photo → Apply art style → Generate character sheet. Best for single-photo input.',\\n    recipeNote: 'Attach: 1) Full-body photo of person, 2) Style guide for target art style. This version isolates the character first - use \\\"Multi-Ref\\\" version if you have multiple reference angles.',\\n    stages: [\\n      // STAGE 1: Isolate character from photo\\n      {\\n        id: 'stage_0',\\n        order: 0,\\n        template: `Analyze the attached photo and extract the person as an isolated character.\\n\\nCRITICAL LIKENESS PRESERVATION:\\n- Exact facial structure: bone structure, jaw shape, cheekbones, nose shape, eye shape and spacing\\n- Exact skin tone and undertones\\n- Exact hair: color, texture, style, length, hairline shape\\n- Exact body proportions: height, build, posture\\n- Exact distinguishing features: moles, freckles, scars, dimples, facial hair\\n\\nCreate a clean, full-body portrait on a simple neutral background.\\nRemove busy background elements while keeping the person COMPLETELY intact.\\nDo NOT alter, enhance, or \\\"improve\\\" any facial features.\\nThe isolated character must be IDENTICAL to the input photo.`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n      // STAGE 2: Stylize the isolated character\\n      {\\n        id: 'stage_1',\\n        order: 1,\\n        template: `Transform this character into <<STYLE_NAME:text!>> style.\\n\\nCRITICAL - ABSOLUTE LIKENESS PRESERVATION:\\nEven in stylized form, the character MUST be recognizable as the same person:\\n- Maintain exact facial proportions and structure\\n- Keep distinctive features (nose shape, eye spacing, jawline)\\n- Preserve exact skin tone relationships\\n- Keep exact hair style, texture, and color\\n- Maintain body proportions and posture\\n\\nSTYLE TRANSFER (use attached style guide reference image):\\n- Follow the style guide reference EXACTLY - it is the definitive visual\\n- Match the style guide's color palette and saturation\\n- Match line quality and rendering approach\\n- Match level of stylization (how simplified features become)\\n- Match lighting and shadow style\\n- Match edge treatment (sharp vs soft)\\n\\nThe result should look like THIS SPECIFIC PERSON drawn in the target art style.\\nNOT a generic character that vaguely resembles them.`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n      // STAGE 3: Generate character sheet\\n      {\\n        id: 'stage_2',\\n        order: 2,\\n        template: `Name/Tag: @<<CHARACTER_NAME:name!>>\\n\\nCreate a professional character reference sheet maintaining PERFECT LIKENESS.\\n\\nCRITICAL: Every view and expression must clearly be the SAME PERSON from previous stages.\\nFacial structure, proportions, and distinctive features must remain IDENTICAL across all views.\\n\\nCHARACTER SHEET LAYOUT (21:9 aspect ratio):\\n\\nLEFT SECTION - FULL BODY:\\n- Large neutral standing pose, front view (primary)\\n- Smaller side profile view\\n- Smaller back view (if space permits)\\n- Color palette strip: skin tone, hair color, eye color, main clothing colors\\n\\nRIGHT SECTION - EXPRESSIONS (2 rows × 5 columns):\\nRow 1: Neutral, Happy, Sad, Angry, Surprised\\nRow 2: Speaking, Shouting, Whispering, Smug/Confident, Scared\\n\\nTOP: Character name \\\"@<<CHARACTER_NAME:name!>>\\\" prominently displayed\\n\\nAll expressions must maintain the SAME face - only the expression changes, not the underlying structure.\\nWhite/light gray background. Clean, production-ready layout.\\nMaintain exact art style consistency from Stage 2.`,\\n        fields: [],\\n        referenceImages: [],\\n      }\\n    ],\\n    suggestedAspectRatio: '21:9',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'PhotoChar',\\n    categoryId: 'characters',\\n    isSystemOnly: true,  // Hidden from users, used internally by storybook\\n  },\\n\\n  // Photo to Character Sheet (Multi-Reference) - For multiple reference angles\\n  {\\n    name: 'Photo to Character Sheet (Multi-Ref)',\\n    description: 'Generate character sheet from multiple reference photos. Better likeness from multiple angles.',\\n    recipeNote: 'Attach: Multiple photos of the same person from different angles + style guide. More references = better likeness.',\\n    stages: [\\n      // STAGE 1: Analyze all references and stylize\\n      {\\n        id: 'stage_0',\\n        order: 0,\\n        template: `You have multiple reference photos of the SAME person from different angles.\\n\\nCRITICAL: Analyze ALL attached reference images to build a complete understanding of this person:\\n- Study facial structure from every available angle\\n- Note how features look from front, side, 3/4 view\\n- Identify consistent skin tone, hair texture, body proportions\\n- Catalog distinguishing features: moles, freckles, facial hair, scars\\n\\nNow transform this person into <<ART_STYLE:select(claymation,watercolor,cartoon,anime,3D animated,illustrated,storybook,Disney-style,Pixar-style)!>> style.\\n\\nABSOLUTE LIKENESS PRESERVATION:\\nEven in stylized form, someone who knows this person should recognize them instantly.\\nMaintain ALL distinctive features in stylized form.\\nUse the multiple angles to ensure 3D-consistent stylization.\\n\\nSTYLE TRANSFER (use attached style guide):\\n- Match style guide's color palette and saturation\\n- Match line quality and rendering approach\\n- Match level of stylization\\n- Match lighting and shadow style\\n\\nOutput: The character in stylized form, full body, clean background.`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n      // STAGE 2: Generate character sheet\\n      {\\n        id: 'stage_1',\\n        order: 1,\\n        template: `Name/Tag: @<<CHARACTER_NAME:name!>>\\n\\nCreate a professional character reference sheet.\\n\\nCRITICAL: Maintain PERFECT LIKENESS across all views - this must clearly be the same person from every angle.\\nUse your understanding from the multiple reference photos.\\n\\nCHARACTER SHEET LAYOUT (21:9 aspect ratio):\\n\\nLEFT SECTION - FULL BODY:\\n- Large neutral standing pose, front view (primary)\\n- Smaller side profile view\\n- Smaller back view (if space permits)\\n- Color palette strip: skin tone, hair color, eye color, main clothing colors\\n\\nRIGHT SECTION - EXPRESSIONS (2 rows × 5 columns):\\nRow 1: Neutral, Happy, Sad, Angry, Surprised\\nRow 2: Speaking, Shouting, Whispering, Smug/Confident, Scared\\n\\nTOP: Character name \\\"@<<CHARACTER_NAME:name!>>\\\" prominently displayed\\n\\nCONSISTENCY CHECK: All 10 expressions + all body views = SAME recognizable person.\\nWhite/light gray background. Clean, production-ready layout.`,\\n        fields: [],\\n        referenceImages: [],\\n      }\\n    ],\\n    suggestedAspectRatio: '21:9',\\n    isQuickAccess: false,\\n    quickAccessLabel: 'MultiRef',\\n    categoryId: 'characters',\\n  },\\n\\n  // Book Cover Generator - 2-stage pipeline for storybook\\n  {\\n    name: 'Book Cover Generator',\\n    description: 'Generate 9 book cover variations, select one, upscale to final quality',\\n    recipeNote: 'Attach: 1) Style guide, 2) Main character sheet. Enter book title.',\\n    stages: [\\n      // STAGE 1: Generate 9 cover variations in grid\\n      {\\n        id: 'stage_0',\\n        order: 0,\\n        template: `Create a 3x3 grid of 9 children's book cover variations.\\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\\n\\nBOOK TITLE: \\\"<<BOOK_TITLE:text!>>\\\"\\n\\nCRITICAL - MAINTAIN EXACT ART STYLE:\\nUse the attached style guide as your ABSOLUTE visual reference:\\n- Match color palette EXACTLY (same saturation, same hues)\\n- Match rendering style (painterly, flat, textured, 3D, etc.)\\n- Match line quality (thick outlines, thin lines, no outlines)\\n- Match lighting approach (soft, dramatic, flat)\\n- Match level of detail and stylization\\n\\nCRITICAL - MAINTAIN CHARACTER LIKENESS:\\nUse the attached character sheet for the main character:\\n- Same facial structure and proportions\\n- Same clothing/outfit style\\n- Same color scheme for character\\n- Character must be RECOGNIZABLE across all 9 covers\\n\\nCHILDREN'S BOOK COVER BEST PRACTICES:\\n- Title should be LARGE, READABLE, and positioned strategically\\n- Title font should match the book's tone (playful, adventurous, cozy)\\n- Character should be the FOCAL POINT and emotionally engaging\\n- Use bright, appealing colors that attract children\\n- Create visual hierarchy: Title → Character → Background\\n- Leave breathing room around the title\\n- Background should support the story mood without overwhelming\\n\\n9 VARIATION APPROACHES:\\n1. Character close-up with expressive face, title above\\n2. Character in action pose, title integrated into scene\\n3. Character with story-relevant props/elements\\n4. Dramatic silhouette with glowing/magical elements\\n5. Character in their world/environment\\n6. Whimsical/playful composition with fun angles\\n7. Classic centered composition with decorative border\\n8. Modern bold design with strong shapes\\n9. Adventure/journey feel with dynamic perspective\\n\\nAll 9 in <<ASPECT_RATIO:select(2:3,3:4,1:1,4:5)!>> aspect ratio.\\nNO mockup frames - just the cover art with BLACK GRID LINES separating cells.`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n      // STAGE 2: Upscale selected cover\\n      {\\n        id: 'stage_1',\\n        order: 1,\\n        template: `Take this book cover and enhance it to publication quality.\\n\\nMAINTAIN EXACTLY:\\n- The exact composition - do not crop or reframe\\n- The exact art style from the style guide\\n- The exact character likeness\\n- The title text and positioning\\n- All visual elements and their relationships\\n\\nENHANCE:\\n- Resolution and fine detail\\n- Color vibrancy and contrast\\n- Title text clarity and readability\\n- Edge definition and sharpness\\n- Texture detail in character and environment\\n\\nOutput a single high-quality children's book cover ready for print (300 DPI equivalent quality).`,\\n        fields: [],\\n        referenceImages: [],\\n      }\\n    ],\\n    suggestedAspectRatio: '2:3',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'BookCover',\\n    categoryId: 'scenes',\\n  },\\n\\n  // Story Page Variations - for storybook page-by-page generation\\n  {\\n    name: 'Story Page Variations',\\n    description: 'Generate 9 image variations for a single story page. Attach character sheet(s) and style guide.',\\n    recipeNote: 'Attach: 1) Character sheet(s), 2) Style guide. The 9 variations will be in a 3x3 grid with black separator lines for easy extraction.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `STORY MOMENT:\\n<<PAGE_TEXT:text!>>\\n\\nCreate a 3x3 grid (9 variations) illustrating this story moment for a children's book.\\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\\n\\nCRITICAL - ABSOLUTE STYLE CONSISTENCY:\\nMatch the attached style guide EXACTLY across all 9 cells:\\n- Same color palette and saturation\\n- Same rendering approach (painterly, flat, 3D, etc.)\\n- Same line quality and edge treatment\\n- Same lighting style and mood\\n- Same level of detail and stylization\\n\\nCRITICAL - ABSOLUTE CHARACTER CONSISTENCY:\\nMatch the attached character sheet(s) EXACTLY:\\n- Same facial structure and proportions\\n- Same body type and posture style\\n- Same clothing and color scheme\\n- Same hair style and color\\n- Character must be INSTANTLY RECOGNIZABLE in all 9 cells\\n\\n<<STYLE_NOTES:text>>\\n<<CHARACTER_NOTES:text>>\\n\\nTHE 9 COMPOSITION VARIATIONS:\\n1. WIDE ESTABLISHING - Full environment, characters smaller in scene\\n2. MEDIUM SCENE - Characters at medium distance, context visible\\n3. CHARACTER FOCUS - Close on character(s), emotion clear\\n4. ACTION MOMENT - Peak of action, dynamic energy\\n5. REACTION SHOT - Character's emotional response\\n6. ENVIRONMENT DETAIL - Focus on setting/props that matter to story\\n7. LOW ANGLE - Looking up, adds drama or wonder\\n8. HIGH ANGLE - Looking down, shows spatial relationship\\n9. CLASSIC STORYBOOK - Centered, balanced, traditional composition\\n\\nEach cell shows the SAME story moment, just framed differently.\\nNO text overlays in the images.\\nBlack grid lines between all cells.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'PageVar',\\n    categoryId: 'scenes',\\n  },\\n\\n  // Character Through Ages - Same character at different life stages\\n  {\\n    name: 'Character Through Ages',\\n    description: 'Show the same character at 9 different ages - from baby to elderly',\\n    recipeNote: 'Attach your character reference. The character will be shown at 9 life stages while maintaining their core identity and distinguishing features.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Analyze the reference character. This is @<<CHARACTER_NAME:name!>>.\\n\\nGenerate a 3x3 grid showing this SAME CHARACTER at 9 different life stages.\\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\\n\\nCRITICAL - IDENTITY PRESERVATION:\\nThroughout ALL ages, maintain the character's:\\n- Core facial structure proportions (adjusted for age appropriately)\\n- Distinctive features (birthmarks, dimples, nose shape, ear shape)\\n- Eye color and shape\\n- Ethnicity and skin tone\\n- Overall \\\"essence\\\" - they must be recognizably the SAME PERSON\\n\\nTHE 9 AGES (in order):\\n\\nROW 1 - CHILDHOOD:\\n1. BABY (0-1): Infant version, soft features, same distinctive markers\\n2. TODDLER (2-4): Playful, curious expression, developing features\\n3. CHILD (6-8): School age, personality emerging, same core features\\n\\nROW 2 - YOUTH TO ADULT:\\n4. PRETEEN (10-12): Transitioning features, recognizable identity\\n5. TEENAGER (15-17): Young adult features forming, same person clearly\\n6. YOUNG ADULT (25-30): Prime of life, full adult features\\n\\nROW 3 - MATURITY:\\n7. MIDDLE AGE (45-50): Some aging signs, same core identity\\n8. SENIOR (65-70): Gray hair, wrinkles, but still recognizably them\\n9. ELDERLY (80+): Advanced age, wisdom in eyes, same person\\n\\nEach cell shows a portrait (shoulders-up or chest-up) with appropriate:\\n- Age-appropriate hairstyle (but consistent hair texture/color until graying)\\n- Age-appropriate clothing style for each era\\n- Age-appropriate expression and demeanor\\n\\n<<ART_STYLE:select(realistic,illustrated,3D animated,painterly,claymation)>>\\n\\nBlack grid lines between all cells. No text labels.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'Ages',\\n    categoryId: 'characters',\\n  },\\n\\n  // Character Generator - Generate 9 unique character designs from basic traits\\n  {\\n    name: 'Character Generator',\\n    description: 'Generate 9 unique character designs from basic traits. Pick your favorite to become your main character.',\\n    recipeNote: 'Attach your style guide. Enter character traits (age, gender, distinctive features). Get 9 unique designs to choose from!',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Generate a 3x3 grid of 9 COMPLETELY UNIQUE character designs for a children's book.\\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\\n\\nCRITICAL - MATCH THE ATTACHED STYLE GUIDE EXACTLY:\\n- Same color palette and saturation\\n- Same rendering style (painterly, flat, 3D, claymation, etc.)\\n- Same line quality and edge treatment\\n- Same level of stylization\\n- Same lighting approach\\n\\nALL 9 CHARACTERS MUST SHARE THESE TRAITS:\\n- Gender: <<GENDER:select(girl,boy,non-binary)!>>\\n- Age: <<AGE:select(toddler (2-4),young child (5-7),older child (8-10),preteen (11-13))!>>\\n- Ethnicity: <<ETHNICITY:select(Black,White,Asian,Hispanic/Latino,South Asian,Middle Eastern,Mixed/Multiracial,Indigenous,any)!>>\\n<<DISTINCTIVE_FEATURES:text>>\\n\\nBUT EACH CHARACTER MUST BE COMPLETELY DIFFERENT IN:\\n- Face shape and features (round, oval, angular, etc.)\\n- Hair style (braids, locs, curly, straight, short, long, ponytail, etc.)\\n- Hair color (if appropriate for ethnicity)\\n- Body type (tall, short, thin, chubby, athletic)\\n- Clothing style (casual, sporty, dressy, artistic, etc.)\\n- Personality expressed through pose/expression (shy, confident, curious, playful, etc.)\\n\\nLAYOUT: Each cell shows ONE character in a full-body pose with clean background.\\nShow personality through pose and expression.\\nMake each character instantly distinguishable from the others.\\nThese should feel like 9 different main characters, not variations of the same person.\\n\\nNo text labels. Black grid lines between cells.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'CharGen',\\n    categoryId: 'characters',\\n  },\\n\\n  // Wardrobe Variations - Character in different outfits (user specifies each)\\n  {\\n    name: 'Wardrobe Variations',\\n    description: 'Generate 6 variations of your character in different outfits you specify',\\n    recipeNote: 'Attach your character reference. Specify what outfit/look goes in each cell, or leave blank for random luxury outfits.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Analyze the character in the reference image. This is @<<CHARACTER_NAME:name!>>.\\n\\nCreate a 2x3 grid (2 rows, 3 columns) showing this EXACT same character in 6 different outfits.\\n\\nCRITICAL - MAINTAIN ACROSS ALL 6 CELLS:\\n- Identical face, facial features, expression style\\n- Same hair style and color\\n- Same body type and proportions\\n- Same art style and rendering quality\\n- Same age and overall appearance\\n\\nEACH CELL LAYOUT:\\n- <<BACKGROUND_COLOR:select(white,light gray,soft blue,cream,pale pink,mint green)!>> background\\n- Full body view showing complete outfit\\n- Clean, production-ready framing\\n\\nTHE 6 OUTFITS (Row 1, Col 1 → Row 2, Col 3):\\nRow 1, Col 1: <<OUTFIT_1:text>>\\nRow 1, Col 2: <<OUTFIT_2:text>>\\nRow 1, Col 3: <<OUTFIT_3:text>>\\nRow 2, Col 1: <<OUTFIT_4:text>>\\nRow 2, Col 2: <<OUTFIT_5:text>>\\nRow 2, Col 3: <<OUTFIT_6:text>>\\n\\nIf any outfit field is empty, generate a creative luxury outfit variation.\\nEach outfit should be COMPLETELY DIFFERENT in style, silhouette, and color palette.\\nNo text labels - clean imagery only.`,\\n      fields: [],\\n      referenceImages: [\\n        {\\n          id: 'template_wardrobe_grid',\\n          url: SYSTEM_TEMPLATE_URLS.wardrobeGrid,\\n          name: 'Wardrobe 2x3 Grid Layout',\\n          aspectRatio: '16:9',\\n        },\\n      ],\\n    }],\\n    suggestedAspectRatio: '16:9',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'Wardrobe',\\n    categoryId: 'characters',\\n  },\\n\\n  // Eye Level Grid - Standard eye-level shots with user-selected sizes\\n  {\\n    name: 'Eye Level Grid',\\n    description: '3x3 grid with your image centered. All shots at eye level. Choose 8 shot sizes for surrounding frames.',\\n    recipeNote: 'Attach a reference image. It goes in the center. Pick sizes for the 8 surrounding frames - all at eye level.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Create a 3x3 cinematic contact sheet with the attached image as CENTER reference.\\n\\nCAMERA ANGLE: EYE LEVEL (straight on, neutral perspective) - LOCKED for all 8 frames\\nIMPORTANT: Separate each cell with solid BLACK LINE (4-6 pixels wide).\\n\\nTHE 8 FRAMES (all eye level, only size varies):\\n1. Top-Left: <<FRAME_1:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n2. Top-Center: <<FRAME_2:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n3. Top-Right: <<FRAME_3:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n4. Middle-Left: <<FRAME_4:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n5. Middle-Right: <<FRAME_5:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n6. Bottom-Left: <<FRAME_6:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n7. Bottom-Center: <<FRAME_7:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n8. Bottom-Right: <<FRAME_8:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n\\nCENTER: Use attached reference image as-is\\n\\nREQUIREMENTS:\\n- ALL 8 frames: EYE LEVEL (camera at subject's eye height, straight on)\\n- Identical subject, outfit, environment, lighting\\n- Depth of field: shallower for tighter shots\\n- Black grid lines between all 9 cells\\n- No labels or text overlays`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'EyeLevel',\\n    categoryId: 'scenes',\\n  },\\n\\n  // Low Angle Grid - All shots looking up at subject\\n  {\\n    name: 'Low Angle Grid',\\n    description: '3x3 grid with your image centered. All shots from low angle looking UP. Choose 8 shot sizes.',\\n    recipeNote: 'Attach a reference image. It goes in the center. Pick sizes for the 8 surrounding frames - all looking UP at subject.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Create a 3x3 cinematic contact sheet with the attached image as CENTER reference.\\n\\nCAMERA ANGLE: LOW ANGLE (worm's eye, looking UP at subject) - LOCKED for all 8 frames\\nIMPORTANT: Separate each cell with solid BLACK LINE (4-6 pixels wide).\\n\\nTHE 8 FRAMES (all low angle, only size varies):\\n1. Top-Left: <<FRAME_1:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n2. Top-Center: <<FRAME_2:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n3. Top-Right: <<FRAME_3:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n4. Middle-Left: <<FRAME_4:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n5. Middle-Right: <<FRAME_5:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n6. Bottom-Left: <<FRAME_6:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n7. Bottom-Center: <<FRAME_7:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n8. Bottom-Right: <<FRAME_8:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n\\nCENTER: Use attached reference image as-is\\n\\nREQUIREMENTS:\\n- ALL 8 frames: LOW ANGLE (camera below, looking up at subject - heroic/powerful perspective)\\n- Identical subject, outfit, environment, lighting\\n- Depth of field: shallower for tighter shots\\n- Black grid lines between all 9 cells\\n- No labels or text overlays`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'LowAngle',\\n    categoryId: 'scenes',\\n  },\\n\\n  // High Angle Grid - All shots looking down at subject\\n  {\\n    name: 'High Angle Grid',\\n    description: '3x3 grid with your image centered. All shots from high angle looking DOWN. Choose 8 shot sizes.',\\n    recipeNote: 'Attach a reference image. It goes in the center. Pick sizes for the 8 surrounding frames - all looking DOWN at subject.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Create a 3x3 cinematic contact sheet with the attached image as CENTER reference.\\n\\nCAMERA ANGLE: HIGH ANGLE (bird's eye, looking DOWN at subject) - LOCKED for all 8 frames\\nIMPORTANT: Separate each cell with solid BLACK LINE (4-6 pixels wide).\\n\\nTHE 8 FRAMES (all high angle, only size varies):\\n1. Top-Left: <<FRAME_1:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n2. Top-Center: <<FRAME_2:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n3. Top-Right: <<FRAME_3:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n4. Middle-Left: <<FRAME_4:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n5. Middle-Right: <<FRAME_5:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n6. Bottom-Left: <<FRAME_6:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n7. Bottom-Center: <<FRAME_7:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n8. Bottom-Right: <<FRAME_8:select(Extreme Close-Up,Big Close-Up,Close-Up,Medium Close-Up,Medium Shot,Medium Wide Shot,Wide Shot,Extreme Wide Shot)!>>\\n\\nCENTER: Use attached reference image as-is\\n\\nREQUIREMENTS:\\n- ALL 8 frames: HIGH ANGLE (camera above, looking down at subject - diminishing/overview perspective)\\n- Identical subject, outfit, environment, lighting\\n- Depth of field: shallower for tighter shots\\n- Black grid lines between all 9 cells\\n- No labels or text overlays`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'HighAngle',\\n    categoryId: 'scenes',\\n  },\\n\\n  // Wide Shot Grid - Environmental focus with wider shots\\n  {\\n    name: 'Wide Shot Grid',\\n    description: '3x3 grid with your image centered. Environmental focus with wider shot options. Choose 8 shot sizes.',\\n    recipeNote: 'Attach a reference image. It goes in the center. Pick sizes for the 8 surrounding frames - biased toward establishing/environmental shots.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Create a 3x3 cinematic contact sheet with the attached image as CENTER reference.\\n\\nCAMERA ANGLE: EYE LEVEL (environmental/establishing focus) - LOCKED for all 8 frames\\nIMPORTANT: Separate each cell with solid BLACK LINE (4-6 pixels wide).\\n\\nTHE 8 FRAMES (eye level, wide shot bias, only size varies):\\n1. Top-Left: <<FRAME_1:select(Extreme Wide Shot,Wide Shot,Medium Wide Shot,Medium Shot,Full Body Shot,Establishing Shot,Environmental Shot,Vista Shot)!>>\\n2. Top-Center: <<FRAME_2:select(Extreme Wide Shot,Wide Shot,Medium Wide Shot,Medium Shot,Full Body Shot,Establishing Shot,Environmental Shot,Vista Shot)!>>\\n3. Top-Right: <<FRAME_3:select(Extreme Wide Shot,Wide Shot,Medium Wide Shot,Medium Shot,Full Body Shot,Establishing Shot,Environmental Shot,Vista Shot)!>>\\n4. Middle-Left: <<FRAME_4:select(Extreme Wide Shot,Wide Shot,Medium Wide Shot,Medium Shot,Full Body Shot,Establishing Shot,Environmental Shot,Vista Shot)!>>\\n5. Middle-Right: <<FRAME_5:select(Extreme Wide Shot,Wide Shot,Medium Wide Shot,Medium Shot,Full Body Shot,Establishing Shot,Environmental Shot,Vista Shot)!>>\\n6. Bottom-Left: <<FRAME_6:select(Extreme Wide Shot,Wide Shot,Medium Wide Shot,Medium Shot,Full Body Shot,Establishing Shot,Environmental Shot,Vista Shot)!>>\\n7. Bottom-Center: <<FRAME_7:select(Extreme Wide Shot,Wide Shot,Medium Wide Shot,Medium Shot,Full Body Shot,Establishing Shot,Environmental Shot,Vista Shot)!>>\\n8. Bottom-Right: <<FRAME_8:select(Extreme Wide Shot,Wide Shot,Medium Wide Shot,Medium Shot,Full Body Shot,Establishing Shot,Environmental Shot,Vista Shot)!>>\\n\\nCENTER: Use attached reference image as-is\\n\\nREQUIREMENTS:\\n- ALL 8 frames: Show MORE ENVIRONMENT than subject\\n- Establish context, location, atmosphere\\n- Identical subject, outfit, environment, lighting\\n- Deeper depth of field to show environmental detail\\n- Black grid lines between all 9 cells\\n- No labels or text overlays`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'WideShots',\\n    categoryId: 'scenes',\\n  },\\n\\n  // 5 Minutes Later - Time progression from a single action\\n  {\\n    name: '5 Minutes Later',\\n    description: 'Show time progression of an action through 9 frames - from normal state to consequences',\\n    recipeNote: 'Attach a starting image (person in normal state). Enter what action they decide to do. The 9 frames show the progression from decision to consequences.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Analyze the reference image. This is the STARTING STATE - the person in their normal life before making a decision.\\n\\nGenerate a 3x3 grid showing a TIME PROGRESSION narrative of what happens after this person decides to: <<ACTION:text!>>\\n\\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\\n\\nCRITICAL - ABSOLUTE CONSISTENCY:\\n- SAME person (exact face, body, features) in all 9 frames\\n- Only clothing changes if the story requires it\\n- Art style remains PERFECTLY consistent\\n- Each frame shows a different MOMENT IN TIME\\n\\nTHE 9 FRAMES (Time Progression):\\n\\nROW 1 - THE DECISION (0-5 minutes):\\n1. NORMAL STATE: The person in their everyday life, as shown in the reference image. Peaceful, mundane, routine.\\n2. THE IDEA: A thought bubble or expression showing they're considering the action. Internal conflict visible.\\n3. PREPARATION: Making ready - gathering items, making a plan, the moment before commitment.\\n\\nROW 2 - THE ACTION (5-30 minutes):\\n4. POINT OF NO RETURN: The decisive moment - stepping through the door, making the call, starting the action.\\n5. IN THE MIDDLE: Deep in the action - fully committed, adrenaline, focus, the peak of the event.\\n6. IMMEDIATE AFTERMATH: The action complete - catching breath, looking at what they've done, first reaction.\\n\\nROW 3 - THE CONSEQUENCES (30 minutes - hours later):\\n7. RIPPLES BEGIN: First signs of consequences - other people noticing, things changing, domino effects starting.\\n8. FULL CONSEQUENCES: The weight of the decision fully realized - emotional, social, or physical impact visible.\\n9. NEW NORMAL: The final state - how their life has changed, for better or worse, the new equilibrium.\\n\\nVISUAL STORYTELLING:\\n- Use lighting to show mood progression (warm → tense → cool or vice versa)\\n- Vary shot types: wide establishing → medium → close-up for emotional beats\\n- Time-of-day can progress to show passage of time\\n- Environmental details should reflect consequences (messy vs clean, crowded vs empty)\\n\\n<<TONE:select(comedic/lighthearted,dramatic/serious,absurdist/surreal,wholesome/heartwarming,dark comedy)!>>\\n<<TIME_SPAN:select(5 minutes to 1 hour,1 hour to 1 day,1 day to 1 week,instant to lifetime)!>>\\n\\nThe story should be VISUALLY CLEAR without text.\\nBlack grid lines between all cells. No dialogue or captions.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: '5MinLater',\\n    categoryId: 'time-based',\\n  },\\n\\n  // ============================================================================\\n  // NEW RECIPES FROM NANO BANANA PRO COMMUNITY\\n  // ============================================================================\\n\\n  // Professional Headshot - Transform any photo into polished headshot\\n  {\\n    name: 'Professional Headshot',\\n    description: 'Transform any photo into a polished professional headshot for LinkedIn, websites, or corporate use',\\n    recipeNote: 'Upload a photo of the person. Choose style, lighting, and background options.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Keep facial features EXACTLY consistent with reference image.\\nPreserve: face shape, eye color, skin tone, distinctive features, facial structure.\\n\\nSTYLE: <<STYLE:select(Corporate LinkedIn,Creative Industry,Executive Portrait,Casual Professional,Academic/Research,Tech Startup,Real Estate Agent,Healthcare Professional)!>>\\n\\nLIGHTING: <<LIGHTING:select(Bright Studio (clean/corporate),Soft Natural Window Light,Dramatic Rim Light,High Key (bright/airy),Golden Hour Warmth,Split Light (artistic),Loop Lighting (classic portrait))!>>\\n\\nBACKGROUND: <<BACKGROUND:select(Pure White,Soft Gray Gradient,Blurred Office Environment,Gradient Blue (professional),Dark Professional,Natural Bokeh,Architectural Elements)!>>\\n\\nFRAMING: Professional headshot framing\\n- Shoulders up, centered composition\\n- Head occupies 60-70% of vertical frame\\n- Eyes at upper third intersection\\n- Slight negative space above head\\n\\nQUALITY REQUIREMENTS:\\n- Shot on professional camera with 85mm f/1.4 lens equivalent\\n- High-resolution, tack sharp focus on eyes\\n- Natural skin texture, subtle retouching\\n- Professional color grading\\n- Clean, polished final look suitable for business use`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'Headshot',\\n    categoryId: 'characters',\\n  },\\n\\n  // Virtual Try-On - See yourself in different clothing\\n  {\\n    name: 'Virtual Try-On',\\n    description: 'Composite clothing onto a person - perfect for fashion visualization',\\n    recipeNote: 'Attach: 1) Photo of person (full body or upper body), 2) Photo of garment/clothing item. The AI will dress the person in the garment.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `VIRTUAL TRY-ON TASK:\\nDress the person in the provided garment while maintaining their exact identity.\\n\\nCRITICAL - PRESERVE EXACTLY:\\n- Face: identical facial features, expression, skin tone\\n- Body: same body type, proportions, pose (adjust naturally for clothing)\\n- Hair: identical style, color, and arrangement\\n- Accessories: keep any jewelry, glasses, watches unless they conflict with garment\\n\\nGARMENT APPLICATION:\\n- Fit the garment naturally to the person's body type\\n- Maintain garment's original color, texture, and details\\n- Add realistic fabric physics (draping, folding, stretching)\\n- Match lighting on garment to scene lighting\\n- Add appropriate shadows where garment meets body\\n\\n<<FIT_STYLE:select(True to size,Slightly oversized,Fitted/tailored,Loose/relaxed)>>\\n<<SETTING:select(Keep original background,Clean studio white,Fashion editorial backdrop,Casual lifestyle setting,E-commerce product shot)!>>\\n\\nOUTPUT: Photorealistic image of the person wearing the garment.\\nShould look like an actual photo, not a composite.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '3:4',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'TryOn',\\n    categoryId: 'products',\\n  },\\n\\n  // Magazine Cover - Create editorial magazine covers\\n  {\\n    name: 'Magazine Cover',\\n    description: 'Transform a photo into a professional magazine cover with titles and layouts',\\n    recipeNote: 'Attach a photo of the subject. Enter magazine name and headline. Choose a color scheme.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Create a professional magazine cover featuring the subject from the reference image.\\n\\nMAGAZINE: \\\"<<MAGAZINE_NAME:text!>>\\\"\\nHEADLINE: \\\"<<HEADLINE:text!>>\\\"\\n<<SUBHEADLINES:text>>\\n\\nSUBJECT TREATMENT:\\n- Keep subject's exact likeness\\n- Frame as hero/cover shot (typically chest-up or 3/4 body)\\n- Add editorial-quality lighting and color grading\\n- High fashion/editorial styling feel\\n\\nLAYOUT STYLE: <<LAYOUT:select(Classic Fashion (Vogue style),Modern Minimalist,Bold Typography,Luxury Lifestyle,Entertainment Weekly style,Business/Forbes style,Sports Illustrated style)!>>\\n\\nCOLOR SCHEME: <<COLORS:select(Classic White/Black,Bold Red Accent,Luxury Gold,Cool Blues,Warm Neutrals,Vibrant Pop Colors,Monochromatic)!>>\\n\\nTYPOGRAPHY:\\n- Magazine title prominently at top\\n- Main headline as largest text\\n- 2-3 smaller subheadlines/teasers\\n- Text should NOT obscure the subject's face\\n- Professional editorial typography\\n\\nQUALITY: High-end glossy magazine finish, ready for print.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '2:3',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'Magazine',\\n    categoryId: 'products',\\n  },\\n\\n  // Infographic Generator - Visual explanation of any topic\\n  {\\n    name: 'Infographic Generator',\\n    description: 'Generate a visual infographic explaining any topic with icons and illustrations',\\n    recipeNote: 'Enter the topic to explain. The AI will create a visual infographic with icons, illustrations, and clear visual hierarchy.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Create an engaging visual infographic about: <<TOPIC:text!>>\\n\\n<<ADDITIONAL_DETAILS:text>>\\n\\nSTYLE: <<STYLE:select(Modern Flat Design,Isometric 3D,Hand-Drawn Sketch,Corporate Professional,Playful/Fun,Technical/Scientific,Retro/Vintage)!>>\\n\\nCOLOR SCHEME: <<COLORS:select(Corporate Blues,Nature Greens,Warm Sunset,Monochrome,Vibrant Rainbow,Pastel Soft,Dark Mode)!>>\\n\\nINFOGRAPHIC REQUIREMENTS:\\n- Clear visual hierarchy (most important info largest)\\n- Icons and illustrations to represent concepts\\n- Data visualization if applicable (charts, graphs)\\n- Visual flow that guides the eye top-to-bottom or left-to-right\\n- Consistent icon style throughout\\n- Balanced white space\\n- Easy to understand at a glance\\n\\nSECTIONS TO INCLUDE:\\n1. Title/Header with main topic\\n2. Key statistics or facts (3-5 main points)\\n3. Visual representations of processes or relationships\\n4. Supporting icons and illustrations\\n5. Conclusion or call-to-action\\n\\nTEXT: Include minimal, essential text labels.\\nThe visuals should communicate the core ideas even without reading.\\n\\nOutput a single cohesive infographic image.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '9:16',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'Infograph',\\n    categoryId: 'custom',\\n  },\\n\\n  // Product Photography - Professional product shots\\n  {\\n    name: 'Product Photography',\\n    description: 'Transform product photos into professional e-commerce/advertising quality shots',\\n    recipeNote: 'Attach a photo of the product. Choose lighting, background, and styling options.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Create a professional product photograph of the item in the reference image.\\n\\nPRODUCT PRESERVATION:\\n- Maintain exact product shape, colors, textures, and branding\\n- Keep all logos, text, and details sharp and readable\\n- Preserve material properties (glossy, matte, metallic, etc.)\\n\\nLIGHTING STYLE: <<LIGHTING:select(Soft Box Studio,Hard Light Dramatic,Natural Window Light,Gradient Sweep,Rim/Edge Lighting,High Key Bright,Low Key Moody,Golden Hour)!>>\\n\\nBACKGROUND: <<BACKGROUND:select(Pure White (e-commerce),Gradient Gray,Contextual Lifestyle,Solid Color Pop,Textured Surface,Floating/Shadow Only,Environmental Setting)!>>\\n\\nANGLE/COMPOSITION: <<ANGLE:select(Hero Front View,45-Degree Beauty Shot,Top-Down Flat Lay,Side Profile,3/4 Perspective,Detail Close-Up)!>>\\n\\nSTYLING: <<STYLING:select(Minimal Clean,Props and Accessories,Lifestyle Context,Luxury Premium,Playful and Fun,Technical/Industrial)>>\\n\\nQUALITY REQUIREMENTS:\\n- Advertising/e-commerce quality\\n- Sharp focus throughout product\\n- Professional color accuracy\\n- Clean, distraction-free composition\\n- Ready for print or web use`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'Product',\\n    categoryId: 'products',\\n  },\\n\\n  // Split View 3D Render - Realistic vs technical visualization\\n  {\\n    name: 'Split View 3D',\\n    description: 'Create a split-view image showing realistic render on one side and wireframe/technical on the other',\\n    recipeNote: 'Attach an image of an object, character, or scene. The AI will create a dramatic split showing photorealistic vs technical view.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Create a SPLIT VIEW visualization of the subject from the reference image.\\n\\nSPLIT STYLE: <<SPLIT:select(Left Realistic / Right Wireframe,Top Realistic / Bottom Technical,Diagonal Split,Center Explode View,Fade Transition)!>>\\n\\nLEFT/TOP SIDE - PHOTOREALISTIC:\\n- Fully rendered photorealistic visualization\\n- Proper materials, textures, and lighting\\n- Studio-quality rendering\\n- Complete, finished look\\n\\nRIGHT/BOTTOM SIDE - TECHNICAL: <<TECHNICAL_STYLE:select(Wireframe Mesh,Blueprint Schematic,X-Ray/Cutaway,Construction Lines,Low-Poly Geometric,Technical Drawing,Exploded Components)!>>\\n\\nSUBJECT TREATMENT:\\n- Both views show the SAME subject from the SAME angle\\n- Seamless transition at the split point\\n- Technical side should reveal internal structure or construction\\n- Maintain consistent lighting direction across both halves\\n\\nCOLOR SCHEME FOR TECHNICAL SIDE: <<TECH_COLORS:select(Classic Blue Blueprint,Green Matrix/Tech,Orange Wireframe,White on Black,Cyan/Magenta,Gradient Neon)!>>\\n\\nOUTPUT: Single image with dramatic split visualization.\\nProfessional quality suitable for portfolio, presentation, or advertising.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '16:9',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'SplitView',\\n    categoryId: 'products',\\n  },\\n\\n  // Viral Thumbnail - Eye-catching video thumbnails\\n  {\\n    name: 'Viral Thumbnail',\\n    description: 'Create eye-catching YouTube/TikTok thumbnails with dramatic expressions and text',\\n    recipeNote: 'Attach a photo of the person. Enter the video title/hook. Choose an emotion style.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Create a viral-worthy video thumbnail for: \\\"<<VIDEO_TITLE:text!>>\\\"\\n\\nSUBJECT FROM REFERENCE IMAGE:\\n- Keep exact facial features and identity\\n- AMPLIFY the expression for thumbnail impact\\n\\nEXPRESSION/EMOTION: <<EMOTION:select(Shocked/Surprised (wide eyes open mouth),Excited/Hyped,Curious/Intrigued,Angry/Frustrated,Laughing/Joy,Mind-Blown,Skeptical/Side-Eye,Crying/Emotional)!>>\\n\\nTHUMBNAIL STYLE: <<STYLE:select(YouTube Classic (bold text + face),MrBeast Style (extreme expression),Tech Review (clean + product),Vlog Style (lifestyle),Educational (professional),Gaming/Reaction,Clickbait Maximum)!>>\\n\\nTEXT TREATMENT:\\n- Title or hook text: LARGE, BOLD, READABLE\\n- Maximum 3-5 words visible\\n- High contrast against background\\n- Slight outline/shadow for readability\\n\\nVISUAL ELEMENTS: <<ELEMENTS:select(Arrows and circles pointing at something,Emoji overlays,Before/After split,Money/Numbers,Red X or Green Checkmark,Fire or Explosion effects,Question marks)>>\\n\\nBACKGROUND: <<BACKGROUND:select(Blurred context,Solid bright color,Gradient,Scene from video,Abstract pattern)!>>\\n\\nREQUIREMENTS:\\n- MUST be readable at small size (mobile feed)\\n- Maximum visual impact in 1 second\\n- Face should occupy 40-60% of frame\\n- Text should not cover eyes\\n- Bright, saturated colors`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '16:9',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'Thumbnail',\\n    categoryId: 'custom',\\n  },\\n\\n  // Same Face Different Scenes - Consistent character across locations\\n  {\\n    name: 'Same Face Different Scenes',\\n    description: 'Generate 9 images of the same person in completely different scenes/locations while maintaining perfect likeness',\\n    recipeNote: 'Attach a photo of the person. The AI will place them in 9 different environments while keeping their face identical.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Analyze the person in the reference image. Generate a 3x3 grid showing this EXACT SAME PERSON in 9 completely different scenes.\\nIMPORTANT: Separate each cell with a solid BLACK LINE (4-6 pixels wide) for clean extraction.\\n\\nCRITICAL - ABSOLUTE FACE CONSISTENCY:\\n- IDENTICAL facial features in every single frame\\n- Same face shape, eye color, nose, mouth, skin tone\\n- Same hair color and general style (can be styled differently)\\n- This must CLEARLY be the same person in all 9 images\\n- Age consistency - same person, same age throughout\\n\\nTHE 9 SCENES:\\n\\nROW 1 - URBAN/MODERN:\\n1. Coffee Shop: Cozy café setting, warm lighting, casual atmosphere\\n2. City Street: Urban environment, modern architecture, street style\\n3. Office/Workspace: Professional setting, clean modern office\\n\\nROW 2 - NATURE/OUTDOOR:\\n4. Beach: Ocean in background, golden hour lighting, relaxed vibe\\n5. Forest/Mountain: Natural setting, adventure feel, outdoor clothing\\n6. Garden/Park: Flowers or greenery, peaceful, natural light\\n\\nROW 3 - DRAMATIC/SPECIAL:\\n7. Studio Portrait: Clean background, professional lighting, editorial quality\\n8. Night Scene: City lights, dramatic lighting, evening atmosphere\\n9. Fantasy/Creative: <<CREATIVE_SCENE:select(Futuristic sci-fi,Medieval castle,Underwater,Space station,Magical forest,Art gallery,Red carpet event,Sports arena)!>>\\n\\nCLOTHING: Appropriate for each scene but consistent with person's style.\\nLIGHTING: Natural and appropriate for each environment.\\nQUALITY: High-resolution, professional photography quality.\\n\\nBlack grid lines between all 9 cells. No text labels.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '1:1',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'SameFace',\\n    categoryId: 'characters',\\n  },\\n\\n  // Action Figure Box - Turn anyone into a collectible figure\\n  {\\n    name: 'Action Figure Box',\\n    description: 'Transform a person into a collectible action figure in retail packaging',\\n    recipeNote: 'Attach a photo of the person. Enter their name/title. The AI will create a realistic action figure in packaging.',\\n    stages: [{\\n      id: 'stage_0',\\n      order: 0,\\n      template: `Transform the person from the reference image into a collectible action figure in retail packaging.\\n\\nFIGURE NAME: \\\"<<FIGURE_NAME:text!>>\\\"\\n<<TAGLINE:text>>\\n\\nPACKAGING STYLE: <<STYLE:select(Classic Action Figure (Hasbro/Mattel style),Funko Pop! Style,Premium Collector Edition,Vintage 80s/90s Retro,Japanese Import (anime style),Designer Art Toy,Sports Card + Figure,Barbie/Fashion Doll Style)!>>\\n\\nFIGURE REQUIREMENTS:\\n- Face is a miniature version of the reference person (stylized appropriately)\\n- Full body figure in dynamic or signature pose\\n- Realistic figure materials (plastic, vinyl, articulation points visible)\\n- Detailed accessories and props that suit the character\\n\\nPACKAGING ELEMENTS:\\n- Clear plastic bubble/window showing figure\\n- Cardboard backing with artwork and branding\\n- Name prominently displayed\\n- Age rating, brand logo, collector series info\\n- 2-3 accessories visible in package\\n\\nBACKGROUND/SETTING: <<SETTING:select(Retail shelf with other toys,Clean product photography white,Collector display case,Toy store environment,Dramatic spotlight)!>>\\n\\nQUALITY: Photorealistic render of actual product packaging.\\nShould look like a real toy you could buy in stores.`,\\n      fields: [],\\n      referenceImages: [],\\n    }],\\n    suggestedAspectRatio: '3:4',\\n    isQuickAccess: true,\\n    quickAccessLabel: 'ActionFig',\\n    categoryId: 'products',\\n  },\\n\\n  // =============================================================================\\n  // STORYBOOK SYSTEM RECIPES (hidden from regular users, used internally)\\n  // =============================================================================\\n\\n  // Storybook Character Sheet - 3-stage pipeline for generating character sheets\\n  // Stage 0: Isolate character from photo\\n  // Stage 1: Transform to custom art style\\n  // Stage 2: Generate character sheet with expressions\\n  {\\n    name: 'Storybook Character Sheet',\\n    description: 'Generate character sheet from photo for storybook using 3-stage pipeline: isolate, stylize, sheet generation',\\n    recipeNote: 'This recipe is used internally by the Storybook feature. Requires: source photo, style guide image, and character sheet template.',\\n    stages: [\\n      // STAGE 0: Isolate character on white background\\n      {\\n        id: 'stage_0',\\n        order: 0,\\n        template: `Extract the person from this photo as a clean, isolated character portrait.\\n\\nCRITICAL LIKENESS PRESERVATION:\\n- Exact facial structure: bone structure, jaw shape, cheekbones, nose shape, eye shape and spacing\\n- Exact skin tone and undertones\\n- Exact hair: color, texture, style, length, hairline shape\\n- Exact body proportions: height, build, posture\\n- Exact distinguishing features: moles, freckles, scars, dimples, facial hair\\n\\nOUTPUT:\\n- Full-body standing pose on clean WHITE background\\n- Neutral expression, relaxed posture\\n- Soft studio lighting\\n- Remove all background elements completely\\n- Do NOT alter, enhance, or \\\"improve\\\" any facial features\\n- The isolated character must be IDENTICAL to the input photo`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n      // STAGE 1: Transform to custom art style\\n      {\\n        id: 'stage_1',\\n        order: 1,\\n        template: `Transform this isolated character into <<STYLE_NAME:text!>> style.\\n\\nCRITICAL INSTRUCTIONS:\\n- Follow the attached style guide reference EXACTLY\\n- Do NOT deviate from the style shown in the reference\\n- The style guide is the definitive visual reference - words are open to interpretation, images are not\\n\\nABSOLUTE LIKENESS PRESERVATION (even in stylized form):\\n- Maintain exact facial proportions and structure\\n- Keep distinctive features (nose shape, eye spacing, jawline)\\n- Preserve exact skin tone relationships\\n- Keep exact hair style, texture, and color\\n- Maintain body proportions and posture\\n\\nSTYLE TRANSFER FROM REFERENCE:\\n- Match the color palette and saturation exactly\\n- Match line quality and rendering approach\\n- Match level of stylization (how simplified features become)\\n- Match lighting and shadow style\\n- Match edge treatment (sharp vs soft)\\n\\nThe result should look like THIS SPECIFIC PERSON drawn in the <<STYLE_NAME:text!>> style.\\nNOT a generic character that vaguely resembles them.\\nOutput on clean white background.`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n      // STAGE 2: Generate character sheet with expressions\\n      {\\n        id: 'stage_2',\\n        order: 2,\\n        template: `CHARACTER: @<<CHARACTER_NAME:name!>>\\n\\nCreate a professional character reference sheet matching the attached template layout.\\n\\nCRITICAL: Every view and expression must clearly be the SAME PERSON from previous stages.\\nFacial structure, proportions, and distinctive features must remain IDENTICAL across all views.\\n\\nCHARACTER SHEET LAYOUT (21:9 aspect ratio):\\n\\nLEFT SECTION - FULL BODY:\\n- Large neutral standing pose, front view (primary reference)\\n- Smaller side profile view\\n- Smaller back view (if space permits)\\n- Color palette strip: skin tone, hair color, eye color, main clothing colors\\n\\nRIGHT SECTION - EXPRESSIONS (2 rows × 5 columns):\\nRow 1: Neutral, Happy, Sad, Angry, Surprised\\nRow 2: Speaking, Shouting, Whispering, Smug/Confident, Scared\\n\\nTOP: Character name \\\"@<<CHARACTER_NAME:name!>>\\\" prominently displayed\\n\\nCRITICAL REQUIREMENTS:\\n- All expressions maintain the SAME face structure - only expression changes\\n- Maintain EXACT art style from previous stage\\n- Clean white/light gray background\\n- Black separator lines between expression cells (4-6 pixels)\\n- Production-ready layout following the template reference`,\\n        fields: [],\\n        referenceImages: [\\n          {\\n            id: 'template_charsheet_advanced',\\n            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\n            name: 'Character Sheet Layout Template',\\n            aspectRatio: '21:9',\\n          }\\n        ],\\n      },\\n    ],\\n    suggestedAspectRatio: '21:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: false,\\n    categoryId: 'storybook',\\n    isSystem: true,\\n    isSystemOnly: true,  // Hidden from regular users - used internally by Storybook\\n  },\\n\\n  // Storybook Character Sheet (From Description) - 2-stage pipeline for generating character sheets without photos\\n  // Stage 0: Generate character appearance from text description\\n  // Stage 1: Generate character sheet with expressions\\n  {\\n    name: 'Storybook Character Sheet (From Description)',\\n    description: 'Generate character sheet from text description for storybook (no photo required)',\\n    recipeNote: 'Used when no source photo is available. Generates character appearance from description in the target style, then creates a character sheet.',\\n    stages: [\\n      // STAGE 0: Generate character appearance from description\\n      {\\n        id: 'stage_desc_0',\\n        order: 0,\\n        type: 'generation',\\n        template: `Generate a character based on this description:\\n\\nCHARACTER: @<<CHARACTER_NAME:name!>>\\nROLE: <<CHARACTER_ROLE:text!>>\\nDESCRIPTION: <<CHARACTER_DESCRIPTION:text!>>\\n\\nCRITICAL - PHYSICAL APPEARANCE:\\nThe character's physical appearance MUST match the DESCRIPTION above EXACTLY:\\n- Hair color, hair style, hair length\\n- Clothing colors, clothing style\\n- Age, build, body type\\n- Skin tone, eye color\\n- Any distinguishing features mentioned\\n\\nCRITICAL - ART STYLE ONLY:\\nThe attached style guide reference shows the ART STYLE to use:\\n- Rendering approach (cartoon style, line quality, edge treatment)\\n- Color saturation and palette approach\\n- Level of detail and stylization\\n- Lighting and shading technique\\n\\nDO NOT copy the physical appearance, hair, or clothing from the style guide characters.\\nONLY use the style guide for the art style/rendering approach.\\n\\nSETUP:\\n- Full-body standing pose on clean WHITE background\\n- Neutral expression, relaxed posture\\n- Soft studio lighting\\n\\nOutput: Full-body character portrait matching the DESCRIPTION exactly, rendered in the art style shown in the style guide.`,\\n        fields: [],\\n        referenceImages: [],  // Style guide attached at runtime\\n      },\\n      // STAGE 1: Generate character sheet with expressions\\n      {\\n        id: 'stage_desc_1',\\n        order: 1,\\n        type: 'generation',\\n        template: `Universal Character Sheet Template V3 - Precise Generation with Separated Sources\\n\\nCHARACTER: @<<CHARACTER_NAME:name!>>\\nSTYLE: <<STYLE_NAME:text!>>\\n\\nINPUT SOURCES:\\nThis generation uses THREE separate reference images:\\n1. LAYOUT REFERENCE (character sheet template): Use ONLY for structural layout - panel positions, grid lines, labels\\n2. CHARACTER REFERENCE (previous stage output): Source for character's physical features, clothing, identity\\n3. STYLE REFERENCE (style guide): Defines the art style/rendering approach for final output\\n\\nCRITICAL: Do NOT copy the sketch/placeholder art from the template. Only use it for structure.\\n\\n---\\n\\nHEADER SECTION:\\n- Top Left: Display \\\"CHARACTER @<<CHARACTER_NAME:name!>>\\\" prominently\\n- Top Right: \\\"DESCRIPTION/DETAILS\\\" box (grey background, leave empty)\\n\\n---\\n\\nFULL BODY VIEWS (Left Section - Large Grid):\\nLabel: \\\"FULL BODY VIEWS\\\"\\nPanels (3 columns):\\n1. Front View - Orthographic neutral standing pose, feet on baseline\\n2. Side Profile View (Left facing) - Orthographic side view\\n3. Back View - Orthographic back view\\n\\n---\\n\\nEXPRESSIONS & DETAILS (Upper Middle - 3×2 Grid):\\nLabel: \\\"EXPRESSIONS & DETAILS\\\"\\nStyle: Head and shoulders shot, consistent character model\\n\\nRow 1 (Talking States):\\n1. TALKING-NEUTRAL: mouth slightly open, neutral brows\\n2. TALKING-HAPPY: mouth open smiling, eyebrows raised\\n3. TALKING-ANGRY: mouth open yelling, eyebrows furrowed\\n\\nRow 2 (Emotions):\\n4. SAD: mouth closed down-turn, tearful eyes, sad brows\\n5. SURPRISED: mouth small 'O' shape, eyes wide, brows high\\n6. SMUG/CONFIDENT: slight smirk, confident gaze\\n\\n---\\n\\nTALKING VIEWS (Top Right - 1×3 Grid):\\nLabel: \\\"TALKING VIEWS\\\"\\nStyle: Angled headshots focusing on jaw movement\\n\\nPanels:\\n1. 3/4 Rear Left - jawline and back of head while talking\\n2. 3/4 Front Right - standard dialogue angle\\n3. Profile Right - side profile talking mouth shape\\n\\n---\\n\\nCLOSE-UP DETAILS (Bottom Middle - 1×3 Strip):\\nLabel: \\\"CLOSE-UP DETAILS\\\"\\nStyle: Tight zoom on specific head features\\n\\nPanels:\\n1. Front Face (Crop: Chin to Forehead)\\n2. Side Profile/Ear Detail\\n3. Rear Neck/Hairline Detail\\n\\n---\\n\\nACCESSORIES (Bottom Right - 3×3 Grid):\\nLabel: \\\"ACCESSORIES\\\"\\nIf character has accessories (hat, glasses, shoes, props), render isolated views here.\\nIf no accessories, leave panels as empty grey placeholders.\\n\\nCRITICAL: Accessories must match the character reference and be rendered in <<STYLE_NAME:text!>> style.\\n\\n---\\n\\nCOLOR PALETTE (Bottom Left Strip):\\nLabel: \\\"COLOR PALETTE\\\"\\nFill swatches with exact colors from character:\\n- FRONT: Main body color from front view\\n- HAPPY: Key highlight from happy expression\\n- YELLOW: Yellow elements (if present, else neutral grey)\\n- HAIR: Character hair color\\n- ANGRY: Shadow/highlight from angry expression\\n- SAD: Shadow from sad expression\\n- SURPRISED: Highlight from surprised expression\\n- SMUG: Color from smug expression\\n\\n---\\n\\nCRITICAL REQUIREMENTS:\\n✓ Every panel shows the SAME CHARACTER from previous stage\\n✓ Maintain IDENTICAL facial structure, proportions, distinctive features across ALL views\\n✓ Render entire sheet in <<STYLE_NAME:text!>> art style (from style guide reference)\\n✓ Follow template layout EXACTLY - match panel positions, grid lines, label positions\\n✓ Neutral background (white/light grey) - NO texture\\n✓ Black separator lines between cells (4-6 pixels)\\n✓ Character name \\\"@<<CHARACTER_NAME:name!>>\\\" clearly visible at top\\n✓ Production-ready reference sheet for animation/illustration use\\n\\nFINAL OUTPUT: Complete character sheet with all panels filled, matching template structure, rendered consistently in <<STYLE_NAME:text!>> style.`,\\n        fields: [],\\n        referenceImages: [\\n          {\\n            id: 'template_charsheet_advanced',\\n            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\n            name: 'Character Sheet Layout Template',\\n            aspectRatio: '21:9',\\n          }\\n        ],\\n      },\\n    ],\\n    suggestedAspectRatio: '21:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: false,\\n    categoryId: 'storybook',\\n    isSystem: true,\\n    isSystemOnly: false,  // Now visible in Shot Creator so users can refine the recipe\\n  },\\n\\n  // Storybook Style Guide (system recipe)\\n  {\\n    name: 'Storybook Style Guide',\\n    description: '6-tile visual style guide for children\\\\'s books',\\n    recipeNote: 'Used by storybook feature to generate art style reference',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `Create a visual style guide as a 6-image grid (2 rows × 3 columns) in <<STYLE_NAME:text!>> style.\\n\\nCRITICAL: Separate each cell with a SOLID BLACK LINE (4-6 pixels wide).\\n\\n<<STYLE_DESCRIPTION:text>>\\n\\nTHE 6 TILES (2x3 grid):\\n1. CHARACTER CLOSE-UP: A child character headshot, warm studio lighting, 3/4 view\\n2. ACTION SCENE: A different character in dynamic pose, motion blur background\\n3. ENVIRONMENT DETAIL: Interior scene, afternoon light through windows\\n4. CHARACTER INTERACTION: Two diverse characters (different ethnicities/appearances) in conversation\\n5. DYNAMIC POSE: Character in athletic stance, dramatic angle\\n6. SET/LOCATION DESIGN: Exterior establishing shot with background characters of varied appearances\\n\\nDIVERSITY REQUIREMENTS:\\n- Use diverse characters with different ethnicities, skin tones, and appearances\\n- Show variety in hair colors, styles, and physical features\\n- Include both male and female characters across the tiles\\n- Make each character visually distinct and unique\\n\\nOutput a 16:9 image with exactly 6 tiles (2 rows x 3 columns) separated by black lines.\\n<<STYLE_NAME:text!>> style throughout all tiles.`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '16:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: false,\\n    categoryId: 'storybook',\\n    isSystem: true,\\n    isSystemOnly: true,\\n  },\\n\\n  // Storybook Page (First) - Optimized for story opening\\n  {\\n    name: 'Storybook Page (First)',\\n    description: 'Generate the opening page illustration for a children\\\\'s book story',\\n    recipeNote: 'Used by storybook feature for first pages. Optimized for story opening - no previous context needed.',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `Create an engaging opening illustration for this children's book story.\\n\\nSTORY OPENING:\\n\\nCurrent Page Text (the story begins):\\n\\\"<<PAGE_TEXT:text!>>\\\"\\n\\nSCENE DETAILS:\\n<<SCENE_DESCRIPTION:text>>\\n\\nMOOD: <<MOOD:select(Happy,Sad,Excited,Calm,Mysterious,Adventurous)!>>\\n\\nCHARACTERS IN SCENE:\\n<<CHARACTER_NAMES:text>>\\n\\nOPENING PAGE STORYTELLING:\\n- Establish the story's setting and atmosphere immediately\\n- Create visual intrigue to hook young readers\\n- Introduce main character(s) with clear, engaging poses\\n- Set the tone for the entire story\\n- Use composition to draw the eye to key story elements\\n- Choose appropriate framing that serves the narrative\\n\\nCRITICAL STYLE REQUIREMENTS:\\n- A STYLE GUIDE reference image is attached - analyze it carefully\\n- Extract the EXACT art style from the style guide (rendering technique, line work, color palette, shading approach)\\n- Apply this style CONSISTENTLY to the entire illustration\\n- The style guide shows example illustrations - match that visual aesthetic precisely\\n- Maintain character consistency using attached character sheets (if provided)\\n- Characters should have EXACT same appearance, clothing, and features as their character sheets\\n- If no character sheets are attached, design characters that fit the style guide aesthetic\\n\\nTECHNICAL REQUIREMENTS:\\n- No text overlays on image (text will be added separately)\\n- Age-appropriate for <<TARGET_AGE:text!>> year olds\\n- Diverse, inclusive representation\\n- Composition should balance illustration with space for text overlay\\n\\nQUALITY STANDARDS:\\n- Professional children's book illustration quality\\n- Strong focal point that establishes the story's core\\n- Vibrant, engaging colors appropriate to the mood\\n- Fine details that reward close inspection\\n- Inviting composition that makes readers want to turn the page\\n\\nCRITICAL: Use the attached STYLE GUIDE reference image to determine the exact art style, rendering technique, and visual aesthetic. Match it precisely.`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '16:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: false,\\n    categoryId: 'storybook',\\n    isSystem: true,\\n    isSystemOnly: true,\\n  },\\n\\n  // Storybook Page (Continuation) - Optimized for story flow\\n  {\\n    name: 'Storybook Page (Continuation)',\\n    description: 'Generate a continuation page illustration for a children\\\\'s book with story flow',\\n    recipeNote: 'Used by storybook feature for continuation pages. Maintains story continuity from previous page.',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `Create an illustration for this children's book page that continues the story flow.\\n\\nSTORY CONTEXT:\\n\\nPrevious Page (what happened before):\\n<<PREVIOUS_PAGE_TEXT:text!>>\\n\\nCurrent Page (what's happening now):\\n\\\"<<PAGE_TEXT:text!>>\\\"\\n\\nSCENE DETAILS:\\n<<SCENE_DESCRIPTION:text>>\\n\\nMOOD: <<MOOD:select(Happy,Sad,Excited,Calm,Mysterious,Adventurous)!>>\\n\\nCHARACTERS IN SCENE:\\n<<CHARACTER_NAMES:text>>\\n\\nSTORYTELLING CONTINUITY:\\n- Show clear progression from the previous page's events\\n- Visual flow should feel natural (e.g., if character was walking left, continue that direction)\\n- Maintain consistent lighting/time of day unless story indicates a change\\n- Character expressions should reflect the emotional arc from the previous moment\\n- Background elements should show logical progression from previous scene\\n- Create visual cause-and-effect relationship with previous illustration\\n- Pacing should feel like natural story progression (not jarring jumps)\\n- Use composition that serves narrative progression\\n\\nCRITICAL STYLE REQUIREMENTS:\\n- A STYLE GUIDE reference image is attached - analyze it carefully\\n- Extract the EXACT art style from the style guide (rendering technique, line work, color palette, shading approach)\\n- Apply this style CONSISTENTLY to the entire illustration\\n- The style guide shows example illustrations - match that visual aesthetic precisely\\n- Maintain character consistency using attached character sheets (if provided)\\n- Characters should have EXACT same appearance, clothing, and features as their character sheets\\n- If no character sheets are attached, design characters that fit the style guide aesthetic\\n- Keep the SAME art style as previous pages in the book\\n\\nTECHNICAL REQUIREMENTS:\\n- No text overlays on image (text will be added separately)\\n- Age-appropriate for <<TARGET_AGE:text!>> year olds\\n- Diverse, inclusive representation\\n- Composition should balance illustration with space for text overlay\\n\\nQUALITY STANDARDS:\\n- Professional children's book illustration quality\\n- Clear focal point that supports the story\\n- Vibrant, engaging colors appropriate to the mood\\n- Fine details that reward close inspection\\n\\nCRITICAL: Use the attached STYLE GUIDE reference image to determine the exact art style, rendering technique, and visual aesthetic. Match it precisely.`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '16:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: false,\\n    categoryId: 'storybook',\\n    isSystem: true,\\n    isSystemOnly: true,\\n  },\\n\\n  // Storybook Book Cover\\n  {\\n    name: 'Storybook Book Cover',\\n    description: 'Generate a professional children\\\\'s book cover with title, author, and main character',\\n    recipeNote: 'Used by storybook feature to generate book covers. Includes embedded text (title + author) and main character illustration.',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `Create a professional children's book cover illustration with embedded text.\\n\\nBOOK INFORMATION:\\nTitle: \\\"<<BOOK_TITLE:text!>>\\\"\\nAuthor: <<AUTHOR_NAME:text!>>\\nTarget Age: <<TARGET_AGE:text!>> years old\\n\\nMAIN CHARACTER:\\n<<MAIN_CHARACTER_DESCRIPTION:text!>>\\n\\nCOVER LAYOUT REQUIREMENTS:\\n\\n1. TITLE PLACEMENT (Top third of cover):\\n   - Display the book title \\\"<<BOOK_TITLE:text!>>\\\" prominently\\n   - Use large, playful, child-friendly typography\\n   - Ensure text is readable with good contrast\\n   - Title should feel magical/whimsical\\n   - Use colors that complement the illustration\\n\\n2. ILLUSTRATION (Center 60% of cover):\\n   - Feature the main character in an engaging pose\\n   - Show character's personality and energy\\n   - Dynamic composition that draws the eye\\n   - Match the art style from the style guide EXACTLY\\n   - Character should match their character sheet reference\\n   - Background hints at the story's setting/adventure\\n   - Age-appropriate for <<TARGET_AGE:text!>> year olds\\n\\n3. AUTHOR NAME (Bottom of cover):\\n   - Display \\\"by <<AUTHOR_NAME:text!>>\\\" below the illustration\\n   - Smaller, elegant font\\n   - Good readability but doesn't compete with title\\n\\n4. VISUAL STYLE:\\n   - Match style guide precisely (use reference image)\\n   - Bright, inviting colors that appeal to children\\n   - Professional children's book cover quality\\n   - Cover should work for both digital and print (high contrast)\\n   - Add subtle decorative elements (stars, sparkles, borders) if they enhance the design\\n\\nTECHNICAL SPECS:\\n- Aspect ratio: 3:4 portrait (standard book cover proportions)\\n- All text MUST be clearly legible\\n- Ensure character consistency with attached character sheet\\n- High visual appeal to attract young readers\\n- Diverse, inclusive representation\\n\\nUse reference images to match art style and character appearance exactly.`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '3:4',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: false,\\n    categoryId: 'storybook',\\n    isSystem: true,\\n    isSystemOnly: true,\\n  },\\n\\n  // ========================================\\n  // CINEMATIC GRID RECIPES (10 recipes)\\n  // ========================================\\n\\n  // POV Simulation (16:9)\\n  {\\n    name: 'POV Simulation (16:9)',\\n    description: 'First-person perspective grid showing what character sees through their own eyes',\\n    recipeNote: 'Attach character reference for outfit/appearance. Grid shows character\\\\'s hands, arms, legs, but NOT their face (except in reflections).',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 16:9 aspect ratio.\\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\\n\\nCHARACTER PERSPECTIVE: First-person POV from @<<CHARACTER_NAME:name!>>'s eyes.\\nCURRENT ACTIVITY: <<STORY:text!>>\\n\\nSTYLE EXTRACTION: Analyze the style reference image for environmental textures, lighting quality, and color grading.\\n\\nCAMERA SETTINGS:\\n- First Person Perspective (POV)\\n- Wide angle (24mm-35mm equivalent) simulating human vision\\n- We do NOT see <<CHARACTER_NAME:name!>>'s face (except in reflections)\\n- We DO see their ARMS, HANDS, LEGS dressed in their outfit\\n\\n3×3 GRID LAYOUT (Reading order: Left→Right, Top→Bottom):\\n\\nROW 1 - INTERACTION:\\nPanel 1 (Top-Left): POV looking DOWN at @<<CHARACTER_NAME:name!>>'s own torso and outfit, establishing their identity and clothing.\\nPanel 2 (Top-Center): POV of @<<CHARACTER_NAME:name!>>'s HANDS interacting with a key object from the story (<<STORY:text!>>).\\nPanel 3 (Top-Right): POV of @<<CHARACTER_NAME:name!>> REACHING OUT to touch a texture or open a door in the environment.\\n\\nROW 2 - COMBAT/ACTION POV:\\nPanel 4 (Middle-Left): POV BLOCKING a light source or incoming attack with @<<CHARACTER_NAME:name!>>'s ARM visible in frame.\\nPanel 5 (Middle-Center): POV FOCUSING on a target or destination from <<STORY:text!>>. Hands visible in lower frame guiding the way.\\nPanel 6 (Middle-Right): POV looking at a REFLECTION (mirror/window/water). We FINALLY see @<<CHARACTER_NAME:name!>>'s face clearly in the reflection.\\n\\nROW 3 - ENVIRONMENTAL AWARENESS:\\nPanel 7 (Bottom-Left): POV looking DOWN at @<<CHARACTER_NAME:name!>>'s FEET moving across the specific terrain mentioned in <<STORY:text!>>.\\nPanel 8 (Bottom-Center): POV checking a TOOL, WEAPON, or PHONE held in @<<CHARACTER_NAME:name!>>'s hands.\\nPanel 9 (Bottom-Right): POV BLINKING/FADING. Vision is slightly blurred or vignetted, implying fatigue or emotion from <<STORY:text!>>.\\n\\nCONSISTENCY REQUIREMENTS:\\n- All panels must show the SAME outfit on <<CHARACTER_NAME:name!>>\\n- Lighting and color grading from style reference must remain consistent\\n- Grid cells separated by SOLID BLACK LINES`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '16:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: true,\\n    categoryId: 'characters',\\n    isSystem: true,\\n    isSystemOnly: false,\\n  },\\n\\n  // POV Simulation (9:16)\\n  {\\n    name: 'POV Simulation (9:16)',\\n    description: 'First-person perspective grid showing what character sees through their own eyes (portrait)',\\n    recipeNote: 'Attach character reference for outfit/appearance. Grid shows character\\\\'s hands, arms, legs, but NOT their face (except in reflections).',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 9:16 aspect ratio.\\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\\n\\nCHARACTER PERSPECTIVE: First-person POV from @<<CHARACTER_NAME:name!>>'s eyes.\\nCURRENT ACTIVITY: <<STORY:text!>>\\n\\nSTYLE EXTRACTION: Analyze the style reference image for environmental textures, lighting quality, and color grading.\\n\\nCAMERA SETTINGS:\\n- First Person Perspective (POV)\\n- Wide angle (24mm-35mm equivalent) simulating human vision\\n- We do NOT see <<CHARACTER_NAME:name!>>'s face (except in reflections)\\n- We DO see their ARMS, HANDS, LEGS dressed in their outfit\\n\\n3×3 GRID LAYOUT (Reading order: Left→Right, Top→Bottom):\\n\\nROW 1 - INTERACTION:\\nPanel 1 (Top-Left): POV looking DOWN at @<<CHARACTER_NAME:name!>>'s own torso and outfit, establishing their identity and clothing.\\nPanel 2 (Top-Center): POV of @<<CHARACTER_NAME:name!>>'s HANDS interacting with a key object from the story (<<STORY:text!>>).\\nPanel 3 (Top-Right): POV of @<<CHARACTER_NAME:name!>> REACHING OUT to touch a texture or open a door in the environment.\\n\\nROW 2 - COMBAT/ACTION POV:\\nPanel 4 (Middle-Left): POV BLOCKING a light source or incoming attack with @<<CHARACTER_NAME:name!>>'s ARM visible in frame.\\nPanel 5 (Middle-Center): POV FOCUSING on a target or destination from <<STORY:text!>>. Hands visible in lower frame guiding the way.\\nPanel 6 (Middle-Right): POV looking at a REFLECTION (mirror/window/water). We FINALLY see @<<CHARACTER_NAME:name!>>'s face clearly in the reflection.\\n\\nROW 3 - ENVIRONMENTAL AWARENESS:\\nPanel 7 (Bottom-Left): POV looking DOWN at @<<CHARACTER_NAME:name!>>'s FEET moving across the specific terrain mentioned in <<STORY:text!>>.\\nPanel 8 (Bottom-Center): POV checking a TOOL, WEAPON, or PHONE held in @<<CHARACTER_NAME:name!>>'s hands.\\nPanel 9 (Bottom-Right): POV BLINKING/FADING. Vision is slightly blurred or vignetted, implying fatigue or emotion from <<STORY:text!>>.\\n\\nCONSISTENCY REQUIREMENTS:\\n- All panels must show the SAME outfit on <<CHARACTER_NAME:name!>>\\n- Lighting and color grading from style reference must remain consistent\\n- Grid cells separated by SOLID BLACK LINES`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '9:16',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: true,\\n    categoryId: 'characters',\\n    isSystem: true,\\n    isSystemOnly: false,\\n  },\\n\\n  // Action Sequencer (16:9)\\n  {\\n    name: 'Action Sequencer (16:9)',\\n    description: 'Motion breakdown grid showing action in 3 phases: Wind-Up → Impact → Aftermath',\\n    recipeNote: 'Best for fight scenes, athletic moves, or any dynamic action. Row 2 features motion blur.',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 16:9 aspect ratio.\\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\\n\\nCHARACTER PERFORMING ACTION: @<<CHARACTER_NAME:name!>>\\nACTION NARRATIVE: <<ACTION_STORY:text!>>\\n\\nSTYLE EXTRACTION: Analyze style reference for color palette, film grain, lighting contrast, and render engine style. Apply these EXACT visual parameters to @<<CHARACTER_NAME:name!>>.\\n\\nCONSISTENCY: @<<CHARACTER_NAME:name!>> MUST maintain consistent facial features and costume details across all 9 panels despite rapid movement blur.\\n\\nSHUTTER SPEED RULES:\\n- Rows 1 & 3: CRISP/STATIC (high shutter speed, frozen motion)\\n- Row 2: DIRECTIONAL MOTION BLUR (low shutter speed, action blur)\\n\\n3×3 GRID LAYOUT - ACTION BREAKDOWN:\\n\\nROW 1 - THE WIND UP (Anticipation):\\nPanel 1 (Top-Left): @<<CHARACTER_NAME:name!>> shifts weight, tensing muscles. Focus on BODY MECHANICS preparing for the action in <<ACTION_STORY:text!>>.\\nPanel 2 (Top-Center): CLOSE-UP on @<<CHARACTER_NAME:name!>>'s EYES or HANDS. Intense focus. The moment BEFORE the strike/action.\\nPanel 3 (Top-Right): THE COIL. @<<CHARACTER_NAME:name!>> in the final frame of preparation, energy stored, ready to release.\\n\\nROW 2 - THE IMPACT (Action with Motion Blur):\\nPanel 4 (Middle-Left): THE RELEASE. @<<CHARACTER_NAME:name!>> EXPLODES into motion. High energy, frozen violence/action. Motion blur begins.\\nPanel 5 (Middle-Center): THE CONTACT/PEAK. The DEFINING moment of <<ACTION_STORY:text!>>. Maximum dynamic energy. Facial expression of EXERTION. Heavy motion blur.\\nPanel 6 (Middle-Right): FOLLOW-THROUGH. The limb or body part extends FULLY. Motion blur indicates speed.\\n\\nROW 3 - THE AFTERMATH (Reaction):\\nPanel 7 (Bottom-Left): THE LANDING. @<<CHARACTER_NAME:name!>> regains balance or skids to a halt. Dust/debris settling.\\nPanel 8 (Bottom-Center): PHYSICAL TOLL. Close-up on @<<CHARACTER_NAME:name!>> breathing hard, sweating, or bleeding (if applicable to <<ACTION_STORY:text!>>).\\nPanel 9 (Bottom-Right): THE RESOLVE. @<<CHARACTER_NAME:name!>> standing in the aftermath, body language showing the outcome of the action.\\n\\nCRITICAL:\\n- Grid cells separated by SOLID BLACK LINES\\n- Character appearance MUST remain consistent despite motion blur`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '16:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: true,\\n    categoryId: 'characters',\\n    isSystem: true,\\n    isSystemOnly: false,\\n  },\\n\\n  // Action Sequencer (9:16)\\n  {\\n    name: 'Action Sequencer (9:16)',\\n    description: 'Motion breakdown grid showing action in 3 phases: Wind-Up → Impact → Aftermath (portrait)',\\n    recipeNote: 'Best for fight scenes, athletic moves, or any dynamic action. Row 2 features motion blur.',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 9:16 aspect ratio.\\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\\n\\nCHARACTER PERFORMING ACTION: @<<CHARACTER_NAME:name!>>\\nACTION NARRATIVE: <<ACTION_STORY:text!>>\\n\\nSTYLE EXTRACTION: Analyze style reference for color palette, film grain, lighting contrast, and render engine style. Apply these EXACT visual parameters to @<<CHARACTER_NAME:name!>>.\\n\\nCONSISTENCY: @<<CHARACTER_NAME:name!>> MUST maintain consistent facial features and costume details across all 9 panels despite rapid movement blur.\\n\\nSHUTTER SPEED RULES:\\n- Rows 1 & 3: CRISP/STATIC (high shutter speed, frozen motion)\\n- Row 2: DIRECTIONAL MOTION BLUR (low shutter speed, action blur)\\n\\n3×3 GRID LAYOUT - ACTION BREAKDOWN:\\n\\nROW 1 - THE WIND UP (Anticipation):\\nPanel 1 (Top-Left): @<<CHARACTER_NAME:name!>> shifts weight, tensing muscles. Focus on BODY MECHANICS preparing for the action in <<ACTION_STORY:text!>>.\\nPanel 2 (Top-Center): CLOSE-UP on @<<CHARACTER_NAME:name!>>'s EYES or HANDS. Intense focus. The moment BEFORE the strike/action.\\nPanel 3 (Top-Right): THE COIL. @<<CHARACTER_NAME:name!>> in the final frame of preparation, energy stored, ready to release.\\n\\nROW 2 - THE IMPACT (Action with Motion Blur):\\nPanel 4 (Middle-Left): THE RELEASE. @<<CHARACTER_NAME:name!>> EXPLODES into motion. High energy, frozen violence/action. Motion blur begins.\\nPanel 5 (Middle-Center): THE CONTACT/PEAK. The DEFINING moment of <<ACTION_STORY:text!>>. Maximum dynamic energy. Facial expression of EXERTION. Heavy motion blur.\\nPanel 6 (Middle-Right): FOLLOW-THROUGH. The limb or body part extends FULLY. Motion blur indicates speed.\\n\\nROW 3 - THE AFTERMATH (Reaction):\\nPanel 7 (Bottom-Left): THE LANDING. @<<CHARACTER_NAME:name!>> regains balance or skids to a halt. Dust/debris settling.\\nPanel 8 (Bottom-Center): PHYSICAL TOLL. Close-up on @<<CHARACTER_NAME:name!>> breathing hard, sweating, or bleeding (if applicable to <<ACTION_STORY:text!>>).\\nPanel 9 (Bottom-Right): THE RESOLVE. @<<CHARACTER_NAME:name!>> standing in the aftermath, body language showing the outcome of the action.\\n\\nCRITICAL:\\n- Grid cells separated by SOLID BLACK LINES\\n- Character appearance MUST remain consistent despite motion blur`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '9:16',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: true,\\n    categoryId: 'characters',\\n    isSystem: true,\\n    isSystemOnly: false,\\n  },\\n\\n  // World Building (16:9)\\n  {\\n    name: 'World Building (16:9)',\\n    description: 'Location exploration grid: Interior details → Exterior establishing → Voyeuristic views',\\n    recipeNote: 'Provide a reference image showing the main location. Grid explores the environment from multiple perspectives.',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 16:9 aspect ratio.\\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\\n\\nLOCATION BEING EXPLORED: <<LOCATION_NAME:name!>>\\nDESCRIPTION: <<LOCATION_DESCRIPTION:text!>>\\n\\nSTYLE EXTRACTION: Analyze reference image for:\\n- Primary location type (e.g., dive bar, office, meadow, warehouse)\\n- Photographic style, lighting quality, film grain\\n- Color grading and atmospheric mood\\n- Main subjects (for context only)\\n\\nCONSISTENCY RULES:\\n- All panels inhabit the EXACT SAME location\\n- Lighting and film stock style MUST remain consistent\\n- In Rows 1 & 3: Main subjects are present but SIGNIFICANTLY OUT OF FOCUS (heavy bokeh/blur)\\n- Sharp focus on ENVIRONMENTAL DETAILS, not people\\n\\n3×3 GRID LAYOUT - LOCATION EXPLORATION:\\n\\nROW 1 - INTERIOR/INTIMATE CONTEXT (Shallow Depth of Field):\\nPanel 1 (Top-Left): WIDE ANGLE INTERIOR. A relevant foreground object (coffee cup, tool, hand on table) is INTENSELY SHARP. Any people in mid-ground are EXTREMELY BLURRY.\\nPanel 2 (Top-Center): MEDIUM SHOT INTERIOR. Looking past a structural element (doorframe, pillar, beam) that is SHARP in foreground. Any people in background are OUT OF FOCUS.\\nPanel 3 (Top-Right): MACRO DETAIL INTERIOR. Extreme close-up on a texture definitive of <<LOCATION_NAME:name!>> (peeling paint, polished chrome, worn wood grain). Any people are vague shapes in distance.\\n\\nROW 2 - EXTERIOR ESTABLISHING (The Reveal):\\nPanel 4 (Middle-Left): EYE-LEVEL STREET VIEW. Standard wide establishing shot of the EXTERIOR building facade of <<LOCATION_NAME:name!>>.\\nPanel 5 (Middle-Center): HIGH ANGLE DRONE SHOT. Excessive wide shot showing <<LOCATION_NAME:name!>> situated within its larger geography/cityscape. NO foreground elements.\\nPanel 6 (Middle-Right): ARCHITECTURAL DETAIL EXTERIOR. Focus on a specific exterior feature that gives character (neon sign, rusted fire escape, ornate doorway).\\n\\nROW 3 - EXTERIOR PEEP-HOLE (Voyeuristic View):\\nPanel 7 (Bottom-Left): THROUGH FOREGROUND ELEMENTS. Looking at the exterior location from distance through SHARP foreground foliage, fence, or rain-streaked glass. The location is SLIGHTLY SOFT.\\nPanel 8 (Bottom-Center): REFLECTION SHOT. The exterior of <<LOCATION_NAME:name!>> is seen ONLY as a reflection in a puddle, car window, or glossy surface.\\nPanel 9 (Bottom-Right): LONG LENS COMPRESSION. A telephoto shot from very far away, compressing distance. Heat haze or atmospheric perspective makes the location look distant and embedded in surroundings.\\n\\nCRITICAL:\\n- Grid cells separated by SOLID BLACK LINES\\n- Infer exterior architecture from interior reference`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '16:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: true,\\n    categoryId: 'environments',\\n    isSystem: true,\\n    isSystemOnly: false,\\n  },\\n\\n  // World Building (9:16)\\n  {\\n    name: 'World Building (9:16)',\\n    description: 'Location exploration grid: Interior details → Exterior establishing → Voyeuristic views (portrait)',\\n    recipeNote: 'Provide a reference image showing the main location. Grid explores the environment from multiple perspectives.',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 9:16 aspect ratio.\\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\\n\\nLOCATION BEING EXPLORED: <<LOCATION_NAME:name!>>\\nDESCRIPTION: <<LOCATION_DESCRIPTION:text!>>\\n\\nSTYLE EXTRACTION: Analyze reference image for:\\n- Primary location type (e.g., dive bar, office, meadow, warehouse)\\n- Photographic style, lighting quality, film grain\\n- Color grading and atmospheric mood\\n- Main subjects (for context only)\\n\\nCONSISTENCY RULES:\\n- All panels inhabit the EXACT SAME location\\n- Lighting and film stock style MUST remain consistent\\n- In Rows 1 & 3: Main subjects are present but SIGNIFICANTLY OUT OF FOCUS (heavy bokeh/blur)\\n- Sharp focus on ENVIRONMENTAL DETAILS, not people\\n\\n3×3 GRID LAYOUT - LOCATION EXPLORATION:\\n\\nROW 1 - INTERIOR/INTIMATE CONTEXT (Shallow Depth of Field):\\nPanel 1 (Top-Left): WIDE ANGLE INTERIOR. A relevant foreground object (coffee cup, tool, hand on table) is INTENSELY SHARP. Any people in mid-ground are EXTREMELY BLURRY.\\nPanel 2 (Top-Center): MEDIUM SHOT INTERIOR. Looking past a structural element (doorframe, pillar, beam) that is SHARP in foreground. Any people in background are OUT OF FOCUS.\\nPanel 3 (Top-Right): MACRO DETAIL INTERIOR. Extreme close-up on a texture definitive of <<LOCATION_NAME:name!>> (peeling paint, polished chrome, worn wood grain). Any people are vague shapes in distance.\\n\\nROW 2 - EXTERIOR ESTABLISHING (The Reveal):\\nPanel 4 (Middle-Left): EYE-LEVEL STREET VIEW. Standard wide establishing shot of the EXTERIOR building facade of <<LOCATION_NAME:name!>>.\\nPanel 5 (Middle-Center): HIGH ANGLE DRONE SHOT. Excessive wide shot showing <<LOCATION_NAME:name!>> situated within its larger geography/cityscape. NO foreground elements.\\nPanel 6 (Middle-Right): ARCHITECTURAL DETAIL EXTERIOR. Focus on a specific exterior feature that gives character (neon sign, rusted fire escape, ornate doorway).\\n\\nROW 3 - EXTERIOR PEEP-HOLE (Voyeuristic View):\\nPanel 7 (Bottom-Left): THROUGH FOREGROUND ELEMENTS. Looking at the exterior location from distance through SHARP foreground foliage, fence, or rain-streaked glass. The location is SLIGHTLY SOFT.\\nPanel 8 (Bottom-Center): REFLECTION SHOT. The exterior of <<LOCATION_NAME:name!>> is seen ONLY as a reflection in a puddle, car window, or glossy surface.\\nPanel 9 (Bottom-Right): LONG LENS COMPRESSION. A telephoto shot from very far away, compressing distance. Heat haze or atmospheric perspective makes the location look distant and embedded in surroundings.\\n\\nCRITICAL:\\n- Grid cells separated by SOLID BLACK LINES\\n- Infer exterior architecture from interior reference`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '9:16',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: true,\\n    categoryId: 'environments',\\n    isSystem: true,\\n    isSystemOnly: false,\\n  },\\n\\n  // Story Summary - Full Arc (16:9)\\n  {\\n    name: 'Story Summary - Full Arc (16:9)',\\n    description: '9-panel visual narrative showing complete story from beginning to resolution',\\n    recipeNote: 'Attach character reference for consistent appearance. Grid tells entire story with NO text bubbles.',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 16:9 aspect ratio.\\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\\n\\nPROTAGONIST: @<<CHARACTER_NAME:name!>>\\nCOMPLETE NARRATIVE: <<FULL_STORY:text!>>\\n\\nSTYLE EXTRACTION: Analyze character reference image to define:\\n- Protagonist's appearance, clothing, physical features\\n- Overall visual art style and cinematography\\n- Color palette and lighting approach\\n\\nCONSISTENCY REQUIREMENTS:\\n- @<<CHARACTER_NAME:name!>> must look EXACTLY like the reference image in ALL panels\\n- Cinematographic style must match reference\\n- NO TEXT BUBBLES or overlaid words\\n- Story told purely through VISUAL ACTION, composition, and character emotion\\n\\nNARRATIVE STRUCTURE: Identify the 9 MOST CRUCIAL PLOT POINTS from <<FULL_STORY:text!>> spanning beginning to resolution.\\n\\n3×3 GRID LAYOUT - FULL STORY ARC:\\n\\nROW 1 - ACT 1: Setup and Inciting Incident\\nPanel 1 (Top-Left): PLOT POINT 1 - The Status Quo / Beginning. Show @<<CHARACTER_NAME:name!>> in their normal world before change.\\nPanel 2 (Top-Center): PLOT POINT 2 - The Inciting Incident / Disruption. The event that disrupts the status quo from <<FULL_STORY:text!>>.\\nPanel 3 (Top-Right): PLOT POINT 3 - Locking into the Journey. @<<CHARACTER_NAME:name!>> commits to the path forward.\\n\\nROW 2 - ACT 2: Confrontation and Rising Action\\nPanel 4 (Middle-Left): PLOT POINT 4 - Rising obstacles/challenges. @<<CHARACTER_NAME:name!>> faces first major challenge from <<FULL_STORY:text!>>.\\nPanel 5 (Middle-Center): PLOT POINT 5 - The Midpoint Climax / Point of No Return. The turning point where stakes are raised.\\nPanel 6 (Middle-Right): PLOT POINT 6 - The Lowest Point. @<<CHARACTER_NAME:name!>> faces their darkest moment or setup for final confrontation.\\n\\nROW 3 - ACT 3: Resolution\\nPanel 7 (Bottom-Left): PLOT POINT 7 - The Climax / Final Battle. The peak moment of conflict from <<FULL_STORY:text!>>.\\nPanel 8 (Bottom-Center): PLOT POINT 8 - The Immediate Aftermath / Falling Action. Immediate consequences of the climax.\\nPanel 9 (Bottom-Right): PLOT POINT 9 - The New Status Quo / Final Image. @<<CHARACTER_NAME:name!>> in their changed world after the journey.\\n\\nCRITICAL:\\n- Grid cells separated by SOLID BLACK LINES\\n- Sequential reading order: left→right, top→bottom\\n- NO text, purely visual storytelling`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '16:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: true,\\n    categoryId: 'narrative',\\n    isSystem: true,\\n    isSystemOnly: false,\\n  },\\n\\n  // Story Summary - Full Arc (9:16)\\n  {\\n    name: 'Story Summary - Full Arc (9:16)',\\n    description: '9-panel visual narrative showing complete story from beginning to resolution (portrait)',\\n    recipeNote: 'Attach character reference for consistent appearance. Grid tells entire story with NO text bubbles.',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 9:16 aspect ratio.\\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\\n\\nPROTAGONIST: @<<CHARACTER_NAME:name!>>\\nCOMPLETE NARRATIVE: <<FULL_STORY:text!>>\\n\\nSTYLE EXTRACTION: Analyze character reference image to define:\\n- Protagonist's appearance, clothing, physical features\\n- Overall visual art style and cinematography\\n- Color palette and lighting approach\\n\\nCONSISTENCY REQUIREMENTS:\\n- @<<CHARACTER_NAME:name!>> must look EXACTLY like the reference image in ALL panels\\n- Cinematographic style must match reference\\n- NO TEXT BUBBLES or overlaid words\\n- Story told purely through VISUAL ACTION, composition, and character emotion\\n\\nNARRATIVE STRUCTURE: Identify the 9 MOST CRUCIAL PLOT POINTS from <<FULL_STORY:text!>> spanning beginning to resolution.\\n\\n3×3 GRID LAYOUT - FULL STORY ARC:\\n\\nROW 1 - ACT 1: Setup and Inciting Incident\\nPanel 1 (Top-Left): PLOT POINT 1 - The Status Quo / Beginning. Show @<<CHARACTER_NAME:name!>> in their normal world before change.\\nPanel 2 (Top-Center): PLOT POINT 2 - The Inciting Incident / Disruption. The event that disrupts the status quo from <<FULL_STORY:text!>>.\\nPanel 3 (Top-Right): PLOT POINT 3 - Locking into the Journey. @<<CHARACTER_NAME:name!>> commits to the path forward.\\n\\nROW 2 - ACT 2: Confrontation and Rising Action\\nPanel 4 (Middle-Left): PLOT POINT 4 - Rising obstacles/challenges. @<<CHARACTER_NAME:name!>> faces first major challenge from <<FULL_STORY:text!>>.\\nPanel 5 (Middle-Center): PLOT POINT 5 - The Midpoint Climax / Point of No Return. The turning point where stakes are raised.\\nPanel 6 (Middle-Right): PLOT POINT 6 - The Lowest Point. @<<CHARACTER_NAME:name!>> faces their darkest moment or setup for final confrontation.\\n\\nROW 3 - ACT 3: Resolution\\nPanel 7 (Bottom-Left): PLOT POINT 7 - The Climax / Final Battle. The peak moment of conflict from <<FULL_STORY:text!>>.\\nPanel 8 (Bottom-Center): PLOT POINT 8 - The Immediate Aftermath / Falling Action. Immediate consequences of the climax.\\nPanel 9 (Bottom-Right): PLOT POINT 9 - The New Status Quo / Final Image. @<<CHARACTER_NAME:name!>> in their changed world after the journey.\\n\\nCRITICAL:\\n- Grid cells separated by SOLID BLACK LINES\\n- Sequential reading order: left→right, top→bottom\\n- NO text, purely visual storytelling`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '9:16',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: true,\\n    categoryId: 'narrative',\\n    isSystem: true,\\n    isSystemOnly: false,\\n  },\\n\\n  // Story Summary - First Half (16:9)\\n  {\\n    name: 'Story Summary - First Half (16:9)',\\n    description: '9-panel visual narrative showing FIRST HALF of story (up to midpoint)',\\n    recipeNote: 'Attach character reference for consistent appearance. Grid shows story up to midpoint cliffhanger.',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 16:9 aspect ratio.\\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\\n\\nPROTAGONIST: @<<CHARACTER_NAME:name!>>\\nCOMPLETE NARRATIVE: <<FULL_STORY:text!>>\\n\\nSTYLE EXTRACTION: Analyze character reference image to define:\\n- Protagonist's appearance, clothing, physical features\\n- Overall visual art style and cinematography\\n- Color palette and lighting approach\\n\\nCONSISTENCY REQUIREMENTS:\\n- @<<CHARACTER_NAME:name!>> must look EXACTLY like the reference image in ALL panels\\n- Cinematographic style must match reference\\n- NO TEXT BUBBLES or overlaid words\\n- Story told purely through VISUAL ACTION, composition, and character emotion\\n\\nNARRATIVE STRUCTURE:\\n- Identify the MIDPOINT of <<FULL_STORY:text!>>\\n- Select 9 CRUCIAL PLOT POINTS leading UP TO the midpoint\\n- Panel 9 should be the MIDPOINT CLIMAX/CLIFFHANGER\\n\\n3×3 GRID LAYOUT - FIRST HALF STORY ARC:\\n\\nROW 1 - ACT 1: Setup and Inciting Incident\\nPanel 1 (Top-Left): PLOT POINT 1 - The Status Quo / Beginning. Show @<<CHARACTER_NAME:name!>> in their normal world before change.\\nPanel 2 (Top-Center): PLOT POINT 2 - The Inciting Incident / Disruption. The event that disrupts the status quo from <<FULL_STORY:text!>>.\\nPanel 3 (Top-Right): PLOT POINT 3 - Locking into the Journey. @<<CHARACTER_NAME:name!>> commits to the path forward.\\n\\nROW 2 - ACT 2A: Early Confrontation\\nPanel 4 (Middle-Left): PLOT POINT 4 - First obstacle encountered. @<<CHARACTER_NAME:name!>> begins facing challenges.\\nPanel 5 (Middle-Center): PLOT POINT 5 - Rising stakes. Complications increase from <<FULL_STORY:text!>>.\\nPanel 6 (Middle-Right): PLOT POINT 6 - Approaching the midpoint. Tension builds toward the turning point.\\n\\nROW 3 - MIDPOINT APPROACH\\nPanel 7 (Bottom-Left): PLOT POINT 7 - Setup for midpoint. Elements converge toward the pivotal moment.\\nPanel 8 (Bottom-Center): PLOT POINT 8 - Midpoint trigger. The immediate precursor to the major turning point.\\nPanel 9 (Bottom-Right): PLOT POINT 9 - THE MIDPOINT CLIMAX. The pivotal moment that changes everything. End on a CLIFFHANGER.\\n\\nCRITICAL:\\n- Grid cells separated by SOLID BLACK LINES\\n- Sequential reading order: left→right, top→bottom\\n- NO text, purely visual storytelling\\n- Panel 9 MUST be an exciting cliffhanger moment`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '16:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: true,\\n    categoryId: 'narrative',\\n    isSystem: true,\\n    isSystemOnly: false,\\n  },\\n\\n  // Story Summary - First Half (9:16)\\n  {\\n    name: 'Story Summary - First Half (9:16)',\\n    description: '9-panel visual narrative showing FIRST HALF of story (up to midpoint) (portrait)',\\n    recipeNote: 'Attach character reference for consistent appearance. Grid shows story up to midpoint cliffhanger.',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `CRITICAL GRID FORMAT: Create a 3×3 grid (9 panels) in 9:16 aspect ratio.\\nSEPARATE EACH CELL WITH A SOLID BLACK LINE (4-6 pixels wide).\\n\\nPROTAGONIST: @<<CHARACTER_NAME:name!>>\\nCOMPLETE NARRATIVE: <<FULL_STORY:text!>>\\n\\nSTYLE EXTRACTION: Analyze character reference image to define:\\n- Protagonist's appearance, clothing, physical features\\n- Overall visual art style and cinematography\\n- Color palette and lighting approach\\n\\nCONSISTENCY REQUIREMENTS:\\n- @<<CHARACTER_NAME:name!>> must look EXACTLY like the reference image in ALL panels\\n- Cinematographic style must match reference\\n- NO TEXT BUBBLES or overlaid words\\n- Story told purely through VISUAL ACTION, composition, and character emotion\\n\\nNARRATIVE STRUCTURE:\\n- Identify the MIDPOINT of <<FULL_STORY:text!>>\\n- Select 9 CRUCIAL PLOT POINTS leading UP TO the midpoint\\n- Panel 9 should be the MIDPOINT CLIMAX/CLIFFHANGER\\n\\n3×3 GRID LAYOUT - FIRST HALF STORY ARC:\\n\\nROW 1 - ACT 1: Setup and Inciting Incident\\nPanel 1 (Top-Left): PLOT POINT 1 - The Status Quo / Beginning. Show @<<CHARACTER_NAME:name!>> in their normal world before change.\\nPanel 2 (Top-Center): PLOT POINT 2 - The Inciting Incident / Disruption. The event that disrupts the status quo from <<FULL_STORY:text!>>.\\nPanel 3 (Top-Right): PLOT POINT 3 - Locking into the Journey. @<<CHARACTER_NAME:name!>> commits to the path forward.\\n\\nROW 2 - ACT 2A: Early Confrontation\\nPanel 4 (Middle-Left): PLOT POINT 4 - First obstacle encountered. @<<CHARACTER_NAME:name!>> begins facing challenges.\\nPanel 5 (Middle-Center): PLOT POINT 5 - Rising stakes. Complications increase from <<FULL_STORY:text!>>.\\nPanel 6 (Middle-Right): PLOT POINT 6 - Approaching the midpoint. Tension builds toward the turning point.\\n\\nROW 3 - MIDPOINT APPROACH\\nPanel 7 (Bottom-Left): PLOT POINT 7 - Setup for midpoint. Elements converge toward the pivotal moment.\\nPanel 8 (Bottom-Center): PLOT POINT 8 - Midpoint trigger. The immediate precursor to the major turning point.\\nPanel 9 (Bottom-Right): PLOT POINT 9 - THE MIDPOINT CLIMAX. The pivotal moment that changes everything. End on a CLIFFHANGER.\\n\\nCRITICAL:\\n- Grid cells separated by SOLID BLACK LINES\\n- Sequential reading order: left→right, top→bottom\\n- NO text, purely visual storytelling\\n- Panel 9 MUST be an exciting cliffhanger moment`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '9:16',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: true,\\n    categoryId: 'narrative',\\n    isSystem: true,\\n    isSystemOnly: false,\\n  },\\n]\\n\",\"structuredPatch\":[{\"oldStart\":2298,\"oldLines\":9,\"newStart\":2298,\"newLines\":9,\"lines\":[\"         fields: [],\",\"         referenceImages: [\",\"           {\",\"-            id: 'template_charsheet_advanced',\",\"-            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\",\"-            name: 'Character Sheet Layout Template',\",\"+            id: 'template_charsheet_v3',\",\"+            url: SYSTEM_TEMPLATE_URLS.characterSheetV3,\",\"+            name: 'Character Sheet V3 Layout Template',\",\"             aspectRatio: '21:9',\",\"           }\",\"         ],\"]}],\"userModified\":false,\"replaceAll\":false},\"sourceToolAssistantUUID\":\"c135f6e7-ab5d-409c-835f-8a3a0dbb14bf\"}\n{\"parentUuid\":\"db608979-0c2d-4058-a547-4ac3845a86db\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01HnXLJiSfro7VWjRSeKtZ5o\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"Perfect! Now let me update the todo list to mark the upload as completed and move on to the next task. Actually, let me also check if there are other recipes that use the character sheet template that should be updated. Let me search for the old characterSheetAdvanced references:\",\"signature\":\"EsEDCkYICxgCKkBlk6irNHclxG6ddiWKgaoBYPC7TKK9WUNEVWnHmVRBtwzXSJfZW60JxPMYUpl88TE9O/Pn3uNCuVIqh2F3uwCPEgwXQ0MysECxPbU2Q84aDKq+mlFsxrlRnqN6AyIwH7ZBom6hJpq3m8Z9DzdkdhxL7NoJ2mRgUKOud+D7Sot4Zy3zPTDxR/thVYkrBNVTKqgC/xxPYTIoFr1aRfdKbm7+b+DHMhMy6QX13/Hvt7ysrE9JptHTnG2DzGkkS0ggYmboDttCNK3oitWzwBrdBLrKeKxh2iZGDi38/ukMUm8mjrd0i7tGkYGvaruK5d2I3qoHFYcAvqUh2Is6oX7+A2fm7AwY19Qcb1gjKVqVVk+hY270flusUN4DHHmPUkILmr/0ZimbvKXOWHEvx3PYxUp8irTzDTS1AuNBc+6ZOihmkXJ6sfXNMEhdGg6Ew11591lfxQdFh6thl0URsq83VuBd04vJc6f3mvXsqKbxUviHWzHVk7T7vZsLwQHybRVdrIgaqHEvPMMzZpDhQwUOzttEKibhXNNyQBIzA8uQ4OyR4Cg/XttGgEoDMz4KVdoQ6ZPlf6+3IXsDKpcYAQ==\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":10,\"cache_creation_input_tokens\":760,\"cache_read_input_tokens\":56277,\"cache_creation\":{\"ephemeral_5m_input_tokens\":760,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":3,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwQ9x6b9W5qkm21cK7g\",\"type\":\"assistant\",\"uuid\":\"d8b914f6-b914-487b-bcb5-0e07cea8f893\",\"timestamp\":\"2026-01-18T01:00:16.292Z\"}\n{\"parentUuid\":\"d8b914f6-b914-487b-bcb5-0e07cea8f893\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01HnXLJiSfro7VWjRSeKtZ5o\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_01MjdPQXv3LZEmHsuDmSRMhQ\",\"name\":\"Grep\",\"input\":{\"pattern\":\"characterSheetAdvanced\",\"path\":\"src/features/shot-creator/types/recipe.types.ts\",\"output_mode\":\"content\",\"-n\":true}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":10,\"cache_creation_input_tokens\":760,\"cache_read_input_tokens\":56277,\"cache_creation\":{\"ephemeral_5m_input_tokens\":760,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":190,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwQ9x6b9W5qkm21cK7g\",\"type\":\"assistant\",\"uuid\":\"66decaaf-717e-4ccd-9749-f501d2c126ce\",\"timestamp\":\"2026-01-18T01:00:17.416Z\"}\n{\"parentUuid\":\"66decaaf-717e-4ccd-9749-f501d2c126ce\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"tool_use_id\":\"toolu_01MjdPQXv3LZEmHsuDmSRMhQ\",\"type\":\"tool_result\",\"content\":\"495:  characterSheetAdvanced: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-advanced.webp`,\\r\\n605:          url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\r\\n693:            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\r\\n2130:            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\"}]},\"uuid\":\"8179037c-b5b6-424e-b575-bc6efd56f5a9\",\"timestamp\":\"2026-01-18T01:00:20.126Z\",\"toolUseResult\":{\"mode\":\"content\",\"numFiles\":0,\"filenames\":[],\"content\":\"495:  characterSheetAdvanced: `${SUPABASE_URL}/storage/v1/object/public/templates/system/character-sheets/charactersheet-advanced.webp`,\\r\\n605:          url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\r\\n693:            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\\r\\n2130:            url: SYSTEM_TEMPLATE_URLS.characterSheetAdvanced,\",\"numLines\":4},\"sourceToolAssistantUUID\":\"66decaaf-717e-4ccd-9749-f501d2c126ce\"}\n{\"parentUuid\":\"8179037c-b5b6-424e-b575-bc6efd56f5a9\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_0197YFw2SvSFZJUpfumRWaro\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"There are still 3 other recipes using the old characterSheetAdvanced template (lines 605, 693, and 2130). Let me check what those recipes are:\\n\\n1. Line 605 - Let me check what recipe this is\\n2. Line 693 - Already saw this was \\\"Character Sheet (From Description)\\\"\\n3. Line 2130 - Let me check this one\\n\\nFor now, I'll leave the other recipes using the old template since they might be different recipes. The one we updated (Storybook Character Sheet From Description) is the one the user was working on with their new template.\\n\\nNow let me update the todo list and then work on the style guide recipe update:\",\"signature\":\"EoEGCkYICxgCKkDyfLBj2esCQbeVdOPdRsLpIBZ6XODbAymwPzBMbYVW81+UNUxJpRccyvh6T1V0It3/mjtt7Sj1s5+MC2q//1hiEgz7tPuffS+PAzP4/AAaDH64jdfQ0L0mTEETniIwIkgxbA8pGK9aklVZ5N0UYcBh980tMyz7n30qjSOsKWpijqd2NPNBSauvZGG5Fn4IKugEx4X+Gkx6upLgZrIa4tgR0yJ8hRl1mR0B24zXyODMSMGV+JWMKnhlsmiYReBLvhCK+JliaN/eSIXxmYR8crySaZ5Rf/wU2d9btuRjHd8FqYNVxey7juXNXSzngmUAXVwagL3yH/gZvYhNXZU5/vwSXKe3kofzGzj1eAN6i3WRBySV7RBZDsbD4Hu6bZTaZUw/h6TpHDNDEqjcBTK1lVXNaWRLYe/EP/YRBZCf0zNZVmjN3rXrZLB2o9Pw8IcVqs+7R5pIrf1HTpZXJegdinR5mvE587s8LUrUZguZZjGwRVAuL7MUMTh3WBKv6bHgzOs9THK1o3F9baSmR2v/7PYXA0FJfT71c5i7Nb8V1+G6J2ydeRYNjVZBR0xAr2LH4yUF17f6XkKUyklzM0j42Pw8GMYhuiawVeKaNdRGb8S6dE+lXEWt1v6nmAK6Go0Syzw8GLsElXPUoKMiJehugOEw327H6PrSzJ2EAB9lLFlOv40+si0P/N5kznEmAX8KlEaVMeT65Hjon1HhbtpFd1K+a3T4WEljM2wsNrgNCuXnBWVRUctKR/ks3SSySN3ywTfVFQ0lzD6tEumlwK53HoXa6ElT1hp/CdX+AHcrr/ZQ9uWiOe4V6Fxb8ajZ3GAz0sJEtJS4rNP+4Q+PM6VPwkIk7fjGe7YP+8wwfSmch63berhYpO5ipW6JqnuAYOEIgR0Bp2238al+eeLekjUaGmjvzzUpjcNMZY6bo4+D6MmzqlxY5gzSZXq65kRy10JTXArelRVJxOFDHqtrwsCS+PvYJjonM5/50nZL066wGlLig6Y0Z78nvzDxWRgB\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":9,\"cache_creation_input_tokens\":387,\"cache_read_input_tokens\":57037,\"cache_creation\":{\"ephemeral_5m_input_tokens\":387,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":1,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwQk6AwkatWmsXPkp2w\",\"type\":\"assistant\",\"uuid\":\"ddf1bb2c-6094-49a0-b8c5-1f8dda1de546\",\"timestamp\":\"2026-01-18T01:00:26.459Z\"}\n{\"parentUuid\":\"ddf1bb2c-6094-49a0-b8c5-1f8dda1de546\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_0197YFw2SvSFZJUpfumRWaro\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_01HAHrVgktG5KzsVwexJLJrY\",\"name\":\"TodoWrite\",\"input\":{\"todos\":[{\"content\":\"Upload new character sheet template image\",\"status\":\"completed\",\"activeForm\":\"Uploading template\"},{\"content\":\"Update style guide recipe with V1 template\",\"status\":\"in_progress\",\"activeForm\":\"Updating style guide recipe\"},{\"content\":\"Test character sheet with new prompt\",\"status\":\"pending\",\"activeForm\":\"Testing new prompt\"}]}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":9,\"cache_creation_input_tokens\":387,\"cache_read_input_tokens\":57037,\"cache_creation\":{\"ephemeral_5m_input_tokens\":387,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":336,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwQk6AwkatWmsXPkp2w\",\"type\":\"assistant\",\"uuid\":\"96577318-9ad6-462c-ac82-0ae895c0f219\",\"timestamp\":\"2026-01-18T01:00:28.669Z\"}\n{\"parentUuid\":\"96577318-9ad6-462c-ac82-0ae895c0f219\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"tool_use_id\":\"toolu_01HAHrVgktG5KzsVwexJLJrY\",\"type\":\"tool_result\",\"content\":\"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable\"}]},\"uuid\":\"9123d0d5-595f-478f-8672-45d534b7f535\",\"timestamp\":\"2026-01-18T01:00:28.761Z\",\"toolUseResult\":{\"oldTodos\":[{\"content\":\"Updated Stage 1 prompt with new detailed template\",\"status\":\"completed\",\"activeForm\":\"Updated prompt\"},{\"content\":\"Upload new character sheet template image\",\"status\":\"in_progress\",\"activeForm\":\"Uploading template\"},{\"content\":\"Test character sheet with new prompt\",\"status\":\"pending\",\"activeForm\":\"Testing new prompt\"}],\"newTodos\":[{\"content\":\"Upload new character sheet template image\",\"status\":\"completed\",\"activeForm\":\"Uploading template\"},{\"content\":\"Update style guide recipe with V1 template\",\"status\":\"in_progress\",\"activeForm\":\"Updating style guide recipe\"},{\"content\":\"Test character sheet with new prompt\",\"status\":\"pending\",\"activeForm\":\"Testing new prompt\"}]},\"sourceToolAssistantUUID\":\"96577318-9ad6-462c-ac82-0ae895c0f219\"}\n{\"parentUuid\":\"9123d0d5-595f-478f-8672-45d534b7f535\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01SAHib8k7AEh2Ls4Uozo9n4\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"Good! Now I need to update the style guide recipe with the V1 template. According to the summary, the user provided a detailed JSON prompt for \\\"Visual_Style_Guide_Grid_Template_V1\\\" that needs to handle both image input and text input.\\n\\nThe style guide recipe starts at line 2317. Let me read it first:\",\"signature\":\"EtYDCkYICxgCKkAxFca0gF+HxoOon8ktaRwPPb4kRjcjA9Q8ei0+g9o+p/rnZdBCQ3/uwa6jC4h3RZ88cr9DwFCHmjmecGcFzrYfEgzKS9Zgxl2joQY9L6gaDBIFqiaLroYL9WfFTiIwTBNsKgAU4j1OErgsgHttAvVM8RYgPdxnjvEc8Gwi5JePDiAH0fiphaA4flxb3fc9Kr0C7VhTLPzU5EOzWd+VxSF2wncoT5IhsJl+lYzQJKge2wYMucDkx6JH2Y7nivz+HRkvhnqKLu1E+UyXTHspm2+EeS209hA0b3SdRYTtiaqrmvHrNU9vsLZC/G5PRixuVzqZR6+HS4DV62D3LaOtQOEox9rzjRBK4nfCwcqI4HfMW1XbFI0mFPeaoT6TEyyZbvEl6RP4nUhzxOoFfoDhDkSfWdqeuEH+m0RctkiZUPrfbOy7yUBYDWx/NSaVyc8yTSqKXdH2yzkzEmveETUyMunQdpoi5HWL06ukK6vO0SKlf6dwFpOAK4dOQEKox9NbaSdmWA1YGsZ5rrVd3nBMODz6cXbW/IKDKFVDQPhNKUq4QaauK1Jc+u7e/+8MRF9w/zqQ+42aBm8zFwb7R6ApBpjyM0FS9NEUZfu3sshTEv4YAQ==\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":9,\"cache_creation_input_tokens\":347,\"cache_read_input_tokens\":57424,\"cache_creation\":{\"ephemeral_5m_input_tokens\":347,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":1,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwRPbARg2NGonZrR8rP\",\"type\":\"assistant\",\"uuid\":\"21c47cc7-2bae-465c-8c89-bdf056d3cbe0\",\"timestamp\":\"2026-01-18T01:00:33.346Z\"}\n{\"parentUuid\":\"21c47cc7-2bae-465c-8c89-bdf056d3cbe0\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01SAHib8k7AEh2Ls4Uozo9n4\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_01EcyTyvCXZXMDu5PuEea8sV\",\"name\":\"Read\",\"input\":{\"file_path\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts\",\"offset\":2315,\"limit\":60}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":9,\"cache_creation_input_tokens\":347,\"cache_read_input_tokens\":57424,\"cache_creation\":{\"ephemeral_5m_input_tokens\":347,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":195,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwRPbARg2NGonZrR8rP\",\"type\":\"assistant\",\"uuid\":\"5c1f4e7c-7b91-44b1-92cb-ccee7f00e66e\",\"timestamp\":\"2026-01-18T01:00:34.356Z\"}\n{\"parentUuid\":\"5c1f4e7c-7b91-44b1-92cb-ccee7f00e66e\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"type\":\"user\",\"message\":{\"role\":\"user\",\"content\":[{\"tool_use_id\":\"toolu_01EcyTyvCXZXMDu5PuEea8sV\",\"type\":\"tool_result\",\"content\":\"  2315→  },\\n  2316→\\n  2317→  // Storybook Style Guide (system recipe)\\n  2318→  {\\n  2319→    name: 'Storybook Style Guide',\\n  2320→    description: '6-tile visual style guide for children\\\\'s books',\\n  2321→    recipeNote: 'Used by storybook feature to generate art style reference',\\n  2322→    stages: [\\n  2323→      {\\n  2324→        id: generateStageId(),\\n  2325→        order: 0,\\n  2326→        type: 'generation',\\n  2327→        template: `Create a visual style guide as a 6-image grid (2 rows × 3 columns) in <<STYLE_NAME:text!>> style.\\n  2328→\\n  2329→CRITICAL: Separate each cell with a SOLID BLACK LINE (4-6 pixels wide).\\n  2330→\\n  2331→<<STYLE_DESCRIPTION:text>>\\n  2332→\\n  2333→THE 6 TILES (2x3 grid):\\n  2334→1. CHARACTER CLOSE-UP: A child character headshot, warm studio lighting, 3/4 view\\n  2335→2. ACTION SCENE: A different character in dynamic pose, motion blur background\\n  2336→3. ENVIRONMENT DETAIL: Interior scene, afternoon light through windows\\n  2337→4. CHARACTER INTERACTION: Two diverse characters (different ethnicities/appearances) in conversation\\n  2338→5. DYNAMIC POSE: Character in athletic stance, dramatic angle\\n  2339→6. SET/LOCATION DESIGN: Exterior establishing shot with background characters of varied appearances\\n  2340→\\n  2341→DIVERSITY REQUIREMENTS:\\n  2342→- Use diverse characters with different ethnicities, skin tones, and appearances\\n  2343→- Show variety in hair colors, styles, and physical features\\n  2344→- Include both male and female characters across the tiles\\n  2345→- Make each character visually distinct and unique\\n  2346→\\n  2347→Output a 16:9 image with exactly 6 tiles (2 rows x 3 columns) separated by black lines.\\n  2348→<<STYLE_NAME:text!>> style throughout all tiles.`,\\n  2349→        fields: [],\\n  2350→        referenceImages: [],\\n  2351→      },\\n  2352→    ],\\n  2353→    suggestedAspectRatio: '16:9',\\n  2354→    suggestedModel: 'nano-banana-pro',\\n  2355→    isQuickAccess: false,\\n  2356→    categoryId: 'storybook',\\n  2357→    isSystem: true,\\n  2358→    isSystemOnly: true,\\n  2359→  },\\n  2360→\\n  2361→  // Storybook Page (First) - Optimized for story opening\\n  2362→  {\\n  2363→    name: 'Storybook Page (First)',\\n  2364→    description: 'Generate the opening page illustration for a children\\\\'s book story',\\n  2365→    recipeNote: 'Used by storybook feature for first pages. Optimized for story opening - no previous context needed.',\\n  2366→    stages: [\\n  2367→      {\\n  2368→        id: generateStageId(),\\n  2369→        order: 0,\\n  2370→        type: 'generation',\\n  2371→        template: `Create an engaging opening illustration for this children's book story.\\n  2372→\\n  2373→STORY OPENING:\\n  2374→\\n\\n<system-reminder>\\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\\n</system-reminder>\\n\"}]},\"uuid\":\"69ce9ccd-9b44-4b14-9f2e-ebe86d707bf7\",\"timestamp\":\"2026-01-18T01:00:35.897Z\",\"toolUseResult\":{\"type\":\"text\",\"file\":{\"filePath\":\"D:\\\\git\\\\directors-palette-v2\\\\src\\\\features\\\\shot-creator\\\\types\\\\recipe.types.ts\",\"content\":\"  },\\n\\n  // Storybook Style Guide (system recipe)\\n  {\\n    name: 'Storybook Style Guide',\\n    description: '6-tile visual style guide for children\\\\'s books',\\n    recipeNote: 'Used by storybook feature to generate art style reference',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `Create a visual style guide as a 6-image grid (2 rows × 3 columns) in <<STYLE_NAME:text!>> style.\\n\\nCRITICAL: Separate each cell with a SOLID BLACK LINE (4-6 pixels wide).\\n\\n<<STYLE_DESCRIPTION:text>>\\n\\nTHE 6 TILES (2x3 grid):\\n1. CHARACTER CLOSE-UP: A child character headshot, warm studio lighting, 3/4 view\\n2. ACTION SCENE: A different character in dynamic pose, motion blur background\\n3. ENVIRONMENT DETAIL: Interior scene, afternoon light through windows\\n4. CHARACTER INTERACTION: Two diverse characters (different ethnicities/appearances) in conversation\\n5. DYNAMIC POSE: Character in athletic stance, dramatic angle\\n6. SET/LOCATION DESIGN: Exterior establishing shot with background characters of varied appearances\\n\\nDIVERSITY REQUIREMENTS:\\n- Use diverse characters with different ethnicities, skin tones, and appearances\\n- Show variety in hair colors, styles, and physical features\\n- Include both male and female characters across the tiles\\n- Make each character visually distinct and unique\\n\\nOutput a 16:9 image with exactly 6 tiles (2 rows x 3 columns) separated by black lines.\\n<<STYLE_NAME:text!>> style throughout all tiles.`,\\n        fields: [],\\n        referenceImages: [],\\n      },\\n    ],\\n    suggestedAspectRatio: '16:9',\\n    suggestedModel: 'nano-banana-pro',\\n    isQuickAccess: false,\\n    categoryId: 'storybook',\\n    isSystem: true,\\n    isSystemOnly: true,\\n  },\\n\\n  // Storybook Page (First) - Optimized for story opening\\n  {\\n    name: 'Storybook Page (First)',\\n    description: 'Generate the opening page illustration for a children\\\\'s book story',\\n    recipeNote: 'Used by storybook feature for first pages. Optimized for story opening - no previous context needed.',\\n    stages: [\\n      {\\n        id: generateStageId(),\\n        order: 0,\\n        type: 'generation',\\n        template: `Create an engaging opening illustration for this children's book story.\\n\\nSTORY OPENING:\\n\",\"numLines\":60,\"startLine\":2315,\"totalLines\":3178}},\"sourceToolAssistantUUID\":\"5c1f4e7c-7b91-44b1-92cb-ccee7f00e66e\"}\n{\"parentUuid\":\"69ce9ccd-9b44-4b14-9f2e-ebe86d707bf7\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01TGLZNcN5jAYQhRZNfMcjvR\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"thinking\",\"thinking\":\"Good, I can see the current style guide recipe. Now I need to find the JSON prompt that the user provided in the conversation summary. According to the summary, the user provided \\\"Visual_Style_Guide_Grid_Template_V1\\\" JSON structure, but I don't have the actual content in the summary.\\n\\nLet me check the conversation transcript file mentioned in the summary to get the actual JSON prompt:\",\"signature\":\"EqwECkYICxgCKkC6p461AYu8bf9YTCVWuCmpVWc9+0O5mRy7ZBTz8mWR3ONJingZ3eNYYEijcbFe4FDMB9F1aQca92i8xA/hBW+SEgzpeD1hysgtYtE2/vsaDAot9VvSyCMRyjPYeiIwK2TQRNNfRWQBDDfERdFoLtgcMsvSXLpiMEfIS7efGA+fGVhdtS9sIh9FbjfYLFbZKpMDnnTfrEDXs/D1XfR4MzMl/WTwh4I1lK8UoPVrIaV2O+pF+2WgG1Ayj8CY26a2hN20oOWMslmvS9AP+be2tlPsBxaWIsQgMz+3MrlQSq+jOpLOI9tGGGGqSDOcwaSf5vu/HyRxiv6HCUX88ujm8A9tj2JHgIwitS3m58UFgl3CrSft6MXIwtdvkwHZS/ZLA1PyplDbDtf12Nu7ECXa1CJg3aBi51QJBZGQJqSkrLyuIJk/cHboaK0V3nKweuFJ6Bw/95Xo8fF51wOuAU9q+6vgdqMeYJPv1JoeyTkhndDn73xvF2EmmvoPUMLQGX1qU3PW5nyPKq5iO8ohjbrbKwtgmRV+UOdAa+4JcMijUvQdHDpn6beTX1yNh5EGy163H71RTk353ZSdmKeMiLI792kGMMx560LaD5Q7P2+maYln4KTzkrRzjJCuNLdKhATMsrFsJY7iELBiguU1uGtPOxam5qSYuv/wu2Q2VK7VVkbR4i2N6JE22hIo1ywtps7jImTVOnljrQTuizXazWtxq5mnPCrNjxgB\"}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":9,\"cache_creation_input_tokens\":1168,\"cache_read_input_tokens\":57771,\"cache_creation\":{\"ephemeral_5m_input_tokens\":1168,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":1,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwRv3VPycabeUjWMhU2\",\"type\":\"assistant\",\"uuid\":\"8df11bbc-c132-453f-8646-dc5729b2971d\",\"timestamp\":\"2026-01-18T01:00:41.671Z\"}\n{\"parentUuid\":\"8df11bbc-c132-453f-8646-dc5729b2971d\",\"isSidechain\":false,\"userType\":\"external\",\"cwd\":\"D:\\\\git\\\\directors-palette-v2\",\"sessionId\":\"a5b75619-5d86-43b0-80aa-b51726526ecf\",\"version\":\"2.1.7\",\"gitBranch\":\"main\",\"slug\":\"mossy-frolicking-feigenbaum\",\"message\":{\"model\":\"claude-sonnet-4-5-20250929\",\"id\":\"msg_01TGLZNcN5jAYQhRZNfMcjvR\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[{\"type\":\"tool_use\",\"id\":\"toolu_01KeZqVvsq53S2v5fabPUQHC\",\"name\":\"Bash\",\"input\":{\"command\":\"tail -200 \\\"C:\\\\Users\\\\taskm\\\\.claude\\\\projects\\\\D--git-directors-palette-v2\\\\a5b75619-5d86-43b0-80aa-b51726526ecf.jsonl\\\" | grep -A 100 \\\"Visual_Style_Guide\\\"\",\"description\":\"Search transcript for style guide template JSON\"}}],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":9,\"cache_creation_input_tokens\":1168,\"cache_read_input_tokens\":57771,\"cache_creation\":{\"ephemeral_5m_input_tokens\":1168,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":234,\"service_tier\":\"standard\"}},\"requestId\":\"req_011CXDwRv3VPycabeUjWMhU2\",\"type\":\"assistant\",\"uuid\":\"b40cdb9d-9326-4a83-beb9-3c37ab92b164\",\"timestamp\":\"2026-01-18T01:00:44.653Z\"}\r","stderr":"","interrupted":false,"isImage":false},"sourceToolAssistantUUID":"b40cdb9d-9326-4a83-beb9-3c37ab92b164"}
{"parentUuid":"f635663e-6cc7-49b6-9656-822865501109","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01DQwf4XidKUcv9Qhkkd4a24","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"The output is too large. Let me read the saved file instead:","signature":"EuQBCkYICxgCKkD54xJAYvoVDVgyjENhi0pKRPlR+jEHQrZTc2L9xGVHTKqC+Sftmdq2lRGAC2McOxA8P5Ug7ZRqnU1TYA2R/s8fEgzlwl4tWuOImgCnfoQaDMOgNskqvG0Do8Ua+SIwogJV9AgDGC1hvf0OuRiXvr/oUCsU5lgxM4rjkDY7Q9Mlb+AnciQ4YTK8K9GddVuDKkxB+sikMcwJETMKRjGQQvcqtIJWFComOfDWczFJokrN1XvhoCfw17m+QeVHgQyW4uTdLVkOgGirJ/fyEAmNut3npa0qUgD4EMcjO1WRGAE="}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":8,"cache_creation_input_tokens":987,"cache_read_input_tokens":58939,"cache_creation":{"ephemeral_5m_input_tokens":987,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CXDwTeNxwnGjKERfH9eXf","type":"assistant","uuid":"432083d6-818f-4de9-aa69-b35e32868ae9","timestamp":"2026-01-18T01:01:02.654Z"}
{"parentUuid":"432083d6-818f-4de9-aa69-b35e32868ae9","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01DQwf4XidKUcv9Qhkkd4a24","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Kixh8HVEPRv6ym6DZeT9Lx","name":"Read","input":{"file_path":"C:\\Users\\taskm\\.claude\\projects\\D--git-directors-palette-v2\\a5b75619-5d86-43b0-80aa-b51726526ecf\\tool-results\\toolu_01KeZqVvsq53S2v5fabPUQHC.txt","limit":100}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":8,"cache_creation_input_tokens":987,"cache_read_input_tokens":58939,"cache_creation":{"ephemeral_5m_input_tokens":987,"ephemeral_1h_input_tokens":0},"output_tokens":165,"service_tier":"standard"}},"requestId":"req_011CXDwTeNxwnGjKERfH9eXf","type":"assistant","uuid":"f45f2178-40f3-4d05-891b-710a3558c1a5","timestamp":"2026-01-18T01:01:03.526Z"}
{"parentUuid":"f45f2178-40f3-4d05-891b-710a3558c1a5","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","type":"user","message":{"role":"user","content":[{"type":"tool_result","content":"File content (612.4KB) exceeds maximum allowed size (256KB). Please use offset and limit parameters to read specific portions of the file, or use the GrepTool to search for specific content.","is_error":true,"tool_use_id":"toolu_01Kixh8HVEPRv6ym6DZeT9Lx"}]},"uuid":"0d9b057a-95e9-4b86-8b54-366c93de37f7","timestamp":"2026-01-18T01:01:04.606Z","toolUseResult":"Error: File content (612.4KB) exceeds maximum allowed size (256KB). Please use offset and limit parameters to read specific portions of the file, or use the GrepTool to search for specific content.","sourceToolAssistantUUID":"f45f2178-40f3-4d05-891b-710a3558c1a5"}
{"parentUuid":"0d9b057a-95e9-4b86-8b54-366c93de37f7","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01531qb3HbsT81yNo5efvMaS","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"Let me try a different approach - search for the JSON in the last few messages of the transcript:","signature":"EokCCkYICxgCKkBi7yn0cA60wQZi2TWyqAujI8VZHIzDf+HNqHDW8J05LPEP5bhWx6x2ZFwoqDlPwhjLTSWP+zhHAN+E+WEdfqhPEgyqn2LnbQkwK+JTq44aDMvoOrq9whOLhv7sGSIwRxD/jK07wBdLK7D70yHQSDoD6kFVz1ow8/lBvfkkNFtxw3ByViop0A3yTSui7W8ZKnHTNvkDZjVKiC8tE1W65Qd+/e9JKcJVDLgQENpIOIXIEyh2NPD9b0l6kbMhNhzUmNrc5tAnmhYquCqSeop6oac0i6OZm98xk8FrjJ6ecWvhDyy3K8hVsebSuZ4hYj56FCC3ECHKtYEZs54AyWRu6gZ8uRgB"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":9,"cache_creation_input_tokens":234,"cache_read_input_tokens":59926,"cache_creation":{"ephemeral_5m_input_tokens":234,"ephemeral_1h_input_tokens":0},"output_tokens":4,"service_tier":"standard"}},"requestId":"req_011CXDwU1poeZmzoZDTWzbzv","type":"assistant","uuid":"06573e86-ea02-4e91-8887-67e8c06e856c","timestamp":"2026-01-18T01:01:07.744Z"}
{"parentUuid":"06573e86-ea02-4e91-8887-67e8c06e856c","isSidechain":false,"userType":"external","cwd":"D:\\git\\directors-palette-v2","sessionId":"a5b75619-5d86-43b0-80aa-b51726526ecf","version":"2.1.7","gitBranch":"main","slug":"mossy-frolicking-feigenbaum","message":{"model":"claude-sonnet-4-5-20250929","id":"msg_01531qb3HbsT81yNo5efvMaS","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01FvPkqZSWqk9XPxSFUS1bQH","name":"Bash","input":{"command":"tail -50 \"C:\\Users\\taskm\\.claude\\projects\\D--git-directors-palette-v2\\a5b75619-5d86-43b0-80aa-b51726526ecf.jsonl\" > temp_last_messages.txt && cat temp_last_messages.txt","description":"Get last 50 lines of transcript"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":9,"cache_creation_input_tokens":234,"cache_read_input_tokens":59926,"cache_creation":{"ephemeral_5m_input_tokens":234,"ephemeral_1h_input_tokens":0},"output_tokens":174,"service_tier":"standard"}},"requestId":"req_011CXDwU1poeZmzoZDTWzbzv","type":"assistant","uuid":"dd539dc6-c411-4599-9b4c-6bd1a12d9fe1","timestamp":"2026-01-18T01:01:09.291Z"}
