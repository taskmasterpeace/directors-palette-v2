{
  "file_path": "src/features/wildcards/components/WildcardSidebar.tsx",
  "main_branch_history": [],
  "task_views": {
    "006-wildcard-import-export-functionality": {
      "task_id": "006-wildcard-import-export-functionality",
      "branch_point": {
        "commit_hash": "147deb275c64cfce8054c292e2f81e1367043c64",
        "content": "'use client'\n\nimport { useEffect } from 'react'\nimport { Plus, FileText } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { ScrollArea } from '@/components/ui/scroll-area'\nimport { useWildCardStore } from '@/features/shot-creator/store/wildcard.store'\nimport { useWildcardsBrowserStore } from '../store'\nimport { cn } from '@/utils/utils'\n\nexport function WildcardSidebar() {\n    const { wildcards, loadWildCards, isLoading } = useWildCardStore()\n    const {\n        selectedWildcardId,\n        setSelectedWildcardId,\n        setIsCreatingNew,\n        loadDraft,\n        resetDraft,\n    } = useWildcardsBrowserStore()\n\n    // Load wildcards on mount\n    useEffect(() => {\n        loadWildCards()\n    }, [loadWildCards])\n\n    const handleSelectWildcard = (wildcard: typeof wildcards[0]) => {\n        setSelectedWildcardId(wildcard.id)\n        setIsCreatingNew(false)\n        loadDraft(\n            wildcard.name,\n            wildcard.content,\n            wildcard.category || '',\n            wildcard.description || ''\n        )\n    }\n\n    const handleCreateNew = () => {\n        resetDraft()\n        setIsCreatingNew(true)\n        setSelectedWildcardId(null)\n    }\n\n    return (\n        <div className=\"flex flex-col h-full border-r border-border\">\n            {/* Header with Create Button */}\n            <div className=\"p-3 border-b border-border\">\n                <Button\n                    onClick={handleCreateNew}\n                    className=\"w-full bg-primary hover:bg-primary/90 text-primary-foreground\"\n                    size=\"sm\"\n                >\n                    <Plus className=\"w-4 h-4 mr-2\" />\n                    New Wildcard\n                </Button>\n            </div>\n\n            {/* Wildcard List */}\n            <ScrollArea className=\"flex-1\">\n                <div className=\"p-2 space-y-1\">\n                    {isLoading ? (\n                        <div className=\"flex items-center justify-center py-8\">\n                            <div className=\"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin\" />\n                        </div>\n                    ) : wildcards.length === 0 ? (\n                        <div className=\"text-center py-8 text-muted-foreground text-sm\">\n                            <FileText className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\n                            <p>No wildcards yet</p>\n                            <p className=\"text-xs mt-1\">Create your first one!</p>\n                        </div>\n                    ) : (\n                        wildcards.map((wildcard) => {\n                            const lineCount = wildcard.content.split('\\n').filter(l => l.trim()).length\n                            return (\n                                <button\n                                    key={wildcard.id}\n                                    onClick={() => handleSelectWildcard(wildcard)}\n                                    className={cn(\n                                        \"w-full text-left px-3 py-2 rounded-lg transition-colors\",\n                                        \"hover:bg-accent/10\",\n                                        selectedWildcardId === wildcard.id\n                                            ? \"bg-primary/20 border border-primary/30\"\n                                            : \"border border-transparent\"\n                                    )}\n                                >\n                                    <div className=\"font-medium text-sm truncate\">\n                                        {wildcard.name}\n                                    </div>\n                                    <div className=\"text-xs text-muted-foreground flex items-center gap-2 mt-0.5\">\n                                        <span>{lineCount} entries</span>\n                                        {wildcard.category && (\n                                            <>\n                                                <span>\u2022</span>\n                                                <span className=\"truncate\">{wildcard.category}</span>\n                                            </>\n                                        )}\n                                    </div>\n                                </button>\n                            )\n                        })\n                    )}\n                </div>\n            </ScrollArea>\n        </div>\n    )\n}\n",
        "timestamp": "2025-12-25T03:10:36.821114"
      },
      "worktree_state": null,
      "task_intent": {
        "title": "006-wildcard-import-export-functionality",
        "description": "Add JSON import and export capabilities for wildcards, enabling users to backup their custom wildcards and share them with the community. Follows the same pattern as the existing usePromptImportExport.ts hook.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2025-12-25T03:10:30.155181",
  "last_updated": "2025-12-25T03:10:37.023829"
}