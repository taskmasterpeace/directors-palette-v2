{
  "project_name": "Director's Palette v2",
  "project_type": "web-app",
  "tech_stack": {
    "primary_language": "TypeScript",
    "frameworks": ["Next.js 15.5", "React 19.1", "Tailwind CSS v4", "shadcn/ui", "Radix UI"],
    "key_dependencies": [
      "Supabase (auth, database, storage)",
      "Stripe (payments)",
      "Replicate API (AI image generation)",
      "Zustand (state management)",
      "Capacitor (mobile app support)",
      "Fabric.js (canvas/annotation)",
      "DnD Kit (drag and drop)",
      "Framer Motion (animations)"
    ]
  },
  "target_audience": {
    "primary_persona": "Creative professionals and storytellers who need to generate large numbers of consistent AI images for visual projects (storyboards, comics, visual novels, concept art)",
    "secondary_personas": [
      "Independent filmmakers doing pre-visualization",
      "Comic book creators needing character consistency across panels",
      "Visual novel developers creating character sprites and backgrounds",
      "Marketing teams creating visual content at scale",
      "Concept artists exploring multiple visual directions quickly"
    ],
    "pain_points": [
      "Maintaining character consistency across 100+ generated images is extremely difficult with standard AI tools",
      "No efficient way to batch generate sequential story shots",
      "Existing AI image tools lack workflow for visual storytelling projects",
      "Difficult to manage and organize large volumes of generated images",
      "Re-entering similar prompts repeatedly for variations is tedious",
      "No easy way to reference and reuse previously generated images in new prompts"
    ],
    "goals": [
      "Generate consistent character appearances across entire projects",
      "Quickly create complete visual storyboards from scripts",
      "Batch generate image variations efficiently",
      "Maintain organized galleries of project assets",
      "Create professional-quality concept art and pre-visualization materials",
      "Save time with reusable prompt templates and styles"
    ],
    "usage_context": "Used in professional or semi-professional creative workflow, typically at a desk or laptop, for projects requiring multiple related images. Sessions may be long (storyboard creation) or quick (single shot generation). Mobile access for reviewing generated content on-the-go."
  },
  "product_vision": {
    "one_liner": "Turn stories into images - Professional AI image generation with advanced prompt engineering for visual storytelling",
    "problem_statement": "Generating 100+ images for a story while keeping characters, locations, and style consistent is nearly impossible with existing AI image tools. Creative professionals waste hours on repetitive prompting and still struggle with character inconsistency.",
    "value_proposition": "Director's Palette provides a powerful prompting language (brackets for variations, pipes for sequences, wildcards for randomization, @references for image reuse) combined with a complete storyboard workflow that enables consistent, professional-quality visual storytelling at scale.",
    "success_metrics": [
      "Number of images generated per user session",
      "Character consistency scores across project images",
      "Project completion rates (storyboards finished vs abandoned)",
      "User retention and repeat usage",
      "Paid conversion rate from free tier",
      "Time saved vs manual prompting workflow"
    ]
  },
  "current_state": {
    "maturity": "mvp",
    "existing_features": [
      "Shot Creator with 6+ AI models (Nano Banana, Seedream-4, Gen4 Image, Gen4 Turbo, Qwen Image, Qwen Edit, GPT Image)",
      "Advanced prompt syntax (bracket variations, pipe sequences, wildcards, @references)",
      "Reference image management with tagging",
      "Custom style creation and management",
      "Complete 6-step storyboard workflow (Story, Style, Characters, Shots, Generate, Results)",
      "Shot Animator for image-to-video generation",
      "Layout and annotation canvas with Fabric.js",
      "Image gallery with search, filter, folders, and batch operations",
      "Credits/points payment system with Stripe integration",
      "User authentication (Supabase Auth)",
      "Admin dashboard (user management, credits, system recipes)",
      "Community features for sharing prompts",
      "Prompt templates and recipes system",
      "Wildcards system for dynamic prompts",
      "API keys management",
      "Mobile-responsive design with Capacitor support",
      "Comprehensive E2E test suite with Playwright"
    ],
    "known_gaps": [
      "Reference images not persisted to Supabase (only local storage)",
      "Gallery save functionality incomplete for mask editor",
      "File upload implementations incomplete in shot animator components",
      "Missing toast notifications in some error scenarios",
      "Prompt template file import not implemented",
      "Actual reference count not retrieved from library in autocomplete"
    ],
    "technical_debt": [
      "Multiple TODO/FIXME comments in shot-animator components for file upload logic",
      "Some hardcoded values that should be configurable",
      "Potential optimization needed for large gallery operations",
      "Community prompts table creation suggested in code"
    ]
  },
  "competitive_context": {
    "alternatives": [
      "Midjourney - Popular Discord-based AI image generation",
      "DALL-E / ChatGPT image generation - OpenAI's consumer offering",
      "Stable Diffusion web UIs (Automatic1111, ComfyUI) - Open source alternatives",
      "Leonardo.AI - Web-based AI image generation with some workflow features",
      "Runway ML - Video and image generation focused on creators",
      "Krea AI - Real-time image generation"
    ],
    "differentiators": [
      "Unique prompt syntax with bracket variations, pipe sequences, and wildcards for batch generation",
      "Dedicated storyboard workflow designed for visual storytelling projects",
      "Reference image system with @tags for character consistency",
      "Multiple AI model support (6+ models) in one interface",
      "Complete project-based workflow from script to final storyboard",
      "Pay-as-you-go credits system (no monthly subscription required)"
    ],
    "market_position": "Niche professional tool targeting serious creative users who need to generate large volumes of consistent images for storytelling projects. Positioned between consumer tools (Midjourney) and complex professional workflows (ComfyUI). Appeals to users who find consumer tools limiting but don't want to learn node-based interfaces.",
    "competitor_pain_points": [],
    "competitor_analysis_available": false
  },
  "constraints": {
    "technical": [
      "Dependent on Replicate API for AI image generation",
      "Requires Supabase for authentication and database",
      "Image generation speed limited by external API response times",
      "Storage costs scale with user-generated content",
      "Mobile functionality limited by Capacitor capabilities"
    ],
    "resources": [
      "Appears to be small team or solo developer project (based on git history)",
      "Machine King Labs branding suggests indie/startup organization",
      "Active development with frequent commits"
    ],
    "dependencies": [
      "Replicate API - Core image generation (REQUIRED)",
      "Supabase - Auth, database, storage (REQUIRED)",
      "Stripe - Payment processing (OPTIONAL but needed for monetization)",
      "OpenRouter/Google Generative AI - LLM features for story processing",
      "ElevenLabs API - Voice/audio features (OPTIONAL)"
    ]
  },
  "created_at": "2025-12-25T11:00:00Z"
}
